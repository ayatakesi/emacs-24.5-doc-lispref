<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title>Conventional Headers for Emacs Libraries</title><meta name="generator" content="DocBook XSL Stylesheets V1.79.1"/></head><body><div class="sect1"><div class="titlepage"><div><div><h1 class="title"><a id="Library-Headers"/>Conventional Headers for Emacs Libraries</h1></div></div></div><a id="idm84454096" class="indexterm"/><a id="idm84453328" class="indexterm"/><p>Emacsには、セクションに分割して、それの記述者のような情報を与えるために、Lispライブラリー内で特別なコメントを使用する慣習があります。それらのアイテムにたいして標準的なフォーマットを使用すれば、ツール(や人)か関連する情報を抽出するのが簡単になります。このセクションでは、以下の例を出発点にこれらの慣習を説明します。
</p><pre class="screen">;;; foo.el --- Support for the Foo programming language

;; Copyright (C) 2010-2015 Your Name
</pre><pre class="screen">
;; Author: Your Name &lt;yourname@example.com&gt;
;; Maintainer: Someone Else &lt;someone@example.com&gt;
;; Created: 14 Jul 2010
</pre><pre class="screen">;; Keywords: languages
;; Homepage: http://example.com/foo

;; This file is not part of GNU Emacs.

;; This file is free software…
…
;; along with this file.  If not, see &lt;http://www.gnu.org/licenses/&gt;.
</pre><p>一番最初の行は、以下のフォーマットをもつべきです:
</p><pre class="screen">;;; <em class="replaceable"><code>filename</code></em> --- <em class="replaceable"><code>description</code></em>
</pre><p>この説明は1行に収まる必要があります。そのファイルに‘<code class="literal">-*-</code>’指定が必要なら、<em class="replaceable"><code>description</code></em>の後に配置してください。これにより最初の行が長くなりすぎるようなら、そのファイル終端でLocal
Variablesセクションを使用してください。
</p><p>著作権表示には、(あなたがそのファイルを記述したなら)通常はあなたの名前をリストします。あなたの作業の著作権を主張する雇用者がいる場合には、かわりに彼らをリストする必要があるかもしれません。Emacsディストリビューションにあなたのファイルが受け入れられていなければ、著作権者がFree
Software Foundation(またはそのファイルがGNU
Emacsの一部)だと告げないでください。著作権とライセンス通知の形式に関するより詳細な情報は、<a class="ulink" href="http://www.gnu.org/licenses/gpl-howto.html">the guide on the GNU website</a>を参照してください。
</p><p>著作権表示の後は、それぞれが‘<code class="literal">;; <em class="replaceable"><code>header-name</code></em>:</code>’で始まる、複数の<em class="firstterm">ヘッダーコメント(header
comment)</em>を記述します。以下は、慣習的に利用できる<em class="replaceable"><code>header-name</code></em>のテーブルです:
</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">‘<code class="literal">Author</code>’
</span></dt><dd><p>この行は、その少なくともライブラリーの主要な作者の、名前とemailアドレスを示す。複数の作者がいる場合は、前に<code class="literal">;;</code>とタブか少なくとも2つのスペースがある継続行で、彼らをリストする。わたしたちは、‘<code class="literal">&lt;…&gt;</code>’という形式で連絡用emailアドレスを含めることを推奨する。たとえば:
</p><pre class="screen">;; Author: Your Name &lt;yourname@example.com&gt;
;;      Someone Else &lt;someone@example.com&gt;
;;      Another Person &lt;another@example.com&gt;
</pre></dd><dt><span class="term">‘<code class="literal">Maintainer</code>’
</span></dt><dd><p>このヘッダーは、Authorヘッダーと同じフォーマットである。これは、現在そのファイルを保守(バグレポートへの応答等)をする人(か人々)をリストする。
</p><p>Maintainerの行がなければ、Authorフィールドの人(人々)が、Maintainerとみなされる。Emacs内のいくつかのファイルは、Maintainerに‘<code class="literal">FSF</code>’を使用している。これは、そのファイルにたいしてオリジナル作者がもはや責任をもっておらず、Emacsの一部として保守されていることを意味する。
</p></dd><dt><span class="term">‘<code class="literal">Created</code>’
</span></dt><dd><p>このオプションの行は、そのファイルのオリジナルの作成日付を与えるもので、歴史的な興味のためだけにある。
</p></dd><dt><span class="term">‘<code class="literal">Version</code>’
</span></dt><dd><p>個々のLispプログラムにたいしてバージョン番号を記録したいなら、この行に配置する。Emacsとともに配布されたLispファイルは、Emacsのバージョン番号自体が同じ役割を果たすので、一般的には‘<code class="literal">Version</code>’ヘッダーをもたない。複数ファイルのコレクションを配布する場合には、各ファイルではなく、主となるファイルにバージョンを記述することを推奨する。
</p></dd><dt><span class="term">‘<code class="literal">Keywords</code>’
</span></dt><dd><p>この行は、ヘルプコマンド<code class="literal">finder-by-keyword</code>にたいするキーワードをリストする。意味のあるキーワードのリストを確認するために、このコマンドを使用してほしい。
</p><p>このフィールドは、トピックでパッケージを探す人が、あなたのパッケージを見つける手段となる。キーワードを分割するには、スペースとカンマの両方を使用できる。
</p><p>人はしばしばこのフィールドを、単にFinder(訳注:
<code class="literal">finder-by-keyword</code>がオープンするバッファー)に関連したキーワードではなく、そのパッケージを説明する任意のキーワードを記述する箇所だとみなすのは不運なことである。
</p></dd><dt><span class="term">‘<code class="literal">Homepage</code>’
</span></dt><dd><p>この行は、そのライブラリーのホームページを示す。
</p></dd><dt><span class="term">‘<code class="literal">Package-Version</code>’
</span></dt><dd><p>‘<code class="literal">Version</code>’がパッケージマネージャーによる使用に適切でなければ、パッケージは‘<code class="literal">Package-Version</code>’を定義できる。かわりにこれが使用される。これは‘<code class="literal">Version</code>’がRCSや<code class="literal">version-to-list</code>でパース不能な何かであるようなら、これが手軽である。<a class="link" href="ch40.html#Packaging-Basics" title="Packaging Basics">Packaging
Basics</a>を参照のこと。
</p></dd><dt><span class="term">‘<code class="literal">Package-Requires</code>’
</span></dt><dd><p>これが存在する場合には、カレントパッケージが正しく動作するために依存するパッケージを示す。<a class="link" href="ch40.html#Packaging-Basics" title="Packaging Basics">Packaging
Basics</a>を参照のこと。これは(パッケージの完全なセットがダウンロードされることを確実にするために)ダウンロード時と、(すべての依存パッケージがあるときだけパッケージがアクティブになることを確実にするために)アクティブ化の両方で、パッケージマネージャーにより使用される。
</p><p>これのフォーマットは、リストのリストである。サブリストそれぞれの<code class="literal">car</code>は、パッケージの名前(シンボル)、<code class="literal">cadr</code>は許容できる最小のバージョン番号(文字列)。たとえば:
</p><pre class="screen">;; Package-Requires: ((gnus "1.0") (bubbles "2.7.2"))
</pre><p>パッケージのコードは自動的に、実行中のEmacsのカレントのバージョン番号をもつ、‘<code class="literal">emacs</code>’という名前のパッケージを定義する。これは、パッケージが要求するEmacsの最小のバージョンに使用できる。
</p></dd></dl></div><p>ほぼすべてのLispライブラリーは、‘<code class="literal">Author</code>’と‘<code class="literal">Keywords</code>’のヘッダーコメント行をもつべきです。適切なら、他のものを使用してください。ヘッダー行内で、別のヘッダー行の名前も使用できます。これらは標準的な意味をもたないので、害になることを行うことはできません。
</p><p>わたしたちは、ライブラリーファイルのコンテンツを分割するために、追加の提携コメントを使用します。これらは空行で他のものと分離されている必要があります。以下はそれらのテーブルです:
</p><a id="idm84404816" class="indexterm"/><div class="variablelist"><dl class="variablelist"><dt><span class="term">‘<code class="literal">;;; Commentary:</code>’
</span></dt><dd><p>これは、そのライブラリーが機能する方法を説明する、概論コメントを開始する。これは複製許諾の直後にあり‘<code class="literal">Change
Log</code>’、‘<code class="literal">History</code>’、‘<code class="literal">Code</code>’のコメント行で終端されていること。このテキストはFinderパッケージで使用されるので、そのコンテキスト内で有意であること。
</p></dd><dt><span class="term">‘<code class="literal">;;; Change Log:</code>’
</span></dt><dd><p>これは、時間とともにそのファイルに加えられた、オプションの変更ロクを開始する。このセクションに過剰な情報を配してはならない。(Emacsが行うように)バージョンコントロールシステムの詳細ログや、個別の<code class="filename">ChangeLog</code>ファイルに留めるほうがよい。‘<code class="literal">History</code>’は、‘<code class="literal">Change
Log</code>’の代替えである。
</p></dd><dt><span class="term">‘<code class="literal">;;; Code:</code>’
</span></dt><dd><p>これは、そのプログラムの実際のコードを開始する。
</p></dd><dt><span class="term">‘<code class="literal">;;; <em class="replaceable"><code>filename</code></em> ends here</code>’
</span></dt><dd><p>これは<em class="firstterm">フッター行(footer
line)</em>である。これはそのファイルの終端にある。これの目的は、フッター行の欠落から、人がファイルの切り詰められたバージョンを検知することを可能にする。
</p></dd></dl></div></div></body></html>