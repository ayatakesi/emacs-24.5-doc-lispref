<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title>Chapter 2. Lisp Data Types</title><meta name="generator" content="DocBook XSL Stylesheets V1.79.1"/></head><body><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a id="Lisp-Data-Types"/>Chapter 2. Lisp Data Types</h1></div></div></div><a id="idm47508816" class="indexterm"/><a id="idm47508048" class="indexterm"/><a id="idm47507280" class="indexterm"/><a id="idm47506512" class="indexterm"/><p>Lispの<em class="firstterm">オブジェクト(object)</em>とは、Lispおプログラムにより操作されるデータです。<em class="firstterm">型(type)</em>や<em class="firstterm">データ型(data
type)</em>は、可能なオブジェクトの集合を意味します。
</p><p>すべてのオブジェクトは少なくとも1つの型に属します。同じ型のオブジェクトは、同様な構造をもち、通常は同じコンテキストで使用されます。型は重複でき、オブジェクトは複数の型に属することができます。結果として、あるオブジェクトが特定の型に属するかどうかを尋ねることはできますが、オブジェクトが“その”型だけに属するかどうかは決定できません。
</p><a id="idm47503824" class="indexterm"/><p>多くはありませんがEmacsにはいくつかの基本オブジェクト型が組み込まれています。これらの型は、他のすべての型を構成するもとであり、<em class="firstterm">基本型(primitive
types)</em>と呼ばれます。すべてのオブジェクトはただ1つの基本型に属します。これらの型には、<em class="firstterm">整数(integer)</em>、<em class="firstterm">浮動小数点数(float)</em>、<em class="firstterm">コンス(cons)</em>、<em class="firstterm">シンボル(symbol)</em>、<em class="firstterm">文字列(string)</em>、<em class="firstterm">ベクター(vector)</em>、<em class="firstterm">ハッシュテーブル(hash-table)</em>、<em class="firstterm">サブルーチン(subr)</em>、<em class="firstterm">バイトコード関数(byte-code
function)</em>、および<em class="firstterm">buffer</em>のような編集に関連した特別な型(<a class="link" href="ch03s04.html" title="Editing Types">Editing
Types</a>を参照してください)が含まれます。
</p><p>基本型にはそれぞれ、オブジェクトがその型のメンバーかどうかのチェックを行なう、対応するLisp関数があります。
</p><p>他の多くの言語とは異なり、Lispのオブジェクトは<em class="firstterm">自己記述(self-typing)</em>的です。オブジェクトの基本型は、オブジェクト自体に暗に含まれます。たとえばオブジェクトがベクターの場合、それを数字として扱うことはできません。Lispはベクターが数字でないことを知っているのです。
</p><p>多くの言語では、プログラマーは各変数にたいしてデータ型を宣言しなければならず、コンパイラーは型を知っていますが、データの中に型はありません。Emacs
Lispには、このような型宣言はありません。Lisp変数は任意の型の値をもつことができ、変数に保存した値と型を記憶します(実際には、特定の型の値だけをもつことができる少数のEmacs
Lisp変数があります。<a class="link" href="ch12s14.html" title="Variables with Restricted Values">Variables with Restricted Values</a>を参照してください)。
</p><p>このチャプターでは、GNU Emacs Lispの各標準型の意味、プリント表現(printed representation)、入力構文(read
syntax)を説明します。これらのデータ型を使用する方法についての詳細は、以降のチャプターを参照してください。
</p><div class="sect1"><div class="titlepage"><div><div><h1 class="title"><a id="Printed-Representation"/>Printed Representation and Read Syntax</h1></div></div></div><a id="idm47482192" class="indexterm"/><a id="idm47477328" class="indexterm"/><p>オブジェクトのプリント表現(printed
representation)とは、オブジェクトにたいしてLispプリンター(関数<code class="literal">prin1</code>)が生成する出力のフォーマットです。すべてのデータ型は一意なプリント表現をもちます。オブジェクトの<em class="firstterm">入力構文(read
syntax)</em>とは、オブジェクトにたいしてLispリーダー(関数<code class="literal">read</code>)が受け取る入力のフォーマットです。これは一意である必要はありません。多くの種類のオブジェクトが複数の構文をもちます。<a class="link" href="ch19.html" title="Chapter 18. Reading and Printing Lisp Objects">Read
and Print</a>を参照してください。
</p><a id="idm47474256" class="indexterm"/><p>ほとんどの場合、オブジェクトのプリント表記が、入力構文としても使用されます。しかしLispプログラム内の定数とすることに意味が無いいくつかの型には、入力構文がありません。これらのオブジェクトは<em class="firstterm">ハッシュ表記(hash
notation)</em>でプリントされ、‘<code class="literal">#&lt;</code>’、説明的な文字列(典型的には型名にオブジェクトの名前を続けたもの)、‘<code class="literal">&gt;</code>’で構成される文字列です。たとえば:
</p><pre class="screen">(current-buffer)
     ⇒ #&lt;buffer objects.texi&gt;
</pre><p>ハッシュ表気は読み取ることができないので、Lispリーダーは‘<code class="literal">#&lt;</code>’に遭遇すると、常にエラー<code class="literal">invalid-read-syntax</code>をシグナルします。
<a id="idm47469904" class="indexterm"/>
</p><p>他の言語では、式はテキストであり、これ以外の形式はありません。Lispでは、第一に式はLispオブジェクトであって、オブジェクトの入力構文であるテキストは副次的なものに過ぎません。たいてい、この違いを強調する必要はありませんが、このことを心に留めておかないと、たまに混乱することがあるでしょう。
</p><p>インタラクティブに式を評価するとき、Lispインタープリターは最初にそれのテキスト表現を読み取り、Lispオブジェクトを生成してから、そのオブジェクトを評価します(<a class="link" href="ch10.html" title="Chapter 9. Evaluation">Evaluation</a>を参照してください)。しかし評価と読み取りは、別の処理です。読み取りによりテキストにより表現されたLispオブジェクトを読み取り、Lispオブジェクトがreturnされます。後でオブジェクトは評価されるかもしれないし、評価されないかもしれません。オブジェクトを読み取るための基本的な関数<code class="literal">read</code>の説明は、<a class="link" href="ch19s03.html" title="Input Functions">Input
Functions</a>を参照してください。
</p></div></div></body></html>