<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title>Arithmetic Operations</title><meta name="generator" content="DocBook XSL Stylesheets V1.79.1"/></head><body><div class="sect1"><div class="titlepage"><div><div><h1 class="title"><a id="Arithmetic-Operations"/>Arithmetic Operations</h1></div></div></div><a id="idm40442704" class="indexterm"/><p>Emacs
Lispは伝統的な4つの算術演算(加減乗除)、同様に剰余とmodulusの関数、および1加算、1減算の関数を提供します。<code class="literal">%</code>を除き、これらの各関数は引き数として整数か浮動小数を受け取り、浮動小数の引数がある場合は、浮動小数点数をreturnします。
</p><p>Emacs Lispの算術関数は整数のオーバーフローをチェックしません。したがって<code class="literal">(1+
536870911)</code>は−536870912に評価されるかもしれず、それはハードウェアーに依存します。
</p><pre class="synopsis"><a id="idm40427600" class="indexterm"/><span class="category"><span class="bold"><strong>Function</strong></span>:</span> <code class="function">1+</code> <em class="replaceable"><code>number-or-marker</code></em></pre><div class="blockquote"><blockquote class="blockquote"><p>この関数は<em class="replaceable"><code>number-or-marker</code></em> + 1をreturnします。例えば、
</p><pre class="screen">(setq foo 4)
     ⇒ 4
(1+ foo)
     ⇒ 5
</pre><p>この関数はCの演算子<code class="literal">++</code>とは類似しません —
この関数は変数をインクリメントしません。この関数は和を計算するだけです、したがって以下を続けて評価すると、
</p><pre class="screen">foo
     ⇒ 4
</pre><p>変数をインクリメントしたい場合は、以下のように<code class="literal">setq</code>を使用しなければなりません:
</p><pre class="screen">(setq foo (1+ foo))
     ⇒ 5
</pre></blockquote></div><pre class="synopsis"><a id="idm40420688" class="indexterm"/><span class="category"><span class="bold"><strong>Function</strong></span>:</span> <code class="function">1-</code> <em class="replaceable"><code>number-or-marker</code></em></pre><div class="blockquote"><blockquote class="blockquote"><p>この関数は<em class="replaceable"><code>number-or-marker</code></em> − 1をreturnします。
</p></blockquote></div><pre class="synopsis"><a id="idm40417104" class="indexterm"/><span class="category"><span class="bold"><strong>Function</strong></span>:</span> <code class="function">+</code> <em class="replaceable"><code>&amp;rest</code></em> <em class="replaceable"><code>numbers-or-markers</code></em></pre><div class="blockquote"><blockquote class="blockquote"><p>この関数は引数すべてを加算します。引数を与えない場合、<code class="literal">+</code>は0をreturnします。
</p><pre class="screen">(+)
     ⇒ 0
(+ 1)
     ⇒ 1
(+ 1 2 3 4)
     ⇒ 10
</pre></blockquote></div><pre class="synopsis"><a id="idm40375632" class="indexterm"/><span class="category"><span class="bold"><strong>Function</strong></span>:</span> <code class="function">-</code> <em class="replaceable"><code>&amp;optional</code></em> <em class="replaceable"><code>number-or-marker</code></em> <em class="replaceable"><code>&amp;rest</code></em> <em class="replaceable"><code>more-numbers-or-markers</code></em></pre><div class="blockquote"><blockquote class="blockquote"><p><code class="literal">-</code>関数は2つの目的 — 符号反転と減算
—を果たします。<code class="literal">-</code>に1つの引数を与えた場合、値は引数の符号を反転したものになります。複数の引数がある場合、<em class="replaceable"><code>number-or-marker</code></em>から<em class="replaceable"><code>more-numbers-or-markers</code></em>までの各値を蓄積的に減算します。引数がない場合、結果は0です。
</p><pre class="screen">(- 10 1 2 3 4)
     ⇒ 0
(- 10)
     ⇒ -10
(-)
     ⇒ 0
</pre></blockquote></div><pre class="synopsis"><a id="idm40368976" class="indexterm"/><span class="category"><span class="bold"><strong>Function</strong></span>:</span> <code class="function">*</code> <em class="replaceable"><code>&amp;rest</code></em> <em class="replaceable"><code>numbers-or-markers</code></em></pre><div class="blockquote"><blockquote class="blockquote"><p>この関数はすべての引数を乗じて、積をreturnします。引数がない場合、<code class="literal">*</code>は1をreturnします。
</p><pre class="screen">(*)
     ⇒ 1
(* 1)
     ⇒ 1
(* 1 2 3 4)
     ⇒ 24
</pre></blockquote></div><pre class="synopsis"><a id="idm40364368" class="indexterm"/><span class="category"><span class="bold"><strong>Function</strong></span>:</span> <code class="function">/</code> <em class="replaceable"><code>dividend</code></em> <em class="replaceable"><code>divisor</code></em> <em class="replaceable"><code>&amp;rest</code></em> <em class="replaceable"><code>divisors</code></em></pre><div class="blockquote"><blockquote class="blockquote"><p>この関数は<em class="replaceable"><code>dividend</code></em>を<em class="replaceable"><code>divisor</code></em>で除し、商をreturnします。追加の引数<em class="replaceable"><code>divisors</code></em>がある場合、その後さらに<em class="replaceable"><code>dividend</code></em>を<em class="replaceable"><code>divisors</code></em>で順に除します。各引数は数かマーカーです。
</p><p>すべての引数が整数の場合、結果は各除算の後に商を0へ向かって丸めることにより得られる整数になります。
</p><pre class="screen">(/ 6 2)
     ⇒ 3
</pre><pre class="screen">(/ 5 2)
     ⇒ 2
</pre><pre class="screen">(/ 5.0 2)
     ⇒ 2.5
</pre><pre class="screen">(/ 5 2.0)
     ⇒ 2.5
</pre><pre class="screen">(/ 5.0 2.0)
     ⇒ 2.5
</pre><pre class="screen">(/ 25 3 2)
     ⇒ 4
</pre><pre class="screen">(/ -17 6)
     ⇒ -2
</pre><a id="idm40346960" class="indexterm"/><p>整数を整数0で除すると、Emacsは<code class="literal">arith-error</code>エラー(<a class="link" href="ch11s05.html#Errors" title="Errors">Errors</a>を参照してください)をシグナルします。浮動小数の除算においては、0でない数を0で除することにより、正の無限大または負の無限大を得ます(<a class="link" href="ch04s02.html" title="Floating-Point Basics">Float
Basics</a>を参照してください)。
</p></blockquote></div><pre class="synopsis"><a id="idm40343632" class="indexterm"/><span class="category"><span class="bold"><strong>Function</strong></span>:</span> <code class="function">%</code> <em class="replaceable"><code>dividend</code></em> <em class="replaceable"><code>divisor</code></em></pre><div class="blockquote"><blockquote class="blockquote"><a id="idm40340688" class="indexterm"/><p>この関数は、<em class="replaceable"><code>dividend</code></em>を<em class="replaceable"><code>divisor</code></em>で除した後、その剰余を整数でreturnします。引数は整数かマーカーでなければなりません。
</p><p>任意の2つの整数<em class="replaceable"><code>dividend</code></em>と<em class="replaceable"><code>divisor</code></em>にたいして、
</p><pre class="screen">(+ (% <em class="replaceable"><code>dividend</code></em> <em class="replaceable"><code>divisor</code></em>)
   (* (/ <em class="replaceable"><code>dividend</code></em> <em class="replaceable"><code>divisor</code></em>) <em class="replaceable"><code>divisor</code></em>))
</pre><p>は、<em class="replaceable"><code>divisor</code></em>が非0の場合は常に<em class="replaceable"><code>dividend</code></em>と等しくなります。
</p><pre class="screen">(% 9 4)
     ⇒ 1
(% -9 4)
     ⇒ -1
(% 9 -4)
     ⇒ 1
(% -9 -4)
     ⇒ -1
</pre></blockquote></div><pre class="synopsis"><a id="idm40333136" class="indexterm"/><span class="category"><span class="bold"><strong>Function</strong></span>:</span> <code class="function">mod</code> <em class="replaceable"><code>dividend</code></em> <em class="replaceable"><code>divisor</code></em></pre><div class="blockquote"><blockquote class="blockquote"><a id="idm40330192" class="indexterm"/><p>この関数は<em class="replaceable"><code>dividend</code></em>の<em class="replaceable"><code>divisor</code></em>にたいするmodulo、言い換えると<em class="replaceable"><code>dividend</code></em>を<em class="replaceable"><code>divisor</code></em>で除した後の剰余(ただし符号は<em class="replaceable"><code>divisor</code></em>と同じ)えおreturnします。引数は数かマーカーでなければなりません。
</p><p><code class="literal">%</code>とは異なり、<code class="literal">mod</code>は浮動小数の引数を許容します。これは商を整数に下方(負の無限大に向かって)へ丸めて、剰余を計算するのにこの商を使用します。
</p><p><em class="replaceable"><code>divisor</code></em>が0のとき<code class="literal">mod</code>は、両方の引数が整数の場合は<code class="literal">arith-error</code>エラーをシグナルし、それ以外はNaNをreturnします。
</p><pre class="screen">(mod 9 4)
     ⇒ 1
</pre><pre class="screen">(mod -9 4)
     ⇒ 3
</pre><pre class="screen">(mod 9 -4)
     ⇒ -3
</pre><pre class="screen">(mod -9 -4)
     ⇒ -1
</pre><pre class="screen">(mod 5.5 2.5)
     ⇒ .5
</pre><p>任意の2つの数<em class="replaceable"><code>dividend</code></em>と<em class="replaceable"><code>divisor</code></em>にたいして、
</p><pre class="screen">(+ (mod <em class="replaceable"><code>dividend</code></em> <em class="replaceable"><code>divisor</code></em>)
   (* (floor <em class="replaceable"><code>dividend</code></em> <em class="replaceable"><code>divisor</code></em>) <em class="replaceable"><code>divisor</code></em>))
</pre><p>は常に<em class="replaceable"><code>dividend</code></em>になります(ただし引数のどちらかが浮動小数の場合は丸め誤差の範囲内で等しく、<em class="replaceable"><code>dividend</code></em>が整数で<em class="replaceable"><code>divisor</code></em>が0の場合は<code class="literal">arith-error</code>となります)。<code class="literal">floor</code>については、<a class="link" href="ch04s05.html" title="Numeric Conversions">Numeric
Conversions</a>を参照してください。
</p></blockquote></div></div></body></html>