<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title>Chapter 4. Strings and Characters</title><meta name="generator" content="DocBook XSL Stylesheets V1.79.1"/></head><body><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a id="Strings-and-Characters"/>Chapter 4. Strings and Characters</h1></div></div></div><a id="idm50458576" class="indexterm"/><a id="idm50457808" class="indexterm"/><a id="idm50457040" class="indexterm"/><a id="idm50456272" class="indexterm"/><p>Emacs Lispの文字列は、文字列の順序列(ordered
sequence)を含む配列です。文字列はシンボル、バッファー、ファイルの名前に使用されます。その他にも、ユーザーにたいしてメッセージを送ったりバッファー間でコピーする文字列を保持したり等の、他の多くの目的にたいして使用されます。文字列は特に重要なので、Emacs
Lispは特別に文字列を操作するための、多くの関数をもちます。Emacs Lispプログラムは、個々の文字より、文字列を多用します。
</p><p>キーボードの文字イベントの文字列にたいする特別な考慮は、<a class="link" href="ch21s07.html#Strings-of-Events" title="Putting Keyboard Events in Strings">Strings of Events</a>を参照してください。
</p><div class="sect1"><div class="titlepage"><div><div><h1 class="title"><a id="String-Basics"/>String and Character Basics</h1></div></div></div><p>文字(character)とは、テキスト内の1つの文字を表すLispオブジェクトです。Emacs
Lispでは、文字は単なる整数です。ある整数が文字か文字でないかを区別するのは、それが使用される方法だけです。Emacsでの文字表現についての詳細は、<a class="link" href="ch33s05.html" title="Character Codes">Character
Codes</a>を参照してください。
</p><p>文字列(string)とは、固定された文字シーケンスです。これは<em class="firstterm">配列(array)</em>と呼ばれるシーケンス型で、配列長が固定で、1度作成したら変更できないことを意味します(<a class="link" href="ch07.html" title="Chapter 6. Sequences, Arrays, and Vectors">Sequences
Arrays Vectors</a>を参照してください)。Cとは異なり、Emacs
Lispの文字列は文字コードを判断することにより終端<span class="emphasis"><em>されません</em></span>。
</p><p>文字列は配列であり、したがって同様にシーケンスでもあるので、<a class="link" href="ch07.html" title="Chapter 6. Sequences, Arrays, and Vectors">Sequences Arrays
Vectors</a>にドキュメントされている一般的な配列関数やシーケンス関数で、文字列を処理できます。たとえば、文字列内の特定の文字にアクセスしたり変更することができますしかし表示された文字列の幅を計算するために、<code class="literal">length</code>を使用するべきでは<span class="emphasis"><em>ない</em></span>ことに注意してください。かわりに<code class="literal">string-width</code>を使用してください(<a class="link" href="ch38s10.html" title="Size of Displayed Text">Size
of Displayed Text</a>を参照してください)。
</p><p>Emacs文字列での非<acronym class="acronym">ASCII</acronym>にたいすテキスト表現は2つ —
ユニバイト(unibyte)とマルチバイト(multibyte)がありますほとんどのLispプログラミングでは、これら2つの表現を気にする必要はありません。詳細は、<a class="link" href="ch33.html#Text-Representations" title="Text Representations">Text
Representations</a>を参照してください。
</p><p>キーシーケンスがユニバイト文字列で表されることがあります。ユニバイト文字列がキーシーケンスの場合、範囲128から255までの文字列要素は、範囲128から255の文字コードではなく、メタ文字(これは非常に大きな整数です)を表します。文字列はhyper、super、altで修飾された文字を保持できません。文字列は<acronym class="acronym">ASCII</acronym>コントロール文字を保持できますが、それは他のコントロール文字です。文字列は<acronym class="acronym">ASCII</acronym>コントロール文字の大文字小文字を区別できません。そのような文字をシーケンスに保存したい場合は、文字列ではなくベクターを使用しなければなりません。キーボード入力文字についての情報は、<a class="link" href="ch03s03.html#Character-Type" title="Character Type">Character
Type</a>を参照してください。
</p><p>文字列は正規表現を保持するために便利です。<code class="literal">string-match</code> (<a class="link" href="ch34s04.html" title="Regular Expression Searching">Regexp
Search</a>を参照してください)を使用して、文字列にたいして正規表現をマッチすることもできます。関数<code class="literal">match-string</code>
(<a class="link" href="ch34s06.html#Simple-Match-Data" title="Simple Match Data Access">Simple Match Data</a>を参照してください)と、<code class="literal">replace-match</code> (see <a class="link" href="ch34s06.html#Replacing-Match" title="Replacing the Text that Matched">Replacing
Match</a>)は、文字列にたいして正規表現をマッチした後に、文字列を分解、変更するのに便利です。
</p><p>バッファーのように、文字列は文字列内の文字自身と、その文字にたいするテキストプロパティーを含みます。<a class="link" href="ch32s19.html" title="Text Properties">Text
Properties</a>を参照してください。文字列からバッファーや他の文字列にテキストをコピーする、すべてのLispプリミティブ(Lisp
primitives)は、コピーされる文字のプロパティーもコピーします。
</p><p>文字列を表示したり、バッファーにコピーする関数についての情報は、<a class="link" href="ch32.html" title="Chapter 31. Text">Text</a>を参照してください。文字または文字列の構文についての情報は、<a class="link" href="ch03s03.html#Character-Type" title="Character Type">Character
Type</a>と<a class="link" href="ch03s03.html#String-Type" title="String Type">String
Type</a>を参照してください。異なるテキスト表現間で変換したり、文字コードをエンコード、デコードする関数については、<a class="link" href="ch33.html" title="Chapter 32. Non-ASCII Characters">Non-ASCII
Characters</a>を参照してください。
</p></div></div></body></html>