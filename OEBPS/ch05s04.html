<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title>Modifying Strings</title><meta name="generator" content="DocBook XSL Stylesheets V1.79.1"/></head><body><div class="sect1"><div class="titlepage"><div><div><h1 class="title"><a id="Modifying-Strings"/>Modifying Strings</h1></div></div></div><a id="idm50297040" class="indexterm"/><a id="idm50296272" class="indexterm"/><p>既存の文字列の内容を変更するもっとも基本的な方法は、<code class="literal">aset</code> (see <a class="link" href="ch07s03.html" title="Functions that Operate on Arrays">Array
Functions</a>)を使用する方法です。<code class="literal">(aset <em class="replaceable"><code>string</code></em> <em class="replaceable"><code>idx</code></em>
<em class="replaceable"><code>char</code></em>)</code>は、<em class="replaceable"><code>string</code></em>のインデックス<em class="replaceable"><code>idx</code></em>に、<em class="replaceable"><code>char</code></em>を格納します。それぞれの文字は１文字以上を占有しますが、すでにインデックスの場所にある文字のバイト数が、<em class="replaceable"><code>char</code></em>が要するバイト数と異なる場合、<code class="literal">aset</code>はエラーをシグナルします。
</p><p>より強力な関数は<code class="literal">store-substring</code>です:
</p><pre class="synopsis"><a id="idm50285136" class="indexterm"/><span class="category"><span class="bold"><strong>Function</strong></span>:</span> <code class="function">store-substring</code> <em class="replaceable"><code>string</code></em> <em class="replaceable"><code>idx</code></em> <em class="replaceable"><code>obj</code></em></pre><div class="blockquote"><blockquote class="blockquote"><p>この関数は、インデックス<em class="replaceable"><code>idx</code></em>で開始される位置に<em class="replaceable"><code>obj</code></em>を格納することにより、文字列<em class="replaceable"><code>string</code></em>の内容の一部を変更します。<em class="replaceable"><code>obj</code></em>は文字、または(<em class="replaceable"><code>string</code></em>より小さい)文字列です。
</p><p>既存の文字列の長さを変更するのは不可能なので、<em class="replaceable"><code>string</code></em>の実際の長さに<em class="replaceable"><code>obj</code></em>が収まらない場合、または<em class="replaceable"><code>string</code></em>のその位置に現在ある文字のバイト数が、新しい文字に必要なバイト数と異なる場合はエラーになります。
</p></blockquote></div><p>パスワードを含む文字列をクリアーするときは、<code class="literal">clear-string</code>を使用します:
</p><pre class="synopsis"><a id="idm50276816" class="indexterm"/><span class="category"><span class="bold"><strong>Function</strong></span>:</span> <code class="function">clear-string</code> <em class="replaceable"><code>string</code></em></pre><div class="blockquote"><blockquote class="blockquote"><p>これは<em class="replaceable"><code>string</code></em>をユニバイト文字列として、内容を0にクリアーします。これにより<em class="replaceable"><code>string</code></em>の長さも変更されるでしょう。
</p></blockquote></div></div></body></html>