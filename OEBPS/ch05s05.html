<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title>Comparison of Characters and Strings</title><meta name="generator" content="DocBook XSL Stylesheets V1.79.1"/></head><body><div class="sect1"><div class="titlepage"><div><div><h1 class="title"><a id="Text-Comparison"/>Comparison of Characters and Strings</h1></div></div></div><a id="idm50272080" class="indexterm"/><a id="idm50271312" class="indexterm"/><pre class="synopsis"><a id="idm50270288" class="indexterm"/><span class="category"><span class="bold"><strong>Function</strong></span>:</span> <code class="function">char-equal</code> <em class="replaceable"><code>character1</code></em> <em class="replaceable"><code>character2</code></em></pre><div class="blockquote"><blockquote class="blockquote"><p>この関数は引数が同じ文字を表す場合は<code class="literal">t</code>、それ以外は<code class="literal">nil</code>をreturnします。<code class="literal">case-fold-search</code>が非<code class="literal">nil</code>の場合、この関数は大文字小文字の違いを無視します。
</p><pre class="screen">(char-equal ?x ?x)
     ⇒ t
(let ((case-fold-search nil))
  (char-equal ?x ?X))
     ⇒ nil
</pre></blockquote></div><pre class="synopsis"><a id="idm50264144" class="indexterm"/><span class="category"><span class="bold"><strong>Function</strong></span>:</span> <code class="function">string=</code> <em class="replaceable"><code>string1</code></em> <em class="replaceable"><code>string2</code></em></pre><div class="blockquote"><blockquote class="blockquote"><p>この関数は、2つの文字列の文字が正確にマッチする場合は、<code class="literal">t</code>をreturnします。引数にシンボルを指定することもでき、この場合はシンボル名が使用されます。<code class="literal">case-fold-search</code>とは無関係に、大文字小文字は常に意味をもちます。
</p><p>この関数は、<code class="literal">equal</code>で2つの文字列を比較するのと等価です(<a class="link" href="ch03s07.html" title="Equality Predicates">Equality
Predicates</a>を参照してください)。特に、2つの文字列のテキストプロパティーは無視されます。テキストプロパティーだけが異なる文字列を区別する必要がある場合は、<code class="literal">equal-including-properties</code>を使用します。しかし<code class="literal">equal</code>とは異なり、どちらかの引数が文字列でもシンボルでもない場合、<code class="literal">string=</code>はエラーをシグナルします。
</p><pre class="screen">(string= "abc" "abc")
     ⇒ t
(string= "abc" "ABC")
     ⇒ nil
(string= "ab" "ABC")
     ⇒ nil
</pre><p>技術的な理由により、ユニバイト文字列とマルチバイト文字列が<code class="literal">equal</code>なのは、それらが同じ文字コードのシーケンスを含み、それらすべてのコードが0から127(<acronym class="acronym">ASCII</acronym>)か、160から255(<code class="literal">eight-bit-graphic</code>)のときだけです。しかしユニバイト文字列をマルチバイト文字列に変更する際、コードが160から255の範囲にあるすべての文字はより高いコードに変換され、<acronym class="acronym">ASCII</acronym>文字は変換されないまま残ります。したがってユニバイト文字列と、それを変換したマルチバイト文字列は、その文字列のすべてが<acronym class="acronym">ASCII</acronym>のときだけ<code class="literal">equal</code>です。マルチバイト文字列中で、もし文字コード160から255の文字があったとしても、それは完全に正しいとは言えません。結果として、すべてが<acronym class="acronym">ASCII</acronym>ではないユニバイト文字列とマルチバイト文字列が<code class="literal">equal</code>であるという状況は、もしかしたらEmacs
Lispプロプラマーが直面するかもしれない、とても希少な偽術的に不可解な状況だといえます。<a class="link" href="ch33.html#Text-Representations" title="Text Representations">Text
Representations</a>を参照してください。
</p></blockquote></div><pre class="synopsis"><a id="idm50222800" class="indexterm"/><span class="category"><span class="bold"><strong>Function</strong></span>:</span> <code class="function">string-equal</code> <em class="replaceable"><code>string1</code></em> <em class="replaceable"><code>string2</code></em></pre><div class="blockquote"><blockquote class="blockquote"><p><code class="literal">string-equal</code>は<code class="literal">string=</code>に対する別名です。
</p></blockquote></div><a id="idm50218576" class="indexterm"/><pre class="synopsis"><a id="idm50217552" class="indexterm"/><span class="category"><span class="bold"><strong>Function</strong></span>:</span> <code class="function">string&lt;</code> <em class="replaceable"><code>string1</code></em> <em class="replaceable"><code>string2</code></em></pre><div class="blockquote"><blockquote class="blockquote"><p>この関数は、2つの文字列を1文字づつ比較します。この関数は、同時に2つの文字列をスキャンして、対応する文字同士がマッチしない最初のペアを探します。2つの文字列内で、小さいほうの文字が<em class="replaceable"><code>string1</code></em>の文字の場合、<em class="replaceable"><code>string1</code></em>が小さいことになり、この関数は<code class="literal">t</code>をreturnします。小さいほうの文字が<em class="replaceable"><code>string2</code></em>の文字の場合、<em class="replaceable"><code>string1</code></em>が大きいことになり、この関数は<code class="literal">nil</code>をreturnします。2つの文字列が完全にマッチした場合、値は<code class="literal">nil</code>になります。
</p><p>文字のペアは、文字コードで比較されます。<acronym class="acronym">ASCII</acronym>文字セットでは、小文字英字は大文字英字より、高い数値をもつことに留意してください。数字および多くの句読点文字は、大文字英字より低い数値をもちます。<acronym class="acronym">ASCII</acronym>文字は、任意の非<acronym class="acronym">ASCII</acronym>文字より小さくなります。ユニバイト非<acronym class="acronym">ASCII</acronym>文字は、任意のマルチバイト非<acronym class="acronym">ASCII</acronym>文字より、常に小さくなります(<a class="link" href="ch33.html#Text-Representations" title="Text Representations">Text
Representations</a>を参照してください)。
</p><pre class="screen">(string&lt; "abc" "abd")
     ⇒ t
(string&lt; "abd" "abc")
     ⇒ nil
(string&lt; "123" "abc")
     ⇒ t
</pre><p>文字列の長さが異なり、<em class="replaceable"><code>string1</code></em>の長さまでマッチする場合、結果は<code class="literal">t</code>になります。<em class="replaceable"><code>string2</code></em>の長さまでマッチする場合、結果は<code class="literal">nil</code>になります。文字を含まない文字列は、他の任意の文字列より小さくなります。
</p><pre class="screen">(string&lt; "" "abc")
     ⇒ t
(string&lt; "ab" "abc")
     ⇒ t
(string&lt; "abc" "")
     ⇒ nil
(string&lt; "abc" "ab")
     ⇒ nil
(string&lt; "" "")
     ⇒ nil
</pre><p>引数としてシンボルを指定することもでき、この場合はシンボルのプリント名が使用されます。
</p></blockquote></div><pre class="synopsis"><a id="idm50204240" class="indexterm"/><span class="category"><span class="bold"><strong>Function</strong></span>:</span> <code class="function">string-lessp</code> <em class="replaceable"><code>string1</code></em> <em class="replaceable"><code>string2</code></em></pre><div class="blockquote"><blockquote class="blockquote"><p><code class="literal">string-lessp</code>は<code class="literal">string&lt;</code>にたいする別名です。
</p></blockquote></div><pre class="synopsis"><a id="idm50199760" class="indexterm"/><span class="category"><span class="bold"><strong>Function</strong></span>:</span> <code class="function">string-prefix-p</code> <em class="replaceable"><code>string1</code></em> <em class="replaceable"><code>string2</code></em> <em class="replaceable"><code>&amp;optional</code></em> <em class="replaceable"><code>ignore-case</code></em></pre><div class="blockquote"><blockquote class="blockquote"><p>この関数は、<em class="replaceable"><code>string1</code></em>が<em class="replaceable"><code>string2</code></em>のプレフィクス(接頭辞)の場合(たとえば<em class="replaceable"><code>string2</code></em>が<em class="replaceable"><code>string1</code></em>で始まる場合)、非<code class="literal">nil</code>をreturnします。オプションの引数<em class="replaceable"><code>ignore-case</code></em>が非<code class="literal">nil</code>の場合、比較において大文字小文字の違いは無視されます。
</p></blockquote></div><pre class="synopsis"><a id="idm50192464" class="indexterm"/><span class="category"><span class="bold"><strong>Function</strong></span>:</span> <code class="function">string-suffix-p</code> <em class="replaceable"><code>suffix</code></em> <em class="replaceable"><code>string</code></em> <em class="replaceable"><code>&amp;optional</code></em> <em class="replaceable"><code>ignore-case</code></em></pre><div class="blockquote"><blockquote class="blockquote"><p>この関数は、<em class="replaceable"><code>suffix</code></em>が<em class="replaceable"><code>string</code></em>のサフィックス(接尾辞)の場合(たとえば<em class="replaceable"><code>string</code></em>が<em class="replaceable"><code>suffix</code></em>で終わる場合)、非<code class="literal">nil</code>をreturnします。オプションの引数<em class="replaceable"><code>ignore-case</code></em>が非<code class="literal">nil</code>の場合、比較において大文字小文字の違いは無視されます。
</p></blockquote></div><pre class="synopsis"><a id="idm50172880" class="indexterm"/><span class="category"><span class="bold"><strong>Function</strong></span>:</span> <code class="function">compare-strings</code> <em class="replaceable"><code>string1</code></em> <em class="replaceable"><code>start1</code></em> <em class="replaceable"><code>end1</code></em> <em class="replaceable"><code>string2</code></em> <em class="replaceable"><code>start2</code></em> <em class="replaceable"><code>end2</code></em> <em class="replaceable"><code>&amp;optional</code></em> <em class="replaceable"><code>ignore-case</code></em></pre><div class="blockquote"><blockquote class="blockquote"><p>この関数は、<em class="replaceable"><code>string1</code></em>の指定された部分を、<em class="replaceable"><code>string2</code></em>の指定された部分と比較します。<em class="replaceable"><code>string1</code></em>の指定された部分とは、インデックス<em class="replaceable"><code>start1</code></em>(その文字を含む)から、インデックス<em class="replaceable"><code>end1</code></em>(その文字を含まない)までです。<em class="replaceable"><code>start1</code></em>に<code class="literal">nil</code>を指定すると文字列の最初という意味になり、<em class="replaceable"><code>end1</code></em>に<code class="literal">nil</code>を指定すると文字列の長さを意味します同様に、<em class="replaceable"><code>string2</code></em>の指定された部分とは、インデックス<em class="replaceable"><code>start2</code></em>からインデックス<em class="replaceable"><code>end2</code></em>までです。
</p><p>文字列は、文字列内の文字の数値により比較されます。たとえば、<em class="replaceable"><code>str1</code></em>と<em class="replaceable"><code>str2</code></em>は、最初に異なる文字で<em class="replaceable"><code>str1</code></em>の文字の数値が小さいときに、“小さい”と判断されます。<em class="replaceable"><code>ignore-case</code></em>が非<code class="literal">nil</code>の場合、文字は比較を行なう前に小文字に変換されます。比較のためにユニバイト文字列はマルチバイト文字列に変換されるので(<a class="link" href="ch33.html#Text-Representations" title="Text Representations">Text
Representations</a>を参照してください)、ユニバイト文字列と、それを変換したマルチバイト文字列は、常に等しくなります。
</p><p>2つの文字列の指定された部分がマッチした場合、値は<code class="literal">t</code>になります。それ以外では、値は整数で、これは何文字が一致して、どちらの文字が小さいかを示します。この値の絶対値は、2つの文字列の先頭から一致した文字数に1加えた値になります。<em class="replaceable"><code>string1</code></em>(または指定された部分)のほうが小さい場合、符号は負になります。
</p></blockquote></div><pre class="synopsis"><a id="idm50157904" class="indexterm"/><span class="category"><span class="bold"><strong>Function</strong></span>:</span> <code class="function">assoc-string</code> <em class="replaceable"><code>key</code></em> <em class="replaceable"><code>alist</code></em> <em class="replaceable"><code>&amp;optional</code></em> <em class="replaceable"><code>case-fold</code></em></pre><div class="blockquote"><blockquote class="blockquote"><p>この関数は<code class="literal">assoc</code>と同様に機能しますが、<em class="replaceable"><code>key</code></em>は文字列かシンボルでなければならず、比較は<code class="literal">compare-strings</code>を使用して行なわれます。テストする前にシンボルは文字列に変換されます。<em class="replaceable"><code>case-fold</code></em>が非<code class="literal">nil</code>の場合、大文字小文字の違いは無視されます。<code class="literal">assoc</code>とは異なり、この関数はコンスではない文字列またはシンボルのalist要素もマッチできます。特に、<em class="replaceable"><code>alist</code></em>は実際のalistではなく、文字列またはリストでも可能です。<a class="link" href="ch06s08.html" title="Association Lists">Association
Lists</a>を参照してください。
</p></blockquote></div><p>バッファー内のテキストを比較する方法として、<a class="link" href="ch32s03.html" title="Comparing Text">Comparing
Text</a>の関数<code class="literal">compare-buffer-substrings</code>も参照してください。文字列にたいして正規表現のマッチを行なう関数<code class="literal">string-match</code>も、ある種の文字列比較に使用することができます。<a class="link" href="ch34s04.html" title="Regular Expression Searching">Regexp
Search</a>を参照してください。
</p></div></body></html>