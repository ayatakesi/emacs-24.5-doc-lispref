<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title>Bool-vectors</title><meta name="generator" content="DocBook XSL Stylesheets V1.79.1"/></head><body><div class="sect1"><div class="titlepage"><div><div><h1 class="title"><a id="Bool_002dVectors"/>Bool-vectors</h1></div></div></div><a id="idm48670288" class="indexterm"/><p>ブールベクター(bool-vector)はベクターとよく似ていますが、値に<code class="literal">t</code>と<code class="literal">nil</code>しか格納できません。ブールベクターの要素に非<code class="literal">nil</code>値の格納を試みた場合、そこに<code class="literal">t</code>が格納されます。すべての配列と同様、ブールベクターのインデックスは0から開始され、1度ブールベクターが作成されたら、長さを変更することはできません。ブールベクターは定数として評価されます。
</p><p>ブールベクターを処理する、特別な関数が2つあります。その関数意外にも、他の種類の配列に使用されるのと同じ関数で、ブールベクターを操作できます。
</p><pre class="synopsis"><a id="idm48666448" class="indexterm"/><span class="category"><span class="bold"><strong>Function</strong></span>:</span> <code class="function">make-bool-vector</code> <em class="replaceable"><code>length</code></em> <em class="replaceable"><code>initial</code></em></pre><div class="blockquote"><blockquote class="blockquote"><p><em class="replaceable"><code>initial</code></em>に初期化された、<em class="replaceable"><code>length</code></em>要素の新しいブールベクターをreturnします。
</p></blockquote></div><pre class="synopsis"><a id="idm48662224" class="indexterm"/><span class="category"><span class="bold"><strong>Function</strong></span>:</span> <code class="function">bool-vector-p</code> <em class="replaceable"><code>object</code></em></pre><div class="blockquote"><blockquote class="blockquote"><p>この関数は、<em class="replaceable"><code>object</code></em>がブールベクターであれば<code class="literal">t</code>、それ以外は<code class="literal">nil</code>をreturnします。
</p></blockquote></div><p>以下で説明するように、ブールベクターのセット処理を行なう関数がいくつかあります:
</p><pre class="synopsis"><a id="idm48657104" class="indexterm"/><span class="category"><span class="bold"><strong>Function</strong></span>:</span> <code class="function">bool-vector-exclusive-or</code> <em class="replaceable"><code>a</code></em> <em class="replaceable"><code>b</code></em> <em class="replaceable"><code>&amp;optional</code></em> <em class="replaceable"><code>c</code></em></pre><div class="blockquote"><blockquote class="blockquote"><p>ブールベクター<em class="replaceable"><code>a</code></em>と<em class="replaceable"><code>b</code></em>の、<em class="firstterm">ビットごとの排他的論理和(bitwise exclusive
or)</em>をreturnします。オプション引数<em class="replaceable"><code>c</code></em>が与えられた場合、この処理の結果は<em class="replaceable"><code>c</code></em>に格納されます。引数はすべて、同じ長さのブールベクターを指定します。
</p></blockquote></div><pre class="synopsis"><a id="idm48650832" class="indexterm"/><span class="category"><span class="bold"><strong>Function</strong></span>:</span> <code class="function">bool-vector-union</code> <em class="replaceable"><code>a</code></em> <em class="replaceable"><code>b</code></em> <em class="replaceable"><code>&amp;optional</code></em> <em class="replaceable"><code>c</code></em></pre><div class="blockquote"><blockquote class="blockquote"><p>ブールベクター<em class="replaceable"><code>a</code></em>と<em class="replaceable"><code>b</code></em>の、<em class="firstterm">ビットごとの論理和(bitwise
or)</em>をreturnします。オプション引数<em class="replaceable"><code>c</code></em>が与えられた場合、この処理の結果は<em class="replaceable"><code>c</code></em>に格納されます。引数はすべて、同じ長さのブールベクターを指定します。
</p></blockquote></div><pre class="synopsis"><a id="idm48644560" class="indexterm"/><span class="category"><span class="bold"><strong>Function</strong></span>:</span> <code class="function">bool-vector-intersection</code> <em class="replaceable"><code>a</code></em> <em class="replaceable"><code>b</code></em> <em class="replaceable"><code>&amp;optional</code></em> <em class="replaceable"><code>c</code></em></pre><div class="blockquote"><blockquote class="blockquote"><p>ブールベクター<em class="replaceable"><code>a</code></em>と<em class="replaceable"><code>b</code></em>の、<em class="firstterm">ビットごとの論理積(bitwise
and)</em>をreturnします。オプション引数<em class="replaceable"><code>c</code></em>が与えられた場合、この処理の結果は<em class="replaceable"><code>c</code></em>に格納されます。引数はすべて、同じ長さのブールベクターを指定します。
</p></blockquote></div><pre class="synopsis"><a id="idm48638288" class="indexterm"/><span class="category"><span class="bold"><strong>Function</strong></span>:</span> <code class="function">bool-vector-set-difference</code> <em class="replaceable"><code>a</code></em> <em class="replaceable"><code>b</code></em> <em class="replaceable"><code>&amp;optional</code></em> <em class="replaceable"><code>c</code></em></pre><div class="blockquote"><blockquote class="blockquote"><p>ブールベクター<em class="replaceable"><code>a</code></em>と<em class="replaceable"><code>b</code></em>の、<em class="firstterm">差集合(set
difference)</em>をreturnします。オプション引数<em class="replaceable"><code>c</code></em>が与えられた場合、この処理の結果は<em class="replaceable"><code>c</code></em>に格納されます。引数はすべて、同じ長さのブールベクターを指定します。
</p></blockquote></div><pre class="synopsis"><a id="idm48632016" class="indexterm"/><span class="category"><span class="bold"><strong>Function</strong></span>:</span> <code class="function">bool-vector-not</code> <em class="replaceable"><code>a</code></em> <em class="replaceable"><code>&amp;optional</code></em> <em class="replaceable"><code>b</code></em></pre><div class="blockquote"><blockquote class="blockquote"><p>ブールベクター<em class="replaceable"><code>a</code></em>の、<em class="firstterm">補集合(set
complement)</em>をreturnします。オプション引数<em class="replaceable"><code>b</code></em>が与えられた場合、この処理の結果は<em class="replaceable"><code>b</code></em>に格納されます。引数はすべて、同じ長さのブールベクターを指定します。
</p></blockquote></div><pre class="synopsis"><a id="idm48610128" class="indexterm"/><span class="category"><span class="bold"><strong>Function</strong></span>:</span> <code class="function">bool-vector-subsetp</code> <em class="replaceable"><code>a</code></em> <em class="replaceable"><code>b</code></em></pre><div class="blockquote"><blockquote class="blockquote"><p><em class="replaceable"><code>a</code></em>内のすべての<code class="literal">t</code>値が、<em class="replaceable"><code>b</code></em>でも<code class="literal">t</code>値の場合は<code class="literal">t</code>、それ以外は<code class="literal">nil</code>をreturnします。引数はすべて、同じ長さのブールベクターを指定します。
</p></blockquote></div><pre class="synopsis"><a id="idm48603856" class="indexterm"/><span class="category"><span class="bold"><strong>Function</strong></span>:</span> <code class="function">bool-vector-count-consecutive</code> <em class="replaceable"><code>a</code></em> <em class="replaceable"><code>b</code></em> <em class="replaceable"><code>i</code></em></pre><div class="blockquote"><blockquote class="blockquote"><p><em class="replaceable"><code>i</code></em>から始まる<em class="replaceable"><code>a</code></em>の、<em class="replaceable"><code>b</code></em>と等しい連続する要素の数をreturnします。<code class="literal">a</code>はブールベクターで、<em class="replaceable"><code>b</code></em>は<code class="literal">t</code>か<code class="literal">nil</code>、<em class="replaceable"><code>i</code></em>は<code class="literal">a</code>のインデックスです。
</p></blockquote></div><pre class="synopsis"><a id="idm49951824" class="indexterm"/><span class="category"><span class="bold"><strong>Function</strong></span>:</span> <code class="function">bool-vector-count-population</code> <em class="replaceable"><code>a</code></em></pre><div class="blockquote"><blockquote class="blockquote"><p>ブールベクター<em class="replaceable"><code>a</code></em>の、<code class="literal">t</code>の要素の数をreturnします。
</p></blockquote></div><p>以下はブールベクターを作成、確認、更新する例です。長さ8以下のブール値のプリント表記は、1つの文字で表されることに注意してください。
</p><pre class="screen">(setq bv (make-bool-vector 5 t))
     ⇒ #&amp;5"^_"
(aref bv 1)
     ⇒ t
(aset bv 3 nil)
     ⇒ nil
bv
     ⇒ #&amp;5"^W"
</pre><p>control-_の2進コードは11111、control-Wは10111なので、この結果は理解できるでしょう。
</p></div></body></html>