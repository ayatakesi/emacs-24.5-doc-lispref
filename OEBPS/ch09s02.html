<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title>Defining Symbols</title><meta name="generator" content="DocBook XSL Stylesheets V1.79.1"/></head><body><div class="sect1"><div class="titlepage"><div><div><h1 class="title"><a id="Definitions"/>Defining Symbols</h1></div></div></div><a id="idm52368464" class="indexterm"/><p><em class="firstterm">定義(definition)</em>とは、特別な方法で使用を意図することを宣言する、特別な種類のLisp式です。定義とは通常、シンボルにたいする値を指定するか、シンボルにたいする1つの種類の使用についての意味と、この方法で使用するときのシンボルの意味にたいするドキュメントを指定します。したがって、シンボルを変数として定義した場合、その変数の初期値と、加えてその変数のドキュメントを提供できます。
</p><p><code class="literal">defvar</code>および<code class="literal">defconst</code>は、<em class="firstterm">グローバル変数(global variable)</em> —
Lispプログラムの任意の箇所からアクセスできる変数 —
として定義するスペシャルフォームです。変数についての詳細は、<a class="link" href="ch12.html" title="Chapter 11. Variables">Variables</a>を参照してください。カスタマイズ可能な変数を定義するには、<code class="literal">defcustom</code>(これはサブルーチンとして<code class="literal">defvar</code>も呼び出します)を使用します(<a class="link" href="ch15.html" title="Chapter 14. Customization Settings">Customization</a>を参照してください)。
</p><p>原則として、最初にシンボルが変数として定義されていなくても、<code class="literal">setq</code>で任意のシンボルに値を割り当てることができます。しかし、使用したいそれぞれのグローバル変数にたいして、変数定義を記述するべきです。さもないと、レキシカルスコープ(<a class="link" href="ch12s09.html" title="Scoping Rules for Variable Bindings">Variable
Scoping</a>を参照してください)が有効なときに変数が評価された場合、あなたのLispプログラムは正しく動作しないでしょう。
</p><p><code class="literal">defun</code>は、ラムダ式(lambda
expression)を生成して、そのシンボルの関数セルにそれを格納することにより、シンボルを関数として定義します。したがって、このシンボルの関数定義は、このラムダ式になります(関数セルの内容を意味する用語“関数定義(function
definition)”は、<code class="literal">defun</code>がシンボルに関数としての定義を与えるというアイデアに由来します)。<a class="link" href="ch13.html" title="Chapter 12. Functions">Functions</a>を参照してください。
</p><p><code class="literal">defmacro</code>は、シンボルをマクロとして定義します。これはマクロオブジェクトを作成して、そのシンボルの関数セルにそれを格納します。シンボルにはマクロと関数を与えることができますが、マクロと関数定義はどちらも関数セルに保持されるのにたいし、関数セルに保持できるのは常にただ1つのLispオブジェクトなので、両方1度にそれを行なうことはできないことに注意してください。<a class="link" href="ch14.html" title="Chapter 13. Macros">Macros</a>を参照してください。
</p><p>前に注記したように、Emacs
Lispではシンボルを(たとえば<code class="literal">defvar</code>で)変数として定義して、同じシンボルを(たとえば<code class="literal">defun</code>で)関数やマクロとして、両方定義することができます。このような定義は衝突しません。
</p><p>これらの定義は、プログラミングツールのガイドを果たすこともできます。たとえば、<strong class="userinput"><code>C-h f</code></strong>および<strong class="userinput"><code>C-h
v</code></strong>コマンドは、関係ある変数、関数、マクロ定義へのリンクを含むヘルプバッファーを作成します。section “Name Help” in <em class="citetitle">The
GNU Emacs Manual</em>を参照してください。
</p></div></body></html>