<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title>Symbol Properties</title><meta name="generator" content="DocBook XSL Stylesheets V1.79.1"/></head><body><div class="sect1"><div class="titlepage"><div><div><h1 class="title"><a id="Symbol-Properties"/>Symbol Properties</h1></div></div></div><a id="idm52215632" class="indexterm"/><p>シンボルは、そのシンボルについての様々な情報を記録するために使用される、任意の数の<em class="firstterm">シンボルプロパティー(symbol
properties)</em>をもつことができます。たとえば、シンボルの<code class="literal">risky-local-variable</code>プロパティーが<code class="literal">nil</code>の場合は、その変数の名前が、危険なファイルローカル変数(<a class="link" href="ch12s11.html" title="File Local Variables">File
Local Variables</a>を参照してください)であることを意味します。
</p><p>シンボルのプロパティーとプロパティー値はそれぞれ、、シンボルのプロパティーリストセル(<a class="link" href="ch09.html#Symbol-Components" title="Symbol Components">Symbol
Components</a>を参照してください)に、プロパティーリスト形式(<a class="link" href="ch06s09.html" title="Property Lists">Property Lists</a>を参照してください)で格納されます。
</p><div class="sect2"><div class="titlepage"><div><div><h2 class="title"><a id="Symbol-Plists"/>Accessing Symbol Properties</h2></div></div></div><p>以下の関数は、シンボルプロパティーへのアクセスに使用できます。
</p><pre class="synopsis"><a id="idm52209360" class="indexterm"/><span class="category"><span class="bold"><strong>Function</strong></span>:</span> <code class="function">get</code> <em class="replaceable"><code>symbol</code></em> <em class="replaceable"><code>property</code></em></pre><div class="blockquote"><blockquote class="blockquote"><p>この関数は、<em class="replaceable"><code>symbol</code></em>のプロパティーリスト内の、<em class="replaceable"><code>property</code></em>という名前のプロパティーの値をreturnします。そのようなプロパティーが存在しない場合は、<code class="literal">nil</code>をreturnします。したがって、値が<code class="literal">nil</code>のときと、プロパティーが存在しない場合の違いはありません。
</p><p>名前<em class="replaceable"><code>property</code></em>は、<code class="literal">eq</code>を使用して既存のプロパティーと比較されるので、任意のオブジェクトはプロパティーとして適正です。
</p><p>例は<code class="literal">put</code>を参照してください。
</p></blockquote></div><pre class="synopsis"><a id="idm52201680" class="indexterm"/><span class="category"><span class="bold"><strong>Function</strong></span>:</span> <code class="function">put</code> <em class="replaceable"><code>symbol</code></em> <em class="replaceable"><code>property</code></em> <em class="replaceable"><code>value</code></em></pre><div class="blockquote"><blockquote class="blockquote"><p>この関数は、<em class="replaceable"><code>symbol</code></em>のプロパティーリストの、プロパティー名<em class="replaceable"><code>property</code></em>に<em class="replaceable"><code>value</code></em>を配して、以前のプロパティー値を置き換えます。<code class="literal">put</code>関数は、<em class="replaceable"><code>value</code></em>をreturnします。
</p><pre class="screen">(put 'fly 'verb 'transitive)
     ⇒'transitive
(put 'fly 'noun '(a buzzing little bug))
     ⇒ (a buzzing little bug)
(get 'fly 'verb)
     ⇒ transitive
(symbol-plist 'fly)
     ⇒ (verb transitive noun (a buzzing little bug))
</pre></blockquote></div><pre class="synopsis"><a id="idm52195152" class="indexterm"/><span class="category"><span class="bold"><strong>Function</strong></span>:</span> <code class="function">symbol-plist</code> <em class="replaceable"><code>symbol</code></em></pre><div class="blockquote"><blockquote class="blockquote"><p>この関数は、<em class="replaceable"><code>symbol</code></em>ののののプロパティーリストをreturnします。
</p></blockquote></div><pre class="synopsis"><a id="idm52191568" class="indexterm"/><span class="category"><span class="bold"><strong>Function</strong></span>:</span> <code class="function">setplist</code> <em class="replaceable"><code>symbol</code></em> <em class="replaceable"><code>plist</code></em></pre><div class="blockquote"><blockquote class="blockquote"><p>この関数は、<em class="replaceable"><code>symbol</code></em>のプロパティーリストを、<em class="replaceable"><code>plist</code></em>にセットします。<em class="replaceable"><code>plist</code></em>は通常、適正なプロパティーリストであるべきですが、これは強制ではありません。return値は<em class="replaceable"><code>plist</code></em>です。
</p><pre class="screen">(setplist 'foo '(a 1 b (2 3) c nil))
     ⇒ (a 1 b (2 3) c nil)
(symbol-plist 'foo)
     ⇒ (a 1 b (2 3) c nil)
</pre><p>通常の用途には使用されない、特別なobarray内のシンボルでは、非標準的で方法でプロパティーリストセルを使用することに意味があるかもしれません。実際に、abbrev(<a class="link" href="ch36.html" title="Chapter 35. Abbrevs and Abbrev Expansion">Abbrevs</a>を参照してください)のメカニズムは、これを行なっています。
</p><p>以下のように、<code class="literal">setplist</code>と<code class="literal">plist-put</code>により、<code class="literal">put</code>を定義できます:
</p><pre class="screen">(defun put (symbol prop value)
  (setplist symbol
            (plist-put (symbol-plist symbol) prop value)))
</pre></blockquote></div><pre class="synopsis"><a id="idm52182480" class="indexterm"/><span class="category"><span class="bold"><strong>Function</strong></span>:</span> <code class="function">function-get</code> <em class="replaceable"><code>symbol</code></em> <em class="replaceable"><code>property</code></em></pre><div class="blockquote"><blockquote class="blockquote"><p>この関数は、<code class="literal">get</code>と同じですが、<em class="replaceable"><code>symbol</code></em>が関数エイリアス(function
alias)の場合は、実際の関数の名づけるシンボルのプロパティーリストを参照します。<a class="link" href="ch13s04.html" title="Defining Functions">Defining Functions</a>を参照してください。
</p></blockquote></div></div><div class="sect2"><div class="titlepage"><div><div><h2 class="title"><a id="Standard-Properties"/>Standard Symbol Properties</h2></div></div></div><p>以下に、Emacsで特別な目的のために使用されるシンボルプロパティーをリストします。以下の表で、“名づけられた関数(the named
function)”と言うときは、関数名がそのシンボルである関数を意味します。“名づけられた変数(the named
variable)”などの場合も、同様です。
</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="literal">:advertised-binding</code>
</span></dt><dd><p>このプロパティーリストは、名づけられた関数のドキュメントを表示するときの、優先されるキーバインディングを指定します。<a class="link" href="ch24s03.html" title="Substituting Key Bindings in Documentation">Keys in
Documentation</a>を参照してください。
</p></dd><dt><span class="term"><code class="literal">char-table-extra-slots</code>
</span></dt><dd><p>値が非<code class="literal">nil</code>の場合は、名づけられた文字テーブル型の追加スロットの数を指定します。<a class="link" href="ch07s06.html" title="Char-Tables">Char-Tables</a>を参照してください。
</p></dd><dt><span class="term"><code class="literal">customized-face</code>
, </span><span class="term"><code class="literal">face-defface-spec</code>
, </span><span class="term"><code class="literal">saved-face</code>
, </span><span class="term"><code class="literal">theme-face</code>
</span></dt><dd><p>これらのプロパティーは、フェイスの標準のフェイススペック(face
specs)、およびフォントスペックsaved-fase、customized-face、themed-faceを記録するために使用されます。これらのプロパティーを直接セットしないでください。これらのプロパティーは<code class="literal">defface</code>、および関連する関数により管理されます。<a class="link" href="ch38s12.html#Defining-Faces" title="Defining Faces">Defining
Faces</a>を参照してください。
</p></dd><dt><span class="term"><code class="literal">customized-value</code>
, </span><span class="term"><code class="literal">saved-value</code>
, </span><span class="term"><code class="literal">standard-value</code>
, </span><span class="term"><code class="literal">theme-value</code>
</span></dt><dd><p>これらのプロパティーは、カスタマイズ可能な変数のstandard-value、saved-value、customized-value(しかし保存はされない)、themed-valueを記録するために使用されます。これらのプロパティーを直接セットしないでください。これらは<code class="literal">defcustom</code>、および関連する関数により管理されます。<a class="link" href="ch15s03.html" title="Defining Customization Variables">Variable
Definitions</a>を参照してください。
</p></dd><dt><span class="term"><code class="literal">disabled</code>
</span></dt><dd><p>値が非<code class="literal">nil</code>の場合、名づけられた関数はコマンドとして無効になります。<a class="link" href="ch21s14.html" title="Disabling Commands">Disabling Commands</a>を参照してください。
</p></dd><dt><span class="term"><code class="literal">face-documentation</code>
</span></dt><dd><p>値には、名づけられたフェイスのドキュメント文字列が格納されます。これは、<code class="literal">defface</code>により自動的にセットされます。<a class="link" href="ch38s12.html#Defining-Faces" title="Defining Faces">Defining
Faces</a>を参照してください。
</p></dd><dt><span class="term"><code class="literal">history-length</code>
</span></dt><dd><p>値が非<code class="literal">nil</code>の場合、名づけられたヒストリーリスト変数の、ミニバッファーヒストリーの最大長を指定します。<a class="link" href="ch20s04.html" title="Minibuffer History">Minibuffer
History</a>を参照してください。
</p></dd><dt><span class="term"><code class="literal">interactive-form</code>
</span></dt><dd><p>この値は、名づけられた関数の、インタラクティブ形式です。通常、これを直接セットするべきではありません。かわりに、スペシャルフォーム<code class="literal">interactive</code>を使用してください。<a class="link" href="ch21s03.html" title="Interactive Call">Interactive
Call</a>を参照してください。
</p></dd><dt><span class="term"><code class="literal">menu-enable</code>
</span></dt><dd><p>この値は、名づけられたメニューアイテムが、メニュー内で有効であるべきかを決定するための式です。<a class="link" href="ch22s17.html#Simple-Menu-Items" title="Simple Menu Items">Simple Menu
Items</a>を参照してください。
</p></dd><dt><span class="term"><code class="literal">mode-class</code>
</span></dt><dd><p>値が<code class="literal">special</code>の場合、名づけられたメジャーモードは“special(特別)”です。<a class="link" href="ch23s02.html#Major-Mode-Conventions" title="Major Mode Conventions">Major Mode
Conventions</a>を参照してください。
</p></dd><dt><span class="term"><code class="literal">permanent-local</code>
</span></dt><dd><p>値が非<code class="literal">nil</code>の場合、名づけられた変数はバッファーローカル変数となり、変数の値はメジャーモードの変更によりリセットされません。<a class="link" href="ch12s10.html#Creating-Buffer_002dLocal" title="Creating and Deleting Buffer-Local Bindings">Creating
Buffer-Local</a>を参照してください。
</p></dd><dt><span class="term"><code class="literal">permanent-local-hook</code>
</span></dt><dd><p>値が非<code class="literal">nil</code>の場合、名づけられた変数はメジャーモードを変更したとき、フック変数のローカル値から削除されません。<a class="link" href="ch23.html#Setting-Hooks" title="Setting Hooks">Setting
Hooks</a>を参照してください。
</p></dd><dt><span class="term"><code class="literal">pure</code>
</span></dt><dd><p>値が非<code class="literal">nil</code>の場合、名づけられた関数は、副作用の影響を受けないとみなされます。定数の引数で呼び出された場合、コンパイル時に評価することができます。これは、実行時のエラーをコンパイル時へとシフトします。
</p></dd><dt><span class="term"><code class="literal">risky-local-variable</code>
</span></dt><dd><p>値が非<code class="literal">nil</code>の場合、名づけられた変数は、ファイルローカル変数としては危険だとみなされます。<a class="link" href="ch12s11.html" title="File Local Variables">File Local
Variables</a>を参照してください。
</p></dd><dt><span class="term"><code class="literal">safe-function</code>
</span></dt><dd><p>値が非<code class="literal">nil</code>の場合、名づけられた関数は、評価において一般的に安全だとみなされます。<a class="link" href="ch13s15.html" title="Determining whether a Function is Safe to Call">Function
Safety</a>を参照してください。
</p></dd><dt><span class="term"><code class="literal">safe-local-eval-function</code>
</span></dt><dd><p>値が非<code class="literal">nil</code>の場合、名づけられた関数は、ファイルローカルの評価フォーム内で、安全に呼び出すことができます。<a class="link" href="ch12s11.html" title="File Local Variables">File Local
Variables</a>を参照してください。
</p></dd><dt><span class="term"><code class="literal">safe-local-variable</code>
</span></dt><dd><p>値は、名付けられた変数の、安全なファイルローカル値を決定する関数を指定します。<a class="link" href="ch12s11.html" title="File Local Variables">File Local Variables</a>を参照してください。
</p></dd><dt><span class="term"><code class="literal">side-effect-free</code>
</span></dt><dd><p>非<code class="literal">nil</code>値は、関数の安全性(<a class="link" href="ch13s15.html" title="Determining whether a Function is Safe to Call">Function
Safety</a>を参照してください)、およびバイトコンパイラーの最適化を決定するために、名づけられた関数が副作用から自由であることを示します。これをセットしないでください。
</p></dd><dt><span class="term"><code class="literal">variable-documentation</code>
</span></dt><dd><p>非<code class="literal">nil</code>の場合、それは名づけられた変数のドキュメント文字列を指定します。ドキュメント文字列は、<code class="literal">defvar</code>および関連する関数により、自動的にセットされます。<a class="link" href="ch38s12.html#Defining-Faces" title="Defining Faces">Defining
Faces</a>を参照してください。
</p></dd></dl></div></div></div></body></html>