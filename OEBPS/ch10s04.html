<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title>Backquote</title><meta name="generator" content="DocBook XSL Stylesheets V1.79.1"/></head><body><div class="sect1"><div class="titlepage"><div><div><h1 class="title"><a id="Backquote"/>Backquote</h1></div></div></div><a id="idm51887440" class="indexterm"/><a id="idm51886672" class="indexterm"/><a id="idm51885904" class="indexterm"/><p><em class="firstterm">バッククォート構成(backquote
constructs)</em>を使用することにより、リストをクォートして、そのリストのある要素を選択的に評価することができます。もっとも簡単な使い方では、スペシャルフォーム<code class="literal">quote</code>と同じです
(前のセクションで説明しています。<a class="link" href="ch10s03.html" title="Quoting">Quoting</a>を参照してください)。
たとえば、以下の2つのフォームは同じ結果を生みます:
</p><pre class="screen">`(a list of (+ 2 3) elements)
     ⇒ (a list of (+ 2 3) elements)
</pre><pre class="screen">'(a list of (+ 2 3) elements)
     ⇒ (a list of (+ 2 3) elements)
</pre><a id="idm51882576" class="indexterm"/><p>バッククォートする引数の内側でスペシャルマーカー‘<code class="literal">,</code>’を使用すると、それは値が定数でないことを示します。Emacs
Lispエバリュエーターは‘<code class="literal">,</code>’がついた引数を放火して、リスト構造内にその値を配します:
</p><pre class="screen">`(a list of ,(+ 2 3) elements)
     ⇒ (a list of 5 elements)
</pre><p>‘<code class="literal">,</code>’による置き換え、リスト構造のより深いレベルでも使用できます。たとえば:
</p><pre class="screen">`(1 2 (3 ,(+ 4 5)))
     ⇒ (1 2 (3 9))
</pre><a id="idm51878480" class="indexterm"/><a id="idm51877712" class="indexterm"/><p>スペシャルマーカー‘<code class="literal">,@</code>’を使用すれば、評価された値を結果リストに<em class="firstterm">継ぎ足す(splice)</em>こともできます。継ぎ足されたリストの要素は、結果リスト内の他の要素を同じレベルになります。‘<code class="literal">`</code>’を使用しない等価なコードは、しばしば読むのが困難です。以下にいくつかの例を示します:
</p><pre class="screen">(setq some-list '(2 3))
     ⇒ (2 3)
</pre><pre class="screen">(cons 1 (append some-list '(4) some-list))
     ⇒ (1 2 3 4 2 3)
</pre><pre class="screen">`(1 ,@some-list 4 ,@some-list)
     ⇒ (1 2 3 4 2 3)
</pre><pre class="screen">
</pre><pre class="screen">(setq list '(hack foo bar))
     ⇒ (hack foo bar)
</pre><pre class="screen">(cons 'use
  (cons 'the
    (cons 'words (append (cdr list) '(as elements)))))
     ⇒ (use the words foo bar as elements)
</pre><pre class="screen">`(use the words ,@(cdr list) as elements)
     ⇒ (use the words foo bar as elements)
</pre></div></body></html>