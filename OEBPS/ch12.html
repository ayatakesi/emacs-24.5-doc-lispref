<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title>Chapter 11. Variables</title><meta name="generator" content="DocBook XSL Stylesheets V1.79.1"/></head><body><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a id="Variables"/>Chapter 11. Variables</h1></div></div></div><a id="idm51070416" class="indexterm"/><p><em class="firstterm">変数(variable)</em>とは、プログラム内で値を表すために使用される名前です。Lispでは、変数はそれぞれLispシンボルとして表されます(<a class="link" href="ch09.html" title="Chapter 8. Symbols">Symbols</a>を参照してください)。変数名は単にそのシンボルの名前であり、変数の値はそのシンボルの値セル(value
cell)に格納されます<a href="#ftn.idm51068624" class="footnote" id="idm51068624"><sup class="footnote">[6]</sup></a>。<a class="link" href="ch09.html#Symbol-Components" title="Symbol Components">Symbol
Components</a>を参照してください。Emacs
Lispでは、シンボルを変数として使用することは、同じシンボルを関数名として使用することと関係ありません。
</p><p>このマニュアル中で前に記したとおり、Lispプログラムはまず第1にLispオブジェクトとして表され、副次的にテキストとして表現されます。Lispプログラムのテキスト的な形式は、そのプログラムを構成するLispオブジェクトの入力構文により与えられます。したがって、Lispプログラム内の変数のテキスト的な形式は、その変数を表すシンボルの入力構文を使用して記述されます。
</p><div class="sect1"><div class="titlepage"><div><div><h1 class="title"><a id="Global-Variables"/>Global Variables</h1></div></div></div><a id="idm51064912" class="indexterm"/><p>変数を使用するための一番シンプルな方法は、<em class="firstterm">グローバル(globally)</em>に使用する方法です。これは、ある時点でその変数はただ1つの値をもち、その値が(少なくともその時点では)Lispシステム全体で効果をもつことを意味します。あらたな値を指定するまで、その値が効果をもちます。新しい値で古い値を置き換えるとき、古い値を追跡する情報は変数内に残りません。
</p><p>シンボルの値は<code class="literal">setq</code>で指定します。たとえば、
</p><pre class="screen">(setq x '(a b))
</pre><p>これは、変数<code class="literal">x</code>に値<code class="literal">(a
b)</code>を与えます。<code class="literal">setq</code>はスペシャルフォームであることに注意してください。これは1番目の引数(変数の名前)は評価しませんが、2番目の引数(新しい値)は評価します。
</p><p>変数が1度値をもつと、そのシンボル自身を式として使用することにより、参照することができます。したがって、
</p><pre class="screen">x ⇒ (a b)
</pre><p>これは上記の<code class="literal">setq</code>フォームが実行された場合です。
</p><p>同じ変数を再びセットした場合、新しい値は古い値を置き換えます:
</p><pre class="screen">x
     ⇒ (a b)
</pre><pre class="screen">(setq x 4)
     ⇒ 4
</pre><pre class="screen">x
     ⇒ 4
</pre></div><div class="footnotes"><br/><hr/><div id="ftn.idm51068624" class="footnote"><p><a href="#idm51068624" class="para"><sup class="para">[6] </sup></a>正確に言うと、デフォルトの<em class="firstterm">ダイナミックスコープ(dynamic
scoping)</em>のルールでは、値セルは常にその変数のカレント値を保持しますが、<em class="firstterm">レキシカルスコープ(lexical
scoping)</em>では異なります。詳細は、<a class="link" href="ch12s09.html" title="Scoping Rules for Variable Bindings">Variable Scoping</a>を参照してください。</p></div></div></div></body></html>