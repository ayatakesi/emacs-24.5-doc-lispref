<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title>Chapter 14. Customization Settings</title><meta name="generator" content="DocBook XSL Stylesheets V1.79.1"/></head><body><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a id="Customization"/>Chapter 14. Customization Settings</h1></div></div></div><a id="idm53098832" class="indexterm"/><p>Emacsのユーザーは、カスタマイズインターフェースにより、Lispコードを記述することなく。変数とフェースをカスタマイズできます。section “Easy
Customization” in <em class="citetitle">The GNU Emacs
Manual</em>を参照してください。このチャプターでは、カスタマイズインターフェースを通じて、ユーザーとやりとりするための、<em class="firstterm">カスタマイズアイテム（customization
items）</em>を定義する方法を説明します。
</p><p>カスタマイズアイテムには、カスタマイズ可能変数(customizable variable:
<code class="literal">defcustom</code>マクロで定義される。
カスタマイズ可能フェース(customizable face: <code class="literal">defface</code>で定義される。<a class="link" href="ch38s12.html#Defining-Faces" title="Defining Faces">Defining
Faces</a>を参照してください)、および関連するカスタマイズアイテムのグループのためのコンテナーとして働くカスタマイズグループ(customization
group:
<code class="literal">defgroup</code>で定義される)
が含まれます。
</p><div class="sect1"><div class="titlepage"><div><div><h1 class="title"><a id="Common-Keywords"/>Common Item Keywords</h1></div></div></div><a id="idm53081296" class="indexterm"/><p>以降のセクションで説明するカスタマイズ宣言(customization declaration) —
<code class="literal">defcustom</code>、<code class="literal">defgroup</code>などはすべて、さまざまな情報を指定するためのキーワード引数(<a class="link" href="ch12s02.html" title="Variables that Never Change">Constant
Variables</a>を参照してください)を受け取ります。このセクションでは、カスタマイズ宣言のすべての種類に適用されるキーワードを説明します。
</p><p><code class="literal">:tag</code>以外のすべてのキーワードは、与えられたアイテムにたいして複数回使用できます。キーワードの使用はそれぞれ独立した効果をもちます。<code class="literal">:tag</code>は例外で、これはすべての与えられたアイテムは1つの名前だけを表示できるからです。
</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="literal">:tag <em class="replaceable"><code>label</code></em></code>
</span></dt><dd><a id="idm53075920" class="indexterm"/><p><em class="replaceable"><code>label</code></em>を使用すると、カスタマイズメニュー(customization menu)およびカスタマイズバッファー(customization
buffer)のアイテムのラベルづけに、そのアイテムの名前のかわりに指定された文字列を使用します。<span class="bold"><strong>混乱を招くので、そのアイテムの実際の名前と、大きく異なる名前は使用しないでください</strong></span>。
</p><a id="idm53073872" class="indexterm"/></dd><dt><span class="term"><code class="literal">:group <em class="replaceable"><code>group</code></em></code>
</span></dt><dd><p>このカスタマイズアイテムを、グループ<em class="replaceable"><code>group</code></em>に配します。<code class="literal">defgroup</code>内で<code class="literal">:group</code>を使用した場合、そのアイテムは新しいグループ(<code class="literal">:group</code>のサブグループ)になります。
</p><p>このキーワードを複数回使用した場合、1つのアイテムを複数のグループに配すことができます。これらのグループのどれかを表示すると、このアイテムが表示されます。煩わしくなるので、多用しないでください。
</p></dd><dt><span class="term"><code class="literal">:link <em class="replaceable"><code>link-data</code></em></code>
</span></dt><dd><a id="idm53068112" class="indexterm"/><p>このアイテムのドキュメント文字列の後に外部リンクを含めます。これは他のドキュメントを参照する、センテンスを含むボタンです。
</p><p><em class="replaceable"><code>link-data</code></em>に使用できる複数の候補があります:
</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="literal">(custom-manual <em class="replaceable"><code>info-node</code></em>)</code>
</span></dt><dd><p>infoノードへのリンクです。<em class="replaceable"><code>info-node</code></em>は、<code class="literal">"(emacs)Top"</code>のような、ノード名を示す文字列です。このリンクはカスタマイズバッファーの‘<code class="literal">[Manual]</code>’に表示され、<em class="replaceable"><code>info-node</code></em>にたいしてビルトインのinfoリーダーを起動します。
</p></dd><dt><span class="term"><code class="literal">(info-link <em class="replaceable"><code>info-node</code></em>)</code>
</span></dt><dd><p><code class="literal">custom-manual</code>と同様ですが、カスタマイズバッファーには、そのinfoノード名が表示されます。
</p></dd><dt><span class="term"><code class="literal">(url-link <em class="replaceable"><code>url</code></em>)</code>
</span></dt><dd><p>ウェブページヘのリンクです。<em class="replaceable"><code>url</code></em>は<acronym class="acronym">URL</acronym>を指定する文字列です。カスタマイズバッファーに表示されるリンクは、<code class="literal">browse-url-browser-function</code>で指定されたWWWブラウザーを呼び出します。
</p></dd><dt><span class="term"><code class="literal">(emacs-commentary-link <em class="replaceable"><code>library</code></em>)</code>
</span></dt><dd><p>ライブラリーのコメントセクション(commentary
section)へのリンクです。<em class="replaceable"><code>library</code></em>はライブラリー名を指定する文字列です。<a class="link" href="apds08.html" title="Conventional Headers for Emacs Libraries">Library
Headers</a>を参照してください。
</p></dd><dt><span class="term"><code class="literal">(emacs-library-link <em class="replaceable"><code>library</code></em>)</code>
</span></dt><dd><p>Emacs Lispライブラリーファイルへのリンクです。<em class="replaceable"><code>library</code></em>はライブラリー名を指定する文字列です。
</p></dd><dt><span class="term"><code class="literal">(file-link <em class="replaceable"><code>file</code></em>)</code>
</span></dt><dd><p>ファイルへのリンクです。<em class="replaceable"><code>file</code></em>は、ユーザーがこのリンクを呼び出したときに<code class="literal">find-file</code>でvisitするファイルの名前を指定する文字列です。
</p></dd><dt><span class="term"><code class="literal">(function-link <em class="replaceable"><code>function</code></em>)</code>
</span></dt><dd><p>関数のドキュメントへのリンクです。<em class="replaceable"><code>function</code></em>は、ユーザーがこのリンクを呼び出したときに<code class="literal">describe-function</code>で説明を表示する関数の名前を指定する文字列です。
</p></dd><dt><span class="term"><code class="literal">(variable-link <em class="replaceable"><code>variable</code></em>)</code>
</span></dt><dd><p>変数のドキュメントへのリンクです。<em class="replaceable"><code>variable</code></em>は、ユーザーがこのリンクを呼び出したときに<code class="literal">describe-variable</code>で説明を表示する変数の名前を指定する文字列です。
</p></dd><dt><span class="term"><code class="literal">(custom-group-link <em class="replaceable"><code>group</code></em>)</code>
</span></dt><dd><p>他のカスタマイズグループへのリンクです。このリンクを呼び出すことにより、<em class="replaceable"><code>group</code></em>にたいする新たなカスタマイズバッファーが作成されます。
</p></dd></dl></div><p><em class="replaceable"><code>link-data</code></em>の1つ目の要素の後に<code class="literal">:tag
<em class="replaceable"><code>name</code></em></code>を追加することにより、カスタマイズバッファーで使用するテキストを指定できます。たとえば<code class="literal">(info-link :tag
"foo" "(emacs)Top")</code>は、そのバッファーで‘<code class="literal">foo</code>’と表示されるEmacs manualへのリンクを作成します。
</p><p>複数のリンクを追加するために、このキーワードを複数回使用することができます。
</p></dd><dt><span class="term"><code class="literal">:load <em class="replaceable"><code>file</code></em></code>
</span></dt><dd><a id="idm53039312" class="indexterm"/><p>このカスタマイズアイテムを表示する前に、ファイル<em class="replaceable"><code>file</code></em>をロードします(<a class="link" href="ch16.html" title="Chapter 15. Loading">Loading</a>を参照してください)。ロードは<code class="literal">load</code>により行われ、そのファイルがまだロードされていないときだけロードします。
</p></dd><dt><span class="term"><code class="literal">:require <em class="replaceable"><code>feature</code></em></code>
</span></dt><dd><a id="idm53035600" class="indexterm"/><p>保存したカスタマイズが、このアイテム値をセットするとき、<code class="literal">(require
'<em class="replaceable"><code>feature</code></em>)</code>が実行されます。<em class="replaceable"><code>feature</code></em>はシンボルです。
</p><p><code class="literal">:require</code>を使用するもっとも一般的な理由は、ある変数がマイナーモードのような機能を有効にするとき、そのモードを実装するコードがロードされていない場合には、変数をセットするだけでは効果がないからです。
</p></dd><dt><span class="term"><code class="literal">:version <em class="replaceable"><code>version</code></em></code>
</span></dt><dd><a id="idm53031248" class="indexterm"/><p>このキーワードは、そのアイテムが最初に導入されたEmacsバージョン<em class="replaceable"><code>version</code></em>、またはそのアイテムのデフォルト値がそのバージョンで変更されたことを指定します。値<em class="replaceable"><code>version</code></em>は文字列でなければなりません。
</p></dd><dt><span class="term"><code class="literal">:package-version '(<em class="replaceable"><code>package</code></em> . <em class="replaceable"><code>version</code></em>)</code>
</span></dt><dd><a id="idm53027536" class="indexterm"/><p>このキーワードは、そのアイテムが最初に導入された<em class="replaceable"><code>package</code></em>のバージョン<em class="replaceable"><code>version</code></em>またはアイテムの意味(またはデフォルト値)が変更されたバージョンを指定します。このキーワードは<code class="literal">:version</code>より優先されます。
</p><p><em class="replaceable"><code>package</code></em>にはそのパッケージの公式名をシンボルとして指定します(たとえば<code class="literal">MH-E</code>)。<em class="replaceable"><code>version</code></em>には文字列を指定します。パッケージ<em class="replaceable"><code>package</code></em>がEmacsの一部としてリリースされた場合、<em class="replaceable"><code>package</code></em>と<em class="replaceable"><code>version</code></em>の値は、<code class="literal">customize-package-emacs-version-alist</code>の値に表示されるべきです。
</p></dd></dl></div><p>Emacsの一部として配布された<code class="literal">:package-version</code>キーワードを使用するパッケージは、<code class="literal">customize-package-emacs-version-alist</code>変数も更新しなければなりません。
</p><pre class="synopsis"><a id="idm53020240" class="indexterm"/><span class="category"><span class="bold"><strong>Variable</strong></span>:</span> <code class="varname">customize-package-emacs-version-alist</code></pre><div class="blockquote"><blockquote class="blockquote"><p>このalistは、Emacsのバージョンにたいして、<code class="literal">:package-version</code>キーワード内でリストされたパッケージのバージョンへのマッピングを提供します:
</p><pre class="screen">(<em class="replaceable"><code>package</code></em> (<em class="replaceable"><code>pversion</code></em> . <em class="replaceable"><code>eversion</code></em>)…)
</pre><p><em class="replaceable"><code>package</code></em>(シンボル)それぞれにたいして、パッケージバージョン<em class="replaceable"><code>pversion</code></em>を含む1つ以上の要素と、それに関連づけられるEmacsバージョン<em class="replaceable"><code>eversion</code></em>が存在します。これらのバージョンは文字列です。たとえばMH-Eパッケージは、以下でalistを更新します:
</p><pre class="screen">(add-to-list 'customize-package-emacs-version-alist
             '(MH-E ("6.0" . "22.1") ("6.1" . "22.1") ("7.0" . "22.1")
                    ("7.1" . "22.1") ("7.2" . "22.1") ("7.3" . "22.1")
                    ("7.4" . "22.1") ("8.0" . "22.1")))
</pre><p><em class="replaceable"><code>package</code></em>の値は一意である必要があり、また<code class="literal">:package-version</code>キーワード内に現れる<em class="replaceable"><code>package</code></em>の値とマッチする必要があります。おそらくユーザーはエラーメッセージからこの値を見るので、MH-EやGnusのようなパッケージの公式名を選択するのがよいでしょう。
</p></blockquote></div></div></div></body></html>