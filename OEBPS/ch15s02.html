<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title>Defining Customization Groups</title><meta name="generator" content="DocBook XSL Stylesheets V1.79.1"/></head><body><div class="sect1"><div class="titlepage"><div><div><h1 class="title"><a id="Group-Definitions"/>Defining Customization Groups</h1></div></div></div><a id="idm53010512" class="indexterm"/><a id="idm53009744" class="indexterm"/><p>Emacs Lispパッケージはそれぞれ、1つのメインカスタマイズグループ(main customization
group)をもち、それにはすべてのオプション、フェイス、そのパッケージ内の他のグルーﾌﾟが含まれるべきです。そのパッケージには少数のオプションとフェイスしかない場合は、1つのグループだけを使用して、その中にすべてを置きます。20以上のオプションやフェイスがある場合には、それらをサブグループ内に構造化して、そのサブグループをメインカスタマイズグループの下に配します。そのパッケージ内の任意のオプションまたはフェイスを、サブグループと並行してメイングループに配しても構いません。
</p><p>そのパッケージのメイングループ(または唯一のグループ)は、1つ以上の標準カスタムグループ(standard customization
group)のメンバーであるべきです(これらの完全なリストを表示するには、<strong class="userinput"><code>M-x
customize</code></strong>を使用します)。それらの内から1つ以上(多すぎないこと)を選択して、<code class="literal">:group</code>を使用してあなたのグループをそれらに追加します。
</p><p>新しいカスタマイズグループは、<code class="literal">defgroup</code>で宣言します。
</p><pre class="synopsis"><a id="idm52977360" class="indexterm"/><span class="category"><span class="bold"><strong>Macro</strong></span>:</span> <code class="function">defgroup</code> <em class="replaceable"><code>group</code></em> <em class="replaceable"><code>members</code></em> <em class="replaceable"><code>doc</code></em> [<em class="replaceable"><code>keyword</code></em> <em class="replaceable"><code>value</code></em>]<em class="replaceable"><code>…</code></em></pre><div class="blockquote"><blockquote class="blockquote"><p><em class="replaceable"><code>members</code></em>を含む、カスタマイズグループとして、<em class="replaceable"><code>group</code></em>を宣言します。シンボル<em class="replaceable"><code>group</code></em>はクォートしません。引数<em class="replaceable"><code>doc</code></em>は、そのグループにたいするドキュメント文字列を指定します。
</p><p>引数<em class="replaceable"><code>members</code></em>は、そのグループのメンバーとなるカスタマイズアイテムの初期セットを指定するリストです。しかしほとんどの場合は<em class="replaceable"><code>members</code></em>を<code class="literal">nil</code>にして、メンバーを定義するときに<code class="literal">:group</code>キーワードを使用することにより、そのグループのメンバーを指定します。
</p><p><em class="replaceable"><code>members</code></em>を通じてグループのメンバーを指定したい場合、各要素は<code class="literal">(<em class="replaceable"><code>name</code></em>
<em class="replaceable"><code>widget</code></em>)</code>という形式で指定するべきです。ここで<em class="replaceable"><code>name</code></em>はシンボル、<em class="replaceable"><code>widget</code></em>はそのシンボルを編集するウィジェット型(widget
type)です。有用なウィジェットには、変数にたいする<code class="literal">custom-variable</code>、フェイスにたいする<code class="literal">custom-face</code>、グループにたいする<code class="literal">custom-group</code>があります。
</p><p>Emacsに新しいグループを導入するときは、<code class="literal">defgroup</code>内で<code class="literal">:version</code>キーワードを使用します。そうすればグループの個別のメンバーに対してそれを使用する必要がなくなります。
</p><p>一般的なキーワード(<a class="link" href="ch15.html#Common-Keywords" title="Common Item Keywords">Common
Keywords</a>を参照してください)に加えて、<code class="literal">defgroup</code>ないでは以下のキーワードも使用できます:
</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="literal">:prefix <em class="replaceable"><code>prefix</code></em></code>
</span></dt><dd><a id="idm52960464" class="indexterm"/><p>グループ内のアイテムの名前が<em class="replaceable"><code>prefix</code></em>で始まり、カスタマイズ変数<code class="literal">custom-unlispify-remove-prefixes</code>が非<code class="literal">nil</code>の場合、そのアイテムのタグから<em class="replaceable"><code>prefix</code></em>が省略されます。グループは任意の数のプレフィクスをもつことができます。
</p></dd></dl></div></blockquote></div><pre class="synopsis"><a id="idm52952656" class="indexterm"/><span class="category"><span class="bold"><strong>User Option</strong></span>:</span> <code class="varname">custom-unlispify-remove-prefixes</code></pre><div class="blockquote"><blockquote class="blockquote"><p>この変数が非<code class="literal">nil</code>の場合、グループの<code class="literal">:prefix</code>キーワードで指定されたプレフィクスは、ユーザーがグループをカスタマイズするときは常に、タグ名から省略されます。
</p><p>デフォルト値は<code class="literal">nil</code>、つまりプレフィクス省略(prefix-discarding)の機能は無効です。これは、オプションやフェイスの名前にたいしてプレフィクスを省略するのは、混乱を招くことがあるからです。
</p></blockquote></div></div></body></html>