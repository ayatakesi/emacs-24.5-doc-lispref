<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title>Custom Themes</title><meta name="generator" content="DocBook XSL Stylesheets V1.79.1"/></head><body><div class="sect1"><div class="titlepage"><div><div><h1 class="title"><a id="Custom-Themes"/>Custom Themes</h1></div></div></div><a id="idm56558544" class="indexterm"/><p><em class="firstterm">カスタムテーマ(Custom themes)</em>とはユニットとして有効または無効にできるセッティングのコレクションです。section “Custom
Themes” in <em class="citetitle">The GNU Emacs Manual</em>を参照してくださいカスタムテーマはそれぞれEmacs
Lispソースファイルにより定義され、それらはこのセクションで説明する慣習にしたがう必要があります。(カスタムファイルを手で記述するかわりに、カスタマイズ風のインターフェイスを使用して作成することもできます。section “Creating
Custom Themes” in <em class="citetitle">The GNU Emacs Manual</em>を参照してください。)
</p><p>カスタムファイルは<code class="filename"><em class="replaceable"><code>foo</code></em>-theme.el</code>のように命名すべきです。ここで<em class="replaceable"><code>foo</code></em>はテーマの名前です。このファイルでの最初のLispフォームは<code class="literal">deftheme</code>の呼び出しで、最後のフォームは<code class="literal">provide-theme</code>にすべきです。
</p><pre class="synopsis"><a id="idm56553552" class="indexterm"/><span class="category"><span class="bold"><strong>Macro</strong></span>:</span> <code class="function">deftheme</code> <em class="replaceable"><code>theme</code></em> <em class="replaceable"><code>&amp;optional</code></em> <em class="replaceable"><code>doc</code></em></pre><div class="blockquote"><blockquote class="blockquote"><p>このマクロはカスタムテーマの名前として<em class="replaceable"><code>theme</code></em>(シンボル)を宣言します。オプション引数<em class="replaceable"><code>doc</code></em>は、そのテーマを説明する文字列であるべきです。この文字列はユーザーが<code class="literal">describe-theme</code>コマンドを呼び出したり、‘<code class="literal">*Custom
Themes*</code>’バッファーで<strong class="userinput"><code>?</code></strong>をタイプしたときに表示されます。
</p><p>2つの特別なテーマ名は禁止されています(それらを使用するとエラーになります)。<code class="literal">user</code>は、そのユーザーの直接的なカスタマイズ設定を格納するための“ダミー”のテーマです。そし<code class="literal">changed</code>はカスタムシステムの外で行われた変更を格納するための“ダミー”のテーマです。
</p></blockquote></div><pre class="synopsis"><a id="idm56533456" class="indexterm"/><span class="category"><span class="bold"><strong>Macro</strong></span>:</span> <code class="function">provide-theme</code> <em class="replaceable"><code>theme</code></em></pre><div class="blockquote"><blockquote class="blockquote"><p>このマクロは完全に仕様が定められたテーマ名<em class="replaceable"><code>theme</code></em>を宣言します。
</p></blockquote></div><p><code class="literal">deftheme</code>と<code class="literal">provide-theme</code>の違いは、そのテーマセッティングを規定するLispフォーム(通常は<code class="literal">custom-theme-set-variables</code>の呼び出し、および/または<code class="literal">custom-theme-set-faces</code>の呼び出し)です。
</p><pre class="synopsis"><a id="idm56523472" class="indexterm"/><span class="category"><span class="bold"><strong>Function</strong></span>:</span> <code class="function">custom-theme-set-variables</code> <em class="replaceable"><code>theme</code></em> <em class="replaceable"><code>&amp;rest</code></em> <em class="replaceable"><code>args</code></em></pre><div class="blockquote"><blockquote class="blockquote"><p>この関数は、カスタムテーマ<em class="replaceable"><code>theme</code></em>の変数のセッティングを規定します。<em class="replaceable"><code>theme</code></em>はシンボルです。<em class="replaceable"><code>args</code></em>内の各引数はフォームのリストです。
</p><pre class="screen">(<em class="replaceable"><code>var</code></em> <em class="replaceable"><code>expression</code></em> [<em class="replaceable"><code>now</code></em> [<em class="replaceable"><code>request</code></em> [<em class="replaceable"><code>comment</code></em>]]])
</pre><p>ここでリストエントリーは<code class="literal">custom-set-variables</code>のときと同じ意味をもちます。<a class="link" href="ch15s05.html" title="Applying Customizations">Applying
Customizations</a>を参照してください。
</p></blockquote></div><pre class="synopsis"><a id="idm56514512" class="indexterm"/><span class="category"><span class="bold"><strong>Function</strong></span>:</span> <code class="function">custom-theme-set-faces</code> <em class="replaceable"><code>theme</code></em> <em class="replaceable"><code>&amp;rest</code></em> <em class="replaceable"><code>args</code></em></pre><div class="blockquote"><blockquote class="blockquote"><p>この関数は、カスタムテーマ<em class="replaceable"><code>theme</code></em>のフェイスのセッティングを規定します。<em class="replaceable"><code>theme</code></em>はシンボルです。<em class="replaceable"><code>args</code></em>内の各引数はフォームのリストです。
</p><pre class="screen">(<em class="replaceable"><code>face</code></em> <em class="replaceable"><code>spec</code></em> [<em class="replaceable"><code>now</code></em> [<em class="replaceable"><code>comment</code></em>]])
</pre><p>ここでリストエントリーは<code class="literal">custom-set-faces</code>のときと同じ意味をもちます。<a class="link" href="ch15s05.html" title="Applying Customizations">Applying
Customizations</a>を参照してください。
</p></blockquote></div><p>原則的に、テーマファイルは他のLispフォームを含むこともでき、それらはそのテーマがロードされるときに評価されるでしょうが、これは“悪いフォーム”です。悪意のあるコードを含むテーマのロードを防ぐために、最初に非ビルトインテーマをロードする前に、Emacsはソースファイルを表示して、ユーザーにたいして確認を求めます。
</p><p>以下の関数は、テーマをプログラム的に有効または無効にするのに有用です:
</p><pre class="synopsis"><a id="idm56480592" class="indexterm"/><span class="category"><span class="bold"><strong>Function</strong></span>:</span> <code class="function">custom-theme-p</code> <em class="replaceable"><code>theme</code></em></pre><div class="blockquote"><blockquote class="blockquote"><p>この関数は<em class="replaceable"><code>theme</code></em>(シンボル)がカスタムテーマの名前の場合(たとえば、そのテーマが有効かどうかにかかわらず、カスタムテーマがEmacsにロードされていれば)、非<code class="literal">nil</code>をリターンします。それ以外は<code class="literal">nil</code>をリターンします。
</p></blockquote></div><pre class="synopsis"><a id="idm56475984" class="indexterm"/><span class="category"><span class="bold"><strong>Variable</strong></span>:</span> <code class="varname">custom-known-themes</code></pre><div class="blockquote"><blockquote class="blockquote"><p>この変数の値は、Emacsにロードされたテーマのリストです。テーマはそれぞれ、Lispシンボル(テーマ名)により表されます。この変数のデフォルト値は、2つの“ダミーテーマ”を含みます:
<code class="literal">(user
changed)</code>。<code class="literal">changed</code>テーマには、カスタムテーマが適用される前に行われたセッティング(たとえばカスタムの外部での変数のセット)が格納されています。<code class="literal">user</code>テーマには、そのユーザーがカスタマイズして保存したセッティングが格納されています。<code class="literal">deftheme</code>マクロで宣言された任意の追加テーマは、このリストの先頭に追加されます。
</p></blockquote></div><pre class="synopsis"><a id="idm56471120" class="indexterm"/><span class="category"><span class="bold"><strong>Command</strong></span>:</span> <code class="function">load-theme</code> <em class="replaceable"><code>theme</code></em> <em class="replaceable"><code>&amp;optional</code></em> <em class="replaceable"><code>no-confirm</code></em> <em class="replaceable"><code>no-enable</code></em></pre><div class="blockquote"><blockquote class="blockquote"><p>この関数は<em class="replaceable"><code>theme</code></em>という名前のカスタムテーマを、変数<code class="literal">custom-theme-load-path</code>で指定されたディレクトリーを探して、ソースファイルからロードします。section “Custom
Themes” in <em class="citetitle">The GNU Emacs
Manual</em>を参照してください。また、そのテーマの変数とフェイスのセッティングが効果を及ぼすようにテーマを<em class="firstterm">enables</em>にします(オプション引数<em class="replaceable"><code>no-enable</code></em>が非<code class="literal">nil</code>でない場合)さらに、オプション引数<em class="replaceable"><code>no-confirm</code></em>が非<code class="literal">nil</code>でない場合は、そのテーマをロードする前にユーザーに確認を求めます。
</p></blockquote></div><pre class="synopsis"><a id="idm56463312" class="indexterm"/><span class="category"><span class="bold"><strong>Command</strong></span>:</span> <code class="function">enable-theme</code> <em class="replaceable"><code>theme</code></em></pre><div class="blockquote"><blockquote class="blockquote"><p>この関数は<em class="replaceable"><code>theme</code></em>という名前のカスタムテーマを有効にします。そのようなテーマがロードされていない場合は、エラーをシグナルします。
</p></blockquote></div><pre class="synopsis"><a id="idm56459728" class="indexterm"/><span class="category"><span class="bold"><strong>Command</strong></span>:</span> <code class="function">disable-theme</code> <em class="replaceable"><code>theme</code></em></pre><div class="blockquote"><blockquote class="blockquote"><p>この関数は<em class="replaceable"><code>theme</code></em>という名前のカスタムテーマを無効にします。テーマはロードされたまま残りので、続けて<code class="literal">enable-theme</code>を呼び出せばテーマは再び有効になります。
</p></blockquote></div></div></body></html>