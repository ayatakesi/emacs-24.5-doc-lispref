<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title>Disabling Commands</title><meta name="generator" content="DocBook XSL Stylesheets V1.79.1"/></head><body><div class="sect1"><div class="titlepage"><div><div><h1 class="title"><a id="Disabling-Commands"/>Disabling Commands</h1></div></div></div><a id="idm59382992" class="indexterm"/><p><em class="firstterm">コマンドを無効化(disabling a
command)</em>とは、それを実行可能にする前にユーザーによる確認を要求するようにコマンドをマークすることです。無効化は初めてのユーザーを混乱させるかもしれないコマンドにたいして、アクシデントによりそのコマンドが使用されるのを防ぐために使用されます。
</p><a id="idm59381584" class="indexterm"/><p>コマンド無効化の低レベルにおけるメカニズムは、そのコマンドにたいするLispシンボルの<code class="literal">disabled</code>プロパティに非<code class="literal">nil</code>をputすることです。これらのプロパティは、通常はユーザーのinitファイル(<a class="link" href="ch39.html#Init-File" title="The Init File">Init
File</a>を参照)で以下のようなLisp式によりセットアップされます:
</p><pre class="screen">(put 'upcase-region 'disabled t)
</pre><p>いくつかのコマンドにたいしては、これらのプロパティがデフォルトで与えられています(これらを削除したい場合はinitファイルで削除できる)。
</p><p><code class="literal">disabled</code>プロパティの値が文字列の場合、そのコマンドが無効化されていることを告げるメッセージにその文字列が含まれます。たとえば:
</p><pre class="screen">(put 'delete-region 'disabled
     "この方法で削除されたテキストはyankで戻せない!\n")
</pre><p>無効化されたコマンドをインタラクティブに呼び出したときに何が起こるかの詳細は、See section “Disabling” in <em class="citetitle">The GNU
Emacs Manual</em>を参照してください。コマンドの無効化は、それをLispプログラムから関数として呼び出したときは効果がありません。
</p><pre class="synopsis"><a id="idm59350992" class="indexterm"/><span class="category"><span class="bold"><strong>Command</strong></span>:</span> <code class="function">enable-command</code> <em class="replaceable"><code>command</code></em></pre><div class="blockquote"><blockquote class="blockquote"><p>その時点より、特別な確認なしで<em class="replaceable"><code>command</code></em>(シンボル)が実行されることを許す。さらにユーザーのinitファイル(<a class="link" href="ch39.html#Init-File" title="The Init File">Init
File</a>を参照)も修正するので、将来のセッションにもこれが適用される。
</p></blockquote></div><pre class="synopsis"><a id="idm59346896" class="indexterm"/><span class="category"><span class="bold"><strong>Command</strong></span>:</span> <code class="function">disable-command</code> <em class="replaceable"><code>command</code></em></pre><div class="blockquote"><blockquote class="blockquote"><p>その時点より、<em class="replaceable"><code>command</code></em>(シンボル)の実行に特別な確認を要求する。さらにユーザーのinitファイル(<a class="link" href="ch39.html#Init-File" title="The Init File">Init
File</a>を参照)も修正するので、将来のセッションにもこれが適用される。
</p></blockquote></div><pre class="synopsis"><a id="idm59338704" class="indexterm"/><span class="category"><span class="bold"><strong>Variable</strong></span>:</span> <code class="varname">disabled-command-function</code></pre><div class="blockquote"><blockquote class="blockquote"><p>この変数の値は関数であること。ユーザーが無効化されたコマンドを呼び出したときは、無効化されたコマンドのかわりにその関数が呼び出される。そのコマンドを実行するためにユーザーが何のキーをタイプしたかを判断するために<code class="literal">this-command-keys</code>を使用して、そのコマンド自体を探すことができる。
</p><p>値が<code class="literal">nil</code>の場合もあり得る。その場合は、たとえ無効化されたコマンドでも、すべてのコマンドが通常に機能する。
</p><p>デフォルトでは、値はユーザーに処理を行うか尋ねる関数である。
</p></blockquote></div></div></body></html>