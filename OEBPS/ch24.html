<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title>Chapter 23. Documentation</title><meta name="generator" content="DocBook XSL Stylesheets V1.79.1"/></head><body><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a id="Documentation"/>Chapter 23. Documentation</h1></div></div></div><a id="idm64139216" class="indexterm"/><p>GNU
Emacsには便利なビルトインのヘルプ機能があり、それらのほとんどは、関数や変数のドキュメント文字列に付属するドキュメント文字列の情報が由来です。このチャプターでは、Lispプログラムからドキュメント文字列にアクセスする方法について説明します。
</p><p>ドキュメント文字列のコンテンツは、ある種の慣習にしたがうべきです。特に、最初の行は、その関数または変数を簡単に説明する1つ、または2つの完全なセンテンスであるべきです。よいドキュメント文字列を記述する方法については、<a class="link" href="apds06.html" title="Tips for Documentation Strings">Documentation
Tips</a>を参照してください。
</p><p>Emacs向けのドキュメント文字列は、Emacsマニュアルと同じものではないことに注意してください。マニュアルは、Texinfo言語で記述された独自のソースファイルをもちます。それにたいしドキュメント文字列は、それが適用される関数および変数の定義内で指定されます。ドキュメント文字列をコレクションしても、それはマニュアルとしては不十分です。なぜなら、よいマニュアルとは、そのやり方でまとめられたものではなく、議論のトピックという観点によりまとめられているからです。
</p><p>ドキュメント文字列を表示するコマンドについては、section “Help” in <em class="citetitle">The GNU Emacs
Manual</em>を参照してください。
</p><div class="sect1"><div class="titlepage"><div><div><h1 class="title"><a id="Documentation-Basics"/>Documentation Basics</h1></div></div></div><a id="idm64135120" class="indexterm"/><a id="idm64134352" class="indexterm"/><a id="idm64133584" class="indexterm"/><p>ドキュメント文字列は、テキストをダブルクォート文字で囲んだ、文字列にたいするLisp構文を使用して記述されます。実はこれは実際のLisp文字列です。関数または変数の定義内の適切な箇所に文字列があると、それは関数または変数のドキュメントの役割を果たします。
</p><a id="idm64132432" class="indexterm"/><p>関数定義(<code class="literal">lambda</code>や<code class="literal">defun</code>フォーム)の中では、ドキュメント文字列は引数リストの後に指定され、通常は関数オブジェクト内に直接格納されます。<a class="link" href="ch13s02.html#Function-Documentation" title="Documentation Strings of Functions">Function
Documentation</a>を参照してください。関数名の<code class="literal">function-documentation</code>プロパティに関数ドキュメントをputすることもできます(<a class="link" href="ch24s02.html" title="Access to Documentation Strings">Accessing
Documentation</a>を参照)。
</p><a id="idm64124240" class="indexterm"/><p>変数定義(<code class="literal">defvar</code>フォーム)の中では、ドキュメント文字列は初期値の後に指定されます。<a class="link" href="ch12s05.html" title="Defining Global Variables">Defining
Variables</a>を参照してください。この文字列は、その変数の<code class="literal">variable-documentation</code>プロパティに格納されます。
</p><a id="idm64121168" class="indexterm"/><p>Emacsがメモリー内にドキュメント文字列を保持しないときがあります。それには、2つの状況があります。1つ目はメモリーを節約するためで、事前ロードされた関数および変数(プリミティブを含む)のドキュメントは、<code class="literal">doc-directory</code>で指定されたディレクトリー内の、<code class="filename">DOC</code>という名前のファイルに保持されます(<a class="link" href="ch24s02.html" title="Access to Documentation Strings">Accessing
Documentation</a>を参照)。2つ目は関数または変数がバイトコンパイルされたファイルからロードされたときで、Emacsはそれらのドキュメント文字列のロードを無効にします(<a class="link" href="ch17s03.html" title="Documentation Strings and Compilation">Docs
and Compilation</a>を参照)。どちらの場合も、ある関数にたいしてユーザーが<strong class="userinput"><code>C-h
f</code></strong>(<code class="literal">describe-function</code>)を呼び出したときなど、Emacsは必要なときだけファイルのドキュメント文字列を照会します。
</p><p>ドキュメント文字列には、ユーザーがドキュメントを閲覧するときのみ照会されるキーバインディングを参照する、特別な<em class="firstterm">キー置換シーケンス(key
substitution
sequences)</em>を含めることができます。これにより、たとえユーザーがデフォルトのキーバインディングを変更していても、ヘルプコマンドが正しいキーを表示できるようになります。
</p><p>オートロードされたコマンド(<a class="link" href="ch16s05.html" title="Autoload">Autoload</a>を参照)のドキュメント文字列では、これらのキー置換シーケンスは特別な効果をもち、そのコマンドにたいする<strong class="userinput"><code>C-h
f</code></strong>により、オートロードをトリガーします(これは<code class="filename">*Help*</code>バッファー内のハイパーリンクを正しくセットアップするために必要となる)。
</p></div></div></body></html>