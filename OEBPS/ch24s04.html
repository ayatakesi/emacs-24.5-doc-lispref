<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title>Describing Characters for Help Messages</title><meta name="generator" content="DocBook XSL Stylesheets V1.79.1"/></head><body><div class="sect1"><div class="titlepage"><div><div><h1 class="title"><a id="Describing-Characters"/>Describing Characters for Help Messages</h1></div></div></div><a id="idm63978192" class="indexterm"/><p>以下の関数はイベント、キーシーケンス、文字をテキスト表記(textual
descriptions)に変換します。これらの変換された表記は、メッセージ内に任意のテキスト文字やキーシーケンスを含める場合に有用です。なぜなら非プリント文字や空白文字は、プリント文字シーケンスに変換されるからです。空白文字以外のプリント文字は、その文字自身が表記になります。
</p><pre class="synopsis"><a id="idm63976784" class="indexterm"/><span class="category"><span class="bold"><strong>Function</strong></span>:</span> <code class="function">key-description</code> <em class="replaceable"><code>sequence</code></em> <em class="replaceable"><code>&amp;optional</code></em> <em class="replaceable"><code>prefix</code></em></pre><div class="blockquote"><blockquote class="blockquote"><a id="idm63973456" class="indexterm"/><p>この関数は、<em class="replaceable"><code>sequence</code></em>内の入力イベントにたいして、Emacsの標準表記を含む文字列をリターンする。<em class="replaceable"><code>prefix</code></em>が非<code class="literal">nil</code>の場合、それは<em class="replaceable"><code>sequence</code></em>に前置される入力イベントシーケンスであり、リターン値にも含まれる。引数はどちらも文字列、ベクター、またはリストかもしれない。有効なイベントに関する詳細は、<a class="link" href="ch21s07.html" title="Input Events">Input
Events</a>を参照のこと。
</p><pre class="screen">(key-description [?\M-3 delete])
     ⇒ "M-3 &lt;delete&gt;"
</pre><pre class="screen">(key-description [delete] "\M-3")
     ⇒ "M-3 &lt;delete&gt;"
</pre><p>以下の<code class="literal">single-key-description</code>の例も参照されたい。
</p></blockquote></div><pre class="synopsis"><a id="idm63963856" class="indexterm"/><span class="category"><span class="bold"><strong>Function</strong></span>:</span> <code class="function">single-key-description</code> <em class="replaceable"><code>event</code></em> <em class="replaceable"><code>&amp;optional</code></em> <em class="replaceable"><code>no-angles</code></em></pre><div class="blockquote"><blockquote class="blockquote"><a id="idm63960528" class="indexterm"/><a id="idm63959760" class="indexterm"/><a id="idm63958992" class="indexterm"/><a id="idm63958224" class="indexterm"/><p>この関数は、キーボード入力にたいするEmacsの標準表記として、<em class="replaceable"><code>event</code></em>を表記する文字列をリターンする。通常のプリント文字はその文字自身で表れるが、コントロール文字は‘<code class="literal">C-</code>’で始まる文字列、メタ文字は‘<code class="literal">M-</code>’で始まる文字列、スペース、タブなどは‘<code class="literal">SPC</code>’や‘<code class="literal">TAB</code>’のように変換される。ファンクションキーのシンボルは、‘<code class="literal">&lt;…&gt;</code>’のように角カッコ(angle
brackets)の内側に表れる。リストであるようなイベントは、そのリストのCAR内のシンボル名が、角カッコの内側に表れる。
</p><p>オプション引数<em class="replaceable"><code>no-angles</code></em>が非<code class="literal">nil</code>の場合、ファンクションキーおよびイベントシンボルを括る角カッコは省略される。これは、角カッコを使用しない古いバージョンのEmacsとの互換性のためである。
</p><pre class="screen">(single-key-description ?\C-x)
     ⇒ "C-x"
</pre><pre class="screen">(key-description "\C-x \M-y \n \t \r \f123")
     ⇒ "C-x SPC M-y SPC C-j SPC TAB SPC RET SPC C-l 1 2 3"
</pre><pre class="screen">(single-key-description 'delete)
     ⇒ "&lt;delete&gt;"
</pre><pre class="screen">(single-key-description 'C-mouse-1)
     ⇒ "&lt;C-mouse-1&gt;"
</pre><pre class="screen">(single-key-description 'C-mouse-1 t)
     ⇒ "C-mouse-1"
</pre></blockquote></div><pre class="synopsis"><a id="idm63950288" class="indexterm"/><span class="category"><span class="bold"><strong>Function</strong></span>:</span> <code class="function">text-char-description</code> <em class="replaceable"><code>character</code></em></pre><div class="blockquote"><blockquote class="blockquote"><p>この関数は、テキスト内に出現する文字にたいするEmacsの標準表記として、<em class="replaceable"><code>character</code></em>を表記する文字列をリターンする。これは<code class="literal">single-key-description</code>と似ているが、コントロール文字にカレットが前置されて表される点が異なる(これはEmacsバッファー内でコントロール文字を表示する通常の方法である)。他にも、<code class="literal">single-key-description</code>が2**27ビットをメタ文字とするのにたいし、<code class="literal">text-char-description</code>は2**7ビットをメタ文字とする点が異なる。
</p><pre class="screen">(text-char-description ?\C-c)
     ⇒ "^C"
</pre><pre class="screen">(text-char-description ?\M-m)
     ⇒ "\xed"
</pre><pre class="screen">(text-char-description ?\C-\M-m)
     ⇒ "\x8d"
</pre><pre class="screen">(text-char-description (+ 128 ?m))
     ⇒ "M-m"
</pre><pre class="screen">(text-char-description (+ 128 ?\C-m))
     ⇒ "M-^M"
</pre></blockquote></div><pre class="synopsis"><a id="idm63943120" class="indexterm"/><span class="category"><span class="bold"><strong>Command</strong></span>:</span> <code class="function">read-kbd-macro</code> <em class="replaceable"><code>string</code></em> <em class="replaceable"><code>&amp;optional</code></em> <em class="replaceable"><code>need-vector</code></em></pre><div class="blockquote"><blockquote class="blockquote"><p>この関数は主にキーボードマクロを操作するために使用されるが、<code class="literal">key-description</code>の大雑把な意味で逆の処理にも使用できる。キー表記を含むスペース区切りの文字列でこれを呼び出すと、それに対応するイベントを含む文字列、またはベクターをリターンする。(これは単一の有効なキーシーケンスであるか否かは問わず、何のイベントを使用するかに依存する。<a class="link" href="ch22.html#Key-Sequences" title="Key Sequences">Key
Sequences</a>を参照されたい。) <em class="replaceable"><code>need-vector</code></em>が非<code class="literal">nil</code>の場合、リターン値は常にベクターになる。
</p></blockquote></div></div></body></html>