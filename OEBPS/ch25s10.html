<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title>Creating, Copying and Deleting Directories</title><meta name="generator" content="DocBook XSL Stylesheets V1.79.1"/></head><body><div class="sect1"><div class="titlepage"><div><div><h1 class="title"><a id="Create_002fDelete-Dirs"/>Creating, Copying and Deleting Directories</h1></div></div></div><a id="idm66536272" class="indexterm"/><p>Emacs
Lispのファイル操作関数のほとんどは、ディレクトリーであるようなファイルに使用されたときはエラーとなります。たとえば、<code class="literal">delete-file</code>でディレクトリーの削除はできません。以下のスペシャルカは、ディレクトリーの作成と削除を行うために存在します。
</p><a id="idm66534352" class="indexterm"/><pre class="synopsis"><a id="idm66533328" class="indexterm"/><span class="category"><span class="bold"><strong>Command</strong></span>:</span> <code class="function">make-directory</code> <em class="replaceable"><code>dirname</code></em> <em class="replaceable"><code>&amp;optional</code></em> <em class="replaceable"><code>parents</code></em></pre><div class="blockquote"><blockquote class="blockquote"><p>このコマンドは、<em class="replaceable"><code>dirname</code></em>という名前のディレクトリーを作成する。<em class="replaceable"><code>parents</code></em>が非<code class="literal">nil</code>の場合(インタラクティブな呼び出しでは、常に非<code class="literal">nil</code>となる)、その親ディレクトリーがまだ存在しなければ、最初にそれを作成することを意味する。
</p><p><code class="literal">mkdir</code>は、これにたいするエイリアスである。
</p></blockquote></div><pre class="synopsis"><a id="idm66526800" class="indexterm"/><span class="category"><span class="bold"><strong>Command</strong></span>:</span> <code class="function">copy-directory</code> <em class="replaceable"><code>dirname</code></em> <em class="replaceable"><code>newname</code></em> <em class="replaceable"><code>&amp;optional</code></em> <em class="replaceable"><code>keep-time</code></em> <em class="replaceable"><code>parents</code></em> <em class="replaceable"><code>copy-contents</code></em></pre><div class="blockquote"><blockquote class="blockquote"><p>このコマンドは、<em class="replaceable"><code>dirname</code></em>という名前のディレクトリーを、<em class="replaceable"><code>newname</code></em>にコピーする。<em class="replaceable"><code>newname</code></em>が既存のディレクトリーの場合、<em class="replaceable"><code>dirname</code></em>はそれのサブディレクトリーにコピーされるだろう。
</p><p>これは、常にコピーされるファイルのファイルモードを、対応する元のファイルモードに一致させる。
</p><p>3つ目の引数<em class="replaceable"><code>keep-time</code></em>が非<code class="literal">nil</code>の場合は、コピーされるファイルの修正時刻を保持することを意味する。プレフィックス引数を与えると、<em class="replaceable"><code>keep-time</code></em>が非<code class="literal">nil</code>になる。
</p><p>4つ目の引数<em class="replaceable"><code>parents</code></em>は、親ディレクトリーが存在しない場合に作成するかどうかを指定する。インタラクティブな場合、これはデフォルトで発生する。
</p><p>5つ目の引数<em class="replaceable"><code>copy-contents</code></em>が非<code class="literal">nil</code>の場合、それは<em class="replaceable"><code>newname</code></em>が既存のディレクトリーならば、そのサブディレクトリーとして<em class="replaceable"><code>dirname</code></em>をコピーするかわりに、<em class="replaceable"><code>dirname</code></em>のコンテンツを<em class="replaceable"><code>newname</code></em>にコピーする。
</p></blockquote></div><a id="idm66514256" class="indexterm"/><a id="idm66513488" class="indexterm"/><pre class="synopsis"><a id="idm66512464" class="indexterm"/><span class="category"><span class="bold"><strong>Command</strong></span>:</span> <code class="function">delete-directory</code> <em class="replaceable"><code>dirname</code></em> <em class="replaceable"><code>&amp;optional</code></em> <em class="replaceable"><code>recursive</code></em> <em class="replaceable"><code>trash</code></em></pre><div class="blockquote"><blockquote class="blockquote"><p>このコマンドは、<em class="replaceable"><code>dirname</code></em>という名前のディレクトリーを削除する。関数<code class="literal">delete-file</code>はディレクトリーであるようなファイルにたいしては機能しない。それらにたいしては、<code class="literal">delete-directory</code>を使用しなければならない。<em class="replaceable"><code>recursive</code></em>が<code class="literal">nil</code>で、ディレクトリー内にファイルが存在する場合、<code class="literal">delete-directory</code>はエラーをシグナルする。
</p><p><code class="literal">delete-directory</code>は、親ディレクトリーの階層のシンボリックリンクだけをフォローする。
</p><p>オプション引数<em class="replaceable"><code>trash</code></em>が非<code class="literal">nil</code>、かつ変数<code class="literal">delete-by-moving-to-trash</code>が非<code class="literal">nil</code>の場合、このコマンドはファイルを削除するかわりに、システムのTrash(ゴミ箱)にファイルを移動する。section “Miscellaneous File Operations” in <em class="citetitle">The GNU Emacs
Manual</em>を参照のこと。インタラクティブに呼び出された際は、プレフィックス引数がない場合<em class="replaceable"><code>trash</code></em>は<code class="literal">t</code>、それ以外は<code class="literal">nil</code>である。
</p></blockquote></div></div></body></html>