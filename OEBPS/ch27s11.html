<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title>Indirect Buffers</title><meta name="generator" content="DocBook XSL Stylesheets V1.79.1"/></head><body><div class="sect1"><div class="titlepage"><div><div><h1 class="title"><a id="Indirect-Buffers"/>Indirect Buffers</h1></div></div></div><a id="idm65240144" class="indexterm"/><a id="idm65239376" class="indexterm"/><p><em class="firstterm">インダイレクトバッファー(indirect buffer: 間接バッファー)</em>とは、<em class="firstterm">ベースバッファー(base
buffer)</em>と呼ばれる他のバッファーとテキストを共有します。いくつかの点において、インダイレクトバッファーはファイル間でのシンボリックリンクに類似しています。ベースバッファー自身は、インダイレクトバッファーでない可能性があります。
</p><p>インダイレクトバッファーのテキストは、常にベースバッファーのテキストと同一です。編集により一方が変更されると、それは即座に他方のバッファーから可視になります。これには文字自体に加えて、テキストプロパティも同様に含まれます。
</p><p>他のすべての観点において、インダイレクトバッファーとそのベースバッファーは、完全に別物です。それらは別の名前、独自のポイント値、ナローイング、マーカー、オーバーレイ、メジャーモード、バッファーローカルな変数バインディングをもちます(ただし、どちらかのバッファーでのテキストの挿入や削除を行うと、両方のバッファーでマーカーとオーバーレイの再配置が行われる)。
</p><p>インダイレクトバッファーはファイルをvisitできませんが、ベースバッファーは可能です。インダイレクトバッファーの保存を試みた場合、実際にはベースバッファーが保存されます。
</p><p>インダイレクトバッファーをkillしても、ベースバッファーに影響はありません。ベースバッファーをkillすると、インダイレクトバッファーはkillされて、再びカレントバッファーになることはできません。
</p><pre class="synopsis"><a id="idm65235792" class="indexterm"/><span class="category"><span class="bold"><strong>Command</strong></span>:</span> <code class="function">make-indirect-buffer</code> <em class="replaceable"><code>base-buffer</code></em> <em class="replaceable"><code>name</code></em> <em class="replaceable"><code>&amp;optional</code></em> <em class="replaceable"><code>clone</code></em></pre><div class="blockquote"><blockquote class="blockquote"><p>これは、ベースバッファーが<em class="replaceable"><code>base-buffer</code></em>であるような、<em class="replaceable"><code>name</code></em>という名前のインダイレクトバッファーを作成してリターンする。引数<em class="replaceable"><code>base-buffer</code></em>は生きたバッファー、または既存バッファーの名前(文字列)を指定できる。<em class="replaceable"><code>name</code></em>が既存バッファーの名前の場合は、エラーがシグナルされる。
</p><p><em class="replaceable"><code>clone</code></em>が非<code class="literal">nil</code>の場合、インダイレクトバッファーは最初は<em class="replaceable"><code>base-buffer</code></em>のメジャーモード、マイナーモード、バッファーローカル変数等の“状態”を共有する。<em class="replaceable"><code>clone</code></em>が省略、または<code class="literal">nil</code>の場合、インダイレクトバッファーの情報は、新たなバッファーにたいするデフォルト状態にセットされる。
</p><p><em class="replaceable"><code>base-buffer</code></em>がインダイレクトバッファーの場合は、新たなバッファーのベースとして、それのベースバッファーが使用される。さらに、<em class="replaceable"><code>clone</code></em>が非<code class="literal">nil</code>ならば、初期状態は<em class="replaceable"><code>base-buffer</code></em>ではなく、実際のベースバッファーからコピーされる。
</p></blockquote></div><pre class="synopsis"><a id="idm65225552" class="indexterm"/><span class="category"><span class="bold"><strong>Command</strong></span>:</span> <code class="function">clone-indirect-buffer</code> <em class="replaceable"><code>newname</code></em> <em class="replaceable"><code>display-flag</code></em> <em class="replaceable"><code>&amp;optional</code></em> <em class="replaceable"><code>norecord</code></em></pre><div class="blockquote"><blockquote class="blockquote"><p>この関数は、カレントバッファーのベースバッファーを共有するインダイレクトバッファーを新たに作成し、カレントバッファーの残りの属性をコピーしてリターンする(カレントバッファーがインダイレクトバッファーでない場合は、それがベースバッファーとして使用される)。
</p><p><em class="replaceable"><code>display-flag</code></em>が非<code class="literal">nil</code>の場合、それは<code class="literal">pop-to-buffer</code>を呼び出すことにより新しいバッファーを表示することを意味する。<em class="replaceable"><code>norecord</code></em>が非<code class="literal">nil</code>の場合、それは新しいバッファーをバッファーリストの先頭に置かないことを意味する。
</p></blockquote></div><pre class="synopsis"><a id="idm65218512" class="indexterm"/><span class="category"><span class="bold"><strong>Function</strong></span>:</span> <code class="function">buffer-base-buffer</code> <em class="replaceable"><code>&amp;optional</code></em> <em class="replaceable"><code>buffer</code></em></pre><div class="blockquote"><blockquote class="blockquote"><p>この関数は、<em class="replaceable"><code>buffer</code></em>(デフォルトはカレントバッファー)のベースバッファーをリターンする。<em class="replaceable"><code>buffer</code></em>がインダイレクトバッファーでない場合、値は<code class="literal">nil</code>になり、それ以外では値は他のバッファーとなり、このバッファーがインダイレクトバッファーではあり得ない。
</p></blockquote></div></div></body></html>