<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title>The Buffer Gap</title><meta name="generator" content="DocBook XSL Stylesheets V1.79.1"/></head><body><div class="sect1"><div class="titlepage"><div><div><h1 class="title"><a id="Buffer-Gap"/>The Buffer Gap</h1></div></div></div><a id="idm69333328" class="indexterm"/><p>Emacsのバッファーは、挿入と削除を高速にするために、不可視の<em class="firstterm">ギャップ(gap)</em>を使用して実装されています。挿入はギャップ部分を充填し、削除はギャップを追加することにより機能します。もちろん、これは最初にギャップを挿入もしくは削除の部位(locus)に移動しなければならないことを意味します。Emacsは、ユーザーが挿入、または削除を試みたときだけ、ギャップを移動します。大きなバッファー内の遠く離れた位置で編集した後、他の箇所での最初の編集コマンドに無視できない遅延が発生する場合があるのは、これが理由です。
</p><p>このメカニズムは暗に機能するものであり、Lispコードはギャップのカレント位置に影響されるべきでは決してありませんが、以下の関数はギャップ状態に関する情報の取得に利用できます。
</p><pre class="synopsis"><a id="idm69331152" class="indexterm"/><span class="category"><span class="bold"><strong>Function</strong></span>:</span> <code class="function">gap-position</code></pre><div class="blockquote"><blockquote class="blockquote"><p>この関数は、カレントバッファー内のギャップのカレント位置をリターンする。
</p></blockquote></div><pre class="synopsis"><a id="idm69328336" class="indexterm"/><span class="category"><span class="bold"><strong>Function</strong></span>:</span> <code class="function">gap-size</code></pre><div class="blockquote"><blockquote class="blockquote"><p>この関数は、カレントバッファー内のギャップのサイズをリターンする。
</p></blockquote></div></div></body></html>