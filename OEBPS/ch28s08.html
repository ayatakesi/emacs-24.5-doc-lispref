<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title>Selecting Windows</title><meta name="generator" content="DocBook XSL Stylesheets V1.79.1"/></head><body><div class="sect1"><div class="titlepage"><div><div><h1 class="title"><a id="Selecting-Windows"/>Selecting Windows</h1></div></div></div><a id="idm68510032" class="indexterm"/><pre class="synopsis"><a id="idm68509008" class="indexterm"/><span class="category"><span class="bold"><strong>Function</strong></span>:</span> <code class="function">select-window</code> <em class="replaceable"><code>window</code></em> <em class="replaceable"><code>&amp;optional</code></em> <em class="replaceable"><code>norecord</code></em></pre><div class="blockquote"><blockquote class="blockquote"><p>この関数は、<em class="replaceable"><code>window</code></em>を選択されたウィンドウにして、そのフレーム内で選択されたウィンドウとし(<a class="link" href="ch28.html#Basic-Windows" title="Basic Concepts of Emacs Windows">Basic
Windows</a>を参照)、そのフレームを選択する。また、<em class="replaceable"><code>window</code></em>のバッファー(<a class="link" href="ch28s10.html" title="Buffers and Windows">Buffers and
Windows</a>を参照)をカレントにして、そのバッファーの<code class="literal">point</code>の値(<a class="link" href="ch28s18.html" title="Windows and Point">Window
Point</a>を参照)を、<em class="replaceable"><code>window</code></em>の<code class="literal">window-point</code>の値にセットする。<em class="replaceable"><code>window</code></em>は生きたウィンドウでなければならない。リターン値は<em class="replaceable"><code>window</code></em>である。
</p><p>デフォルトでは、この関数は<em class="replaceable"><code>window</code></em>のバッファーをバッファーリストの先頭(<a class="link" href="ch27s08.html" title="The Buffer List">Buffer
List</a>を参照)に移動して、<em class="replaceable"><code>window</code></em>をもっとも最近選択されたウィンドウにする。しかし、オプション引数<em class="replaceable"><code>norecord</code></em>が非<code class="literal">nil</code>の場合は、これらの追加処理は省略される。
</p><p>この関数は、<em class="replaceable"><code>norecord</code></em>が<code class="literal">nil</code>ならば、<code class="literal">buffer-list-update-hook</code>(<a class="link" href="ch27s08.html" title="The Buffer List">Buffer
List</a>)を実行する。コーディングを単純にするために、アプリケーションや内部ルーチンは、しばしばウィンドウを一時的に選択することがあることに注意。一般的には、そのような選択(以下のマクロ<code class="literal">save-selected-window</code>と<code class="literal">with-selected-window</code>による選択も含む)は記録されないので、<code class="literal">buffer-list-update-hook</code>の汚染は避けられる。選択を“実際にカウント”するのは、<em class="replaceable"><code>window</code></em>のフレームの次回表示時に可視の変更が発生したときで、それらは常に記録されるべきである。これは、あるウィンドウが選択されるたびに関数を実行するためには、それを<code class="literal">buffer-list-update-hook</code>に配するのが良い選択であることも意味している。
</p></blockquote></div><a id="idm68481232" class="indexterm"/><p>引数<em class="replaceable"><code>norecord</code></em>に非<code class="literal">nil</code>を指定した<code class="literal">select-window</code>の連続呼び出しは、ウィンドウの並び順を選択時刻により決定します。関数<code class="literal">get-lru-window</code>は、もっとも昔に選択された生きたウィンドウ(<a class="link" href="ch28s09.html" title="Cyclic Ordering of Windows">Cyclic
Window Ordering</a>を参照)を取得するために使用できます。
</p><pre class="synopsis"><a id="idm68477392" class="indexterm"/><span class="category"><span class="bold"><strong>Macro</strong></span>:</span> <code class="function">save-selected-window</code> <em class="replaceable"><code>forms</code></em><em class="replaceable"><code>…</code></em></pre><div class="blockquote"><blockquote class="blockquote"><p>このマクロは、選択されたフレーム、同様に各フレームの選択されたウィンドウを記録し、<em class="replaceable"><code>forms</code></em>を順に実行してから、以前に選択されていたフレームとウィンドウをリストアする。これはカレントバッファーの保存とリストアも行う。リターン値は<em class="replaceable"><code>forms</code></em>内の最後のフォームの値である。
</p><p>このマクロは、ウィンドウのサイズ、コンテンツ、配置についての保存やリストアは何も行わない。したがって、<em class="replaceable"><code>forms</code></em>がそれらを変更した場合、その変更は永続化される。あるフレームにおいて以前に選択されていたウィンドウが<em class="replaceable"><code>forms</code></em>のexit時にもはや生きていない場合、そのフレームの選択されたウィンドウはそのまま放置される。以前に選択されていたウィンドウがもはや生きていない場合は<em class="replaceable"><code>forms</code></em>の最後に選択されていたウィンドウが何であれ、それが選択されたままになる。カレントバッファー<em class="replaceable"><code>forms</code></em>のexit時にそれが生きている場合のみリストアされる。
</p><p>このマクロは、もっとも最近に選択されたウィンドウとバッファーリストの順番を、どちらも変更しない。
</p></blockquote></div><pre class="synopsis"><a id="idm68470736" class="indexterm"/><span class="category"><span class="bold"><strong>Macro</strong></span>:</span> <code class="function">with-selected-window</code> <em class="replaceable"><code>window</code></em> <em class="replaceable"><code>forms</code></em><em class="replaceable"><code>…</code></em></pre><div class="blockquote"><blockquote class="blockquote"><p>このマクロは<em class="replaceable"><code>window</code></em>を選択して、<em class="replaceable"><code>forms</code></em>を順に実行してから、以前に選択されていたウィンドウとカレントバッファーをリストアする。たとえば、引数<em class="replaceable"><code>norecord</code></em>を<code class="literal">nil</code>で<code class="literal">select-window</code>を呼び出す等、<em class="replaceable"><code>forms</code></em>内で故意に変更しない限り、もっとも最近に選択されたウィンドウとバッファーリストの順番は変更されない。
</p><p>このマクロは、もっとも最近に選択されたウィンドウとバッファーリストの順番を変更しない。
</p></blockquote></div><pre class="synopsis"><a id="idm68463952" class="indexterm"/><span class="category"><span class="bold"><strong>Function</strong></span>:</span> <code class="function">frame-selected-window</code> <em class="replaceable"><code>&amp;optional</code></em> <em class="replaceable"><code>frame</code></em></pre><div class="blockquote"><blockquote class="blockquote"><p>この関数は、フレーム<em class="replaceable"><code>frame</code></em>内で選択されているウィンドウをリターンする。<em class="replaceable"><code>frame</code></em>は生きたフレームであること。省略または<code class="literal">nil</code>の場合のデフォルトは、選択されたフレームである。
</p></blockquote></div><pre class="synopsis"><a id="idm68459088" class="indexterm"/><span class="category"><span class="bold"><strong>Function</strong></span>:</span> <code class="function">set-frame-selected-window</code> <em class="replaceable"><code>frame</code></em> <em class="replaceable"><code>window</code></em> <em class="replaceable"><code>&amp;optional</code></em> <em class="replaceable"><code>norecord</code></em></pre><div class="blockquote"><blockquote class="blockquote"><p>この関数は、<em class="replaceable"><code>window</code></em>をフレーム<em class="replaceable"><code>frame</code></em>内で選択されたウィンドウにする。<em class="replaceable"><code>frame</code></em>は生きたフレームであること。省略または<code class="literal">nil</code>の場合のデフォルトは、選択されたフレームである。<em class="replaceable"><code>window</code></em>は生きたウィンドウであること。省略または<code class="literal">nil</code>の場合のデフォルトは選択されたウィンドウである。
</p><p><em class="replaceable"><code>frame</code></em>が選択されたフレームの場合は、<em class="replaceable"><code>window</code></em>を選択されたウィンドウにする。
</p><p>オプション引数<em class="replaceable"><code>norecord</code></em>が非<code class="literal">nil</code>の場合、この関数はもっとも最近に選択されたウィンドウのリストとバッファーリストを、どちらも変更しない。
</p></blockquote></div></div></body></html>