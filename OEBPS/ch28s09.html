<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title>Cyclic Ordering of Windows</title><meta name="generator" content="DocBook XSL Stylesheets V1.79.1"/></head><body><div class="sect1"><div class="titlepage"><div><div><h1 class="title"><a id="Cyclic-Window-Ordering"/>Cyclic Ordering of Windows</h1></div></div></div><a id="idm68449104" class="indexterm"/><a id="idm68448336" class="indexterm"/><a id="idm68447568" class="indexterm"/><p>他のウィンドウを選択するためにコマンド<strong class="userinput"><code>C-x
o</code></strong>(<code class="literal">other-window</code>)を使う際には、特定の順番で生きたウィンドウを巡回します。与えられた任意のウィンドウ構成にたいして、この順序は決して変更されません。これは、<em class="firstterm">ウィンドウのサイクル順序(cyclic
ordering of windows)</em>と呼ばれます。
</p><p>この順序は、そのフレームのリーフノードである生きたウィンドウを取得するために、ツリーを深さ優先で走査することにより決定されます(<a class="link" href="ch28s02.html" title="Windows and Frames">Windows
and
Frames</a>を参照)。ミニバッファーがアクティブな場合は、ミニバッファーウィンドウも含まれます。この順序は巡回的(cyclic)なので、この順序の最後のウィンドウの次には最初のウィンドウが配されます。
</p><pre class="synopsis"><a id="idm68443856" class="indexterm"/><span class="category"><span class="bold"><strong>Function</strong></span>:</span> <code class="function">next-window</code> <em class="replaceable"><code>&amp;optional</code></em> <em class="replaceable"><code>window</code></em> <em class="replaceable"><code>minibuf</code></em> <em class="replaceable"><code>all-frames</code></em></pre><div class="blockquote"><blockquote class="blockquote"><a id="idm68440144" class="indexterm"/><p>この関数は、ウィンドウのサイクル順で<em class="replaceable"><code>window</code></em>の次の生きたウィンドウをリターンする。<em class="replaceable"><code>window</code></em>は生きたウィンドウであること。省略または<code class="literal">nil</code>の場合のデフォルトは選択されたウィンドウである。
</p><p>オプション引数<em class="replaceable"><code>minibuf</code></em>は、サイクル順にミニバッファーウィンドウを含めるべきかどうかを指定する。通常は、<em class="replaceable"><code>minibuf</code></em>が<code class="literal">nil</code>のときは、ミニバッファーウィンドウがカレントで“アクティブ”な場合のみミニバッファーウィンドウが含まれる。これは、<strong class="userinput"><code>C-x
o</code></strong>の振る舞うと合致する(ミニバッファーが使用されている限りミニバッファーウィンドウはアクティブであることに注意。<a class="link" href="ch20.html" title="Chapter 19. Minibuffers">Minibuffers</a>を参照のこと)。
</p><p><em class="replaceable"><code>minibuf</code></em>が<code class="literal">t</code>の場合、サイクル順にはすべてのミニバッファーウィンドウが含まれる。<em class="replaceable"><code>minibuf</code></em>が<code class="literal">t</code>と<code class="literal">nil</code>のいずれとも異なる場合は、たとえアクティブであってもミニバッファーウィンドウは含まれない。
</p><p>オプション引数<em class="replaceable"><code>all-frames</code></em>は、考慮に入れるフレームを指定する:
</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p><code class="literal">nil</code>
を指定した場合は、<em class="replaceable"><code>window</code></em>のフレーム上にあるウィンドウを考慮することを意味する。。(<em class="replaceable"><code>minibuf</code></em>引数で指定されたことにより)ミニバッファーウィンドウが考慮される場合は、ミニバッファーウィンドウを共有するフレームも考慮される。
</p></li><li class="listitem"><p><code class="literal">t</code>
を指定した場合は、すべての既存フレーム上のウィンドウを考慮することを意味する。
</p></li><li class="listitem"><p><code class="literal">visible</code>
を指定した場合は、すべての可視フレーム上のウィンドウを考慮することを意味する。
</p></li><li class="listitem"><p>0
を指定した場合は、可視またはアイコン化されたすべてのフレーム上のウィンドウを考慮することを意味する。
</p></li><li class="listitem"><p>フレーム
を指定した場合は、指定されたフレーム上のウィンドウを考慮することを意味する。
</p></li><li class="listitem"><p>その他
を指定した場合は、<em class="replaceable"><code>window</code></em>のあるフレーム上のウィンドウを考慮し、それ以外は考慮しないことを意味する。
</p></li></ul></div><p>複数のフレームが考慮される場合は、すべての生きたフレームのリストの順にしたがってそれらのフレームを順に追加することにより、サイクル順を取得する(<a class="link" href="ch29s07.html" title="Finding All Frames">Finding
All Frames</a>を参照)。
</p></blockquote></div><pre class="synopsis"><a id="idm68424400" class="indexterm"/><span class="category"><span class="bold"><strong>Function</strong></span>:</span> <code class="function">previous-window</code> <em class="replaceable"><code>&amp;optional</code></em> <em class="replaceable"><code>window</code></em> <em class="replaceable"><code>minibuf</code></em> <em class="replaceable"><code>all-frames</code></em></pre><div class="blockquote"><blockquote class="blockquote"><p>この関数は、ウィンドウのサイクル順において<em class="replaceable"><code>window</code></em>の前に位置する、生きたウィンドウをリターンする。その他の引数は、<code class="literal">next-window</code>の場合と同様に処理される。
</p></blockquote></div><pre class="synopsis"><a id="idm68419152" class="indexterm"/><span class="category"><span class="bold"><strong>Command</strong></span>:</span> <code class="function">other-window</code> <em class="replaceable"><code>count</code></em> <em class="replaceable"><code>&amp;optional</code></em> <em class="replaceable"><code>all-frames</code></em></pre><div class="blockquote"><blockquote class="blockquote"><p>この関数は、ウィンドウのサイクル順において、選択されたウィンドウから<em class="replaceable"><code>count</code></em>番目に位置する、生きたウィンドウをリターンする。<em class="replaceable"><code>count</code></em>が正の数なら<em class="replaceable"><code>count</code></em>個のウィンドウを前方にスキップし、負の数なら−<em class="replaceable"><code>count</code></em>個のウィンドウを後方にスキップする。<em class="replaceable"><code>count</code></em>が0の場合は、選択されたウィンドウを単に再選択する．インタラクティブに呼び出された場合、<em class="replaceable"><code>count</code></em>はプレフィックス数引数である。
</p><p>オプション引数<em class="replaceable"><code>all-frames</code></em>は、<code class="literal">next-window</code>に<code class="literal">nil</code>の<em class="replaceable"><code>minibuf</code></em>引数を指定したときの<code class="literal">next-window</code>の場合と同じ意味をもつ。
</p><p>この関数は、非<code class="literal">nil</code>のウィンドウパラメーター<code class="literal">no-other-window</code>をもつウィンドウを選択しない。
</p></blockquote></div><pre class="synopsis"><a id="idm68408784" class="indexterm"/><span class="category"><span class="bold"><strong>Function</strong></span>:</span> <code class="function">walk-windows</code> <em class="replaceable"><code>fun</code></em> <em class="replaceable"><code>&amp;optional</code></em> <em class="replaceable"><code>minibuf</code></em> <em class="replaceable"><code>all-frames</code></em></pre><div class="blockquote"><blockquote class="blockquote"><p>この関数は、生きたウィンドウそれぞれにたいして、ウィンドウを引数に関数<em class="replaceable"><code>fun</code></em>を呼び出す。
</p><p>これはウィンドウのサイクル順にしたがう。オプション引数<em class="replaceable"><code>minibuf</code></em>と<em class="replaceable"><code>all-frames</code></em>は、含まれるウィンドウセットを指定する。これらは、<code class="literal">next-window</code>の引数の場合と同じ意味をもつ。<em class="replaceable"><code>all-frames</code></em>がフレームを指定する場合、最初に処理されるのはそのフレームの最初のウィンドウ(<code class="literal">frame-first-window</code>がリターンするウィンドウ)であり、選択されたウィンドウである必要はない。
</p><p><em class="replaceable"><code>fun</code></em>がウィンドウの分割や削除によりウィンドウ構成を変更する場合でも、処理するウィンドウセットは初回の<em class="replaceable"><code>fun</code></em>呼び出しに先立ち決定されるため、変更されない。
</p></blockquote></div><pre class="synopsis"><a id="idm68400336" class="indexterm"/><span class="category"><span class="bold"><strong>Function</strong></span>:</span> <code class="function">one-window-p</code> <em class="replaceable"><code>&amp;optional</code></em> <em class="replaceable"><code>no-mini</code></em> <em class="replaceable"><code>all-frames</code></em></pre><div class="blockquote"><blockquote class="blockquote"><p>この関数は、選択されたウィンドウが唯一の生きたウィンドウの場合は<code class="literal">t</code>、それ以外は<code class="literal">nil</code>をリターンする。
</p><p>ミニバッファーウィンドウがアクティブな場合、ミニバッファーウィンドウは通常は考慮される(そのため、この関数は<code class="literal">nil</code>をリターンする)。しかし、オプション引数<em class="replaceable"><code>no-mini</code></em>が非<code class="literal">nil</code>の場合は、たとえアクティブであっても、ミニバッファーウィンドウは無視される。オプション引数<em class="replaceable"><code>all-frames</code></em>は、<code class="literal">next-window</code>の場合と同じ意味をもつ。
</p></blockquote></div><a id="idm68392912" class="indexterm"/><p>以下は、何らかの条件を満足するウィンドウを、それらを選択することなくリターンする関数です:
</p><a id="idm68391760" class="indexterm"/><pre class="synopsis"><a id="idm68390736" class="indexterm"/><span class="category"><span class="bold"><strong>Function</strong></span>:</span> <code class="function">get-lru-window</code> <em class="replaceable"><code>&amp;optional</code></em> <em class="replaceable"><code>all-frames</code></em> <em class="replaceable"><code>dedicated</code></em> <em class="replaceable"><code>not-selected</code></em></pre><div class="blockquote"><blockquote class="blockquote"><p>この関数は、発見的には“もっとも最近に使用された”ウィンドウであるような、生きたウィンドウをリターンする。オプション引数<em class="replaceable"><code>all-frames</code></em>は、<code class="literal">next-window</code>の場合と同じ意味をもつ。
</p><p>フル幅のウィンドウが存在する場合は、それらのウィンドウだけが考慮される。ミニバッファーが候補になることは、決してない。オプション引数<em class="replaceable"><code>dedicated</code></em>が<code class="literal">nil</code>の場合は、専用のバッファー(<a class="link" href="ch28s16.html" title="Dedicated Windows">Dedicated
Windows</a>を参照)が候補になることは、決してない。唯一の候補が選択されたウィンドウである場合以外は、決して選択されたウィンドウをリターンしない。しかし、オプション引数<em class="replaceable"><code>not-selected</code></em>が非<code class="literal">nil</code>ならば、そのような場合でもこの関数は<code class="literal">nil</code>をリターンする。
</p></blockquote></div><a id="idm68370256" class="indexterm"/><pre class="synopsis"><a id="idm68369232" class="indexterm"/><span class="category"><span class="bold"><strong>Function</strong></span>:</span> <code class="function">get-largest-window</code> <em class="replaceable"><code>&amp;optional</code></em> <em class="replaceable"><code>all-frames</code></em> <em class="replaceable"><code>dedicated</code></em> <em class="replaceable"><code>not-selected</code></em></pre><div class="blockquote"><blockquote class="blockquote"><p>この関数は、もっとも大きいエリア(高さ掛ける幅)をもつウィンドウをリターンする。オプション引数<em class="replaceable"><code>all-frames</code></em>は検索するウィンドウを指定し、意味は<code class="literal">next-window</code>の場合と同様。
</p><p>ミニバッファーウィンドウは決して候補とならない。オプション引数<em class="replaceable"><code>dedicated</code></em>が<code class="literal">nil</code>の場合、専用ウィンドウ(<a class="link" href="ch28s16.html" title="Dedicated Windows">Dedicated
Windows</a>ウィンドウを参照)は決して候補にならない。オプション引数<em class="replaceable"><code>not-selected</code></em>が非<code class="literal">nil</code>の場合、選択されたウィンドウは決して候補にならない。オプション引数<em class="replaceable"><code>not-selected</code></em>が非<code class="literal">nil</code>、かつ唯一の候補が選択されたウィンドウの場合、この関数は<code class="literal">nil</code>をリターンする。
</p><p>同サイズの候補ウィンドウが2つある場合、この関数はウィンドウのサイクル順で、選択されたウィンドウから数えて最初にあるウィンドウを優先する。
</p></blockquote></div><a id="idm68355664" class="indexterm"/><a id="idm68354896" class="indexterm"/><pre class="synopsis"><a id="idm68353872" class="indexterm"/><span class="category"><span class="bold"><strong>Function</strong></span>:</span> <code class="function">get-window-with-predicate</code> <em class="replaceable"><code>predicate</code></em> <em class="replaceable"><code>&amp;optional</code></em> <em class="replaceable"><code>minibuf</code></em> <em class="replaceable"><code>all-frames</code></em> <em class="replaceable"><code>default</code></em></pre><div class="blockquote"><blockquote class="blockquote"><p>この関数は、ウィンドウのサイクル順内の各ウィンドウにたいして、そのウィンドウを引数に、関数<em class="replaceable"><code>predicate</code></em>を順に呼び出す。いずれかのウィンドウにたいして<em class="replaceable"><code>predicate</code></em>が非<code class="literal">nil</code>をリターンした場合、この関数は処理を停止して、そのウィンドウをリターンする。そのようなうｌが見つからなければ、リターン値は<em class="replaceable"><code>default</code></em>(これのデフォルトは<code class="literal">nil</code>)となる。
</p><p>オプション引数
<em class="replaceable"><code>minibuf</code></em>と<em class="replaceable"><code>all-frames</code></em>は検索するウィンドウを指定し、意味は<code class="literal">next-window</code>の場合と同様である。
</p></blockquote></div></div></body></html>