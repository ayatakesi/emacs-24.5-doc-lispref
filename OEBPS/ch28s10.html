<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title>Buffers and Windows</title><meta name="generator" content="DocBook XSL Stylesheets V1.79.1"/></head><body><div class="sect1"><div class="titlepage"><div><div><h1 class="title"><a id="Buffers-and-Windows"/>Buffers and Windows</h1></div></div></div><a id="idm68332240" class="indexterm"/><a id="idm68331472" class="indexterm"/><a id="idm68330704" class="indexterm"/><p>このセクションでは、ウィンドウのコンテンツを調べたりセットするための、低レベルな関数を説明します。ウィンドウ内に特定のバッファーを表示するための高レベルな関数については、<a class="link" href="ch28s11.html" title="Switching to a Buffer in a Window">Switching
Buffers</a>を参照してください。
</p><pre class="synopsis"><a id="idm68328784" class="indexterm"/><span class="category"><span class="bold"><strong>Function</strong></span>:</span> <code class="function">window-buffer</code> <em class="replaceable"><code>&amp;optional</code></em> <em class="replaceable"><code>window</code></em></pre><div class="blockquote"><blockquote class="blockquote"><p>この関数は、<em class="replaceable"><code>window</code></em>が表示しているバッファーをリターンする。<em class="replaceable"><code>window</code></em>が省略または<code class="literal">nil</code>の場合のデフォルトは、選択されたウィンドウである。<em class="replaceable"><code>window</code></em>が内部ウィンドウの場合、この関数は<code class="literal">nil</code>をリターンする。
</p></blockquote></div><pre class="synopsis"><a id="idm68318928" class="indexterm"/><span class="category"><span class="bold"><strong>Function</strong></span>:</span> <code class="function">set-window-buffer</code> <em class="replaceable"><code>window</code></em> <em class="replaceable"><code>buffer-or-name</code></em> <em class="replaceable"><code>&amp;optional</code></em> <em class="replaceable"><code>keep-margins</code></em></pre><div class="blockquote"><blockquote class="blockquote"><p>この関数は、
<em class="replaceable"><code>window</code></em>に<em class="replaceable"><code>buffer-or-name</code></em>ウィンドウ表示させる。<em class="replaceable"><code>window</code></em>は生きたウィンドウであること。<code class="literal">nil</code>の場合のデフォルトは、選択されたウィンドウである。<em class="replaceable"><code>buffer-or-name</code></em>は、バッファー、あるいは既存のバッファー名であること。この関数は、選択されていたウィンドウを変更せず、カレントバッファーも直接は変更しない(<a class="link" href="ch27s02.html" title="The Current Buffer">Current
Buffer</a>を参照)。リターン値は<code class="literal">nil</code>である。
</p><p><em class="replaceable"><code>window</code></em>が、あるバッファーにたいして<em class="firstterm">特に専用</em>で、かつ<em class="replaceable"><code>buffer-or-name</code></em>がそのバッファーを指定しない場合、この関数はエラーをシグナルする。<a class="link" href="ch28s16.html" title="Dedicated Windows">Dedicated
Windows</a>を参照のこと。
</p><p>デフォルトでは、この関数は指定されたバッファーのローカル変数にもとづいて、<em class="replaceable"><code>window</code></em>の位置、ディスプレイマージン、フリンジ幅、スクロールバーのセッティングをリセットする。しかし、オプション引数<em class="replaceable"><code>keep-margins</code></em>が非<code class="literal">nil</code>の場合は、ディスプレイマージンとフリンジ幅は未変更のままにする。
</p><p>アプリケーションを記述する際は、直接<code class="literal">set-window-buffer</code>を呼び出すのではなく、通常は<a class="link" href="ch28s11.html" title="Switching to a Buffer in a Window">Switching
Buffers</a>で説明する高レベルの関数を使用するべきである。
</p><p>これは、<code class="literal">window-scroll-functions</code>の後に<code class="literal">window-configuration-change-hook</code>を実行する。<a class="link" href="ch28s26.html" title="Hooks for Window Scrolling and Changes">Window
Hooks</a>を参照のこと。
</p></blockquote></div><pre class="synopsis"><a id="idm68280016" class="indexterm"/><span class="category"><span class="bold"><strong>Variable</strong></span>:</span> <code class="varname">buffer-display-count</code></pre><div class="blockquote"><blockquote class="blockquote"><p>このバッファーローカル変数は、ウィンドウ内にバッファーが表示された回数を記録する。。これは、そのバッファーにたいして<code class="literal">set-window-buffer</code>が呼び出されるたびに増分される
</p></blockquote></div><pre class="synopsis"><a id="idm68276816" class="indexterm"/><span class="category"><span class="bold"><strong>Variable</strong></span>:</span> <code class="varname">buffer-display-time</code></pre><div class="blockquote"><blockquote class="blockquote"><p>このバッファーローカル変数は、バッファーがウィンドウに最後に表示された時刻を記録する。バッファーが表示されたことがない場合は、<code class="literal">nil</code>をリターンする。これは、そのバッファーにたいして<code class="literal">set-window-buffer</code>が呼び出されるたびに、<code class="literal">current-time</code>がリターンする値により更新される(<a class="link" href="ch39s05.html" title="Time of Day">Time
of Day</a>を参照)。
</p></blockquote></div><pre class="synopsis"><a id="idm68272080" class="indexterm"/><span class="category"><span class="bold"><strong>Function</strong></span>:</span> <code class="function">get-buffer-window</code> <em class="replaceable"><code>&amp;optional</code></em> <em class="replaceable"><code>buffer-or-name</code></em> <em class="replaceable"><code>all-frames</code></em></pre><div class="blockquote"><blockquote class="blockquote"><p>この関数は、ウィンドウのサイクル順内で、選択されたウィンドウを起点に、<em class="replaceable"><code>buffer-or-name</code></em>を表示する最初のウィンドウをリターンする.&lt;(<a class="link" href="ch28s09.html" title="Cyclic Ordering of Windows">Cyclic
Window Ordering</a>を参照)。そのようなウィンドウが存在しない場合、リターン値は<code class="literal">nil</code>となる。
</p><p><em class="replaceable"><code>buffer-or-name</code></em>はバッファーか、バッファーの名前であること。省略または<code class="literal">nil</code>の場合のデフォルトは、カレントバッファーである。オプション引数<em class="replaceable"><code>all-frames</code></em>は、考慮するウィンドウを指定する。
</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p><code class="literal">t</code>は、すべての既存フレーム上のウィンドウを考慮することを意味する。
</p></li><li class="listitem"><p><code class="literal">visible</code>は、すべての可視フレーム上のウィンドウを考慮することを意味する。
</p></li><li class="listitem"><p>0は、すべての可視またはアイコン化されたフレーム上のウィンドウを考慮することを意味する。
</p></li><li class="listitem"><p>フレームを指定した場合は、そのフレーム上のウィンドウだけを考慮することを意味する。
</p></li><li class="listitem"><p>その他の値は、選択されたフレーム上のウィンドウを考慮することを意味する。
</p></li></ul></div><p>これらの意味は、<code class="literal">next-window</code>の<em class="replaceable"><code>all-frames</code></em>引数の場合とは若干異なることに注意されたい(<a class="link" href="ch28s09.html" title="Cyclic Ordering of Windows">Cyclic
Window Ordering</a>を参照)。この不一致の解消のために、EEmacsの将来のバージョンにおいて、この関数は変更されるかもしれない。
</p></blockquote></div><pre class="synopsis"><a id="idm68260176" class="indexterm"/><span class="category"><span class="bold"><strong>Function</strong></span>:</span> <code class="function">get-buffer-window-list</code> <em class="replaceable"><code>&amp;optional</code></em> <em class="replaceable"><code>buffer-or-name</code></em> <em class="replaceable"><code>minibuf</code></em> <em class="replaceable"><code>all-frames</code></em></pre><div class="blockquote"><blockquote class="blockquote"><p>この関数は、その時点で<em class="replaceable"><code>buffer-or-name</code></em>を表示する、すべてのウィンドウのリストをリターンする。<em class="replaceable"><code>buffer-or-name</code></em>はバッファー、または既存バッファーの名前であること。省略または<code class="literal">nil</code>の場合のデフォルトは、カレントバッファーである。
</p><p>引数<em class="replaceable"><code>minibuf</code></em>と<em class="replaceable"><code>all-frames</code></em>は、関数<code class="literal">next-window</code>の場合と同じ意味をもつ(<a class="link" href="ch28s09.html" title="Cyclic Ordering of Windows">Cyclic
Window
Ordering</a>を参照)。<em class="replaceable"><code>all-frames</code></em>引数は、<code class="literal">get-buffer-window</code>の場合と正確に同じようには<span class="emphasis"><em>振る舞わない</em></span>ことに注意すること。
</p></blockquote></div><pre class="synopsis"><a id="idm68251088" class="indexterm"/><span class="category"><span class="bold"><strong>Command</strong></span>:</span> <code class="function">replace-buffer-in-windows</code> <em class="replaceable"><code>&amp;optional</code></em> <em class="replaceable"><code>buffer-or-name</code></em></pre><div class="blockquote"><blockquote class="blockquote"><p>このコマンドは、<em class="replaceable"><code>buffer-or-name</code></em>を表示しているすべてのウィンドウで、それを他の何らかのバッファーに置き換える。<em class="replaceable"><code>buffer-or-name</code></em>はバッファー、または既存のバッファーの名前であること。省略または<code class="literal">nil</code>の場合のデフォルトは、カレントバッファーである。
</p><p>各ウィンドウで置き換えられるバッファーは、<code class="literal">switch-to-prev-buffer</code>を通じて選択される(<a class="link" href="ch28s15.html" title="Window History">Window
History</a>を参照)。<em class="replaceable"><code>buffer-or-name</code></em>を表示している専用ウィンドウはすべて、可能なら削除される(<a class="link" href="ch28s16.html" title="Dedicated Windows">Dedicated
Windows</a>を参照)。そのようなウィンドウがそのフレームで唯一のウィンドウで、かつ同一端末上に他のフレームが存在する場合は、そのフレームも同様に削除される。その端末上の唯一のフレームの唯一のウィンドウの場合は、いずれにせよそのバッファーは置き換えられる。
</p></blockquote></div></div></body></html>