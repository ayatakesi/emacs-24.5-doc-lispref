<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title>Window History</title><meta name="generator" content="DocBook XSL Stylesheets V1.79.1"/></head><body><div class="sect1"><div class="titlepage"><div><div><h1 class="title"><a id="Window-History"/>Window History</h1></div></div></div><a id="idm67881296" class="indexterm"/><p>ウィンドウはそれぞれ、リスト内に以前表示されていたバッファーと、それらのバッファーがウィンドウから削除された順序を記憶しています。このヒストリーが、たとえば<code class="literal">replace-buffer-in-windows</code>(<a class="link" href="ch28s10.html" title="Buffers and Windows">Buffers
and
Windows</a>を参照)により使用されます。このリストはEmacsにより自動的に保守されますが、これを明示的に調べたり変更するために、以下の関数を使用できます:
</p><pre class="synopsis"><a id="idm67878864" class="indexterm"/><span class="category"><span class="bold"><strong>Function</strong></span>:</span> <code class="function">window-prev-buffers</code> <em class="replaceable"><code>&amp;optional</code></em> <em class="replaceable"><code>window</code></em></pre><div class="blockquote"><blockquote class="blockquote"><p>この関数は、<em class="replaceable"><code>window</code></em>の前のコンテンツを指定するリストをリターンする。オプション引数<em class="replaceable"><code>window</code></em>には生きたウィンドウを指定すべきであり、デフォルトは選択されたウィンドウである。
</p><p>リスト要素はそれぞれ、<code class="literal">(<em class="replaceable"><code>buffer</code></em> <em class="replaceable"><code>window-start</code></em>
<em class="replaceable"><code>window-pos</code></em>)</code>という形式をもつ。ここで<em class="replaceable"><code>buffer</code></em>は、そのウィンドウで前に表示されていたウィンドウ、<em class="replaceable"><code>window-start</code></em>はそのバッファーが最後に表示されていたときのウィンドウのスタート位置(<a class="link" href="ch28s19.html" title="The Window Start and End Positions">Window
Start and
End</a>を参照)、<em class="replaceable"><code>window-pos</code></em>は<em class="replaceable"><code>window</code></em>内にそのバッファーが最後に表示されていたときのポイント位置(<a class="link" href="ch28s18.html" title="Windows and Point">Window
Point</a>を参照)である。
</p><p>このリストは順序付きで、より前の要素がより最近に表示されたバッファーに対応しており、通常は最初の要素がそのウィンドウからもっとも最近削除されたバッファーに対応する。
</p></blockquote></div><pre class="synopsis"><a id="idm67869392" class="indexterm"/><span class="category"><span class="bold"><strong>Function</strong></span>:</span> <code class="function">set-window-prev-buffers</code> <em class="replaceable"><code>window</code></em> <em class="replaceable"><code>prev-buffers</code></em></pre><div class="blockquote"><blockquote class="blockquote"><p>この関数は、<em class="replaceable"><code>window</code></em>の前のバッファーを、<em class="replaceable"><code>prev-buffers</code></em>の値にセットする。引数<em class="replaceable"><code>window</code></em>は生きたウィンドウでなければならず、デフォルトは選択されたウィンドウである。引数<em class="replaceable"><code>prev-buffers</code></em>は、<code class="literal">window-prev-buffers</code>によりリターンされるリストと同じ形式であること。
</p></blockquote></div><p>これらに加えて、それぞれのバッファーは<em class="firstterm">次バッファー(next
buffers)</em>のリストを保守します。これは<code class="literal">switch-to-prev-buffer</code>(以下参照)により再表示されたバッファーのリストです。このリストは主に、切り替えるバッファーを選択するために、<code class="literal">switch-to-prev-buffer</code>と<code class="literal">switch-to-next-buffer</code>により使用されます。
</p><pre class="synopsis"><a id="idm67861328" class="indexterm"/><span class="category"><span class="bold"><strong>Function</strong></span>:</span> <code class="function">window-next-buffers</code> <em class="replaceable"><code>&amp;optional</code></em> <em class="replaceable"><code>window</code></em></pre><div class="blockquote"><blockquote class="blockquote"><p>この関数は、<code class="literal">switch-to-prev-buffer</code>を通じて<em class="replaceable"><code>window</code></em>内に最近表示されたバッファーのリストをリターンする。<em class="replaceable"><code>window</code></em>引数は、生きたウィンドウか<code class="literal">nil</code>(選択されたウィンドウの意)でなければならない。
</p></blockquote></div><pre class="synopsis"><a id="idm67855952" class="indexterm"/><span class="category"><span class="bold"><strong>Function</strong></span>:</span> <code class="function">set-window-next-buffers</code> <em class="replaceable"><code>window</code></em> <em class="replaceable"><code>next-buffers</code></em></pre><div class="blockquote"><blockquote class="blockquote"><p>この関数は、<em class="replaceable"><code>window</code></em>の次バッファーリストを、<em class="replaceable"><code>next-buffers</code></em>にセットする。<em class="replaceable"><code>window</code></em>引数は、生きたウィンドウか<code class="literal">nil</code>(選択されたウィンドウの意)であること。引数<em class="replaceable"><code>next-buffers</code></em>は、バッファーのリストであること。
</p></blockquote></div><p>以下のコマンドは、<code class="literal">bury-buffer</code>や<code class="literal">unbury-buffer</code>のように、グローバルバッファーリストを巡回するために使用できます。ただし、これらはグローバルバッファーリストではなく、指定されたウィンドウのヒストリーリストのしたがって巡回します。それに加えて、これらはウィンドウ固有なウィンドウのスタート位置とポイント位置をリストアし、すでに他のウィンドウに表示されているバッファーをも表示できます。特に<code class="literal">switch-to-prev-buffer</code>コマンドは、ウィンドウにたいする置き換えバッファーを探すために<code class="literal">replace-buffer-in-windows</code>、<code class="literal">bury-buffer</code>、<code class="literal">quit-window</code>により使用されます。
</p><pre class="synopsis"><a id="idm67846736" class="indexterm"/><span class="category"><span class="bold"><strong>Command</strong></span>:</span> <code class="function">switch-to-prev-buffer</code> <em class="replaceable"><code>&amp;optional</code></em> <em class="replaceable"><code>window</code></em> <em class="replaceable"><code>bury-or-kill</code></em></pre><div class="blockquote"><blockquote class="blockquote"><p>このコマンドは、<em class="replaceable"><code>window</code></em>内に前のバッファーを表示する。引数<em class="replaceable"><code>window</code></em>は生きたウィンドウ、または<code class="literal">nil</code>(選択されたウィンドウの意)であること。オプション引数<em class="replaceable"><code>bury-or-kill</code></em>が非<code class="literal">nil</code>、それは<em class="replaceable"><code>window</code></em>内にカレントで表示されているバッファーは今まさにバリーもしくはkillされるバッファーであり、したがって将来におけるこのコマンドの呼び出しで、このバッファーに切り替えるべきではないことを意味する。
</p><p>前のバッファーは通常、<em class="replaceable"><code>window</code></em>内にカレントで表示されているバッファーの前に表示されていたバッファーである。しかし、バリーまたはkillされたバッファー、または直近の<code class="literal">switch-to-prev-buffer</code>呼び出しですでに表示されたバッファーは、前のバッファーとして適格とはならない。
</p><p>このコマンドを繰り返して呼び出すことにより、<em class="replaceable"><code>window</code></em>内で前に表示されたすべてのバッファーが表示されてしまった場合、将来の呼び出しにおいては、<em class="replaceable"><code>window</code></em>が表示されているフレームのバッファーリスト(<a class="link" href="ch27s08.html" title="The Buffer List">Buffer
List</a>を参照)から、そのフレームの他のウィンドウで表示済みのバッファーをスキップするようにして、バッファーを表示するだろう。
</p></blockquote></div><pre class="synopsis"><a id="idm67837136" class="indexterm"/><span class="category"><span class="bold"><strong>Command</strong></span>:</span> <code class="function">switch-to-next-buffer</code> <em class="replaceable"><code>&amp;optional</code></em> <em class="replaceable"><code>window</code></em></pre><div class="blockquote"><blockquote class="blockquote"><p>このコマンドは、<em class="replaceable"><code>window</code></em>内の次バッファーに切り替える。つまり、<em class="replaceable"><code>window</code></em>内での最後の<code class="literal">switch-to-prev-buffer</code>コマンドの効果をアンドゥする。引数<em class="replaceable"><code>window</code></em>は生きたウィンドウであること。デフォルトは選択されたウィンドウである。
</p><p>アンドゥ可能な<code class="literal">switch-to-prev-buffer</code>の直近の呼び出しが存在しない場合、この関数は<em class="replaceable"><code>window</code></em>が表示されているフレームのバッファーリスト(<a class="link" href="ch27s08.html" title="The Buffer List">Buffer
List</a>を参照)からバッファーの表示を試みる。
</p></blockquote></div><p>デフォルトでは、<code class="literal">switch-to-prev-buffer</code>と<code class="literal">switch-to-next-buffer</code>は、同一フレーム上の他のウィンドウで表示済みのバッファーに切り替えることができます。以下のオプションは、この挙動をオーバーライドするために使用できます。
</p><pre class="synopsis"><a id="idm67828688" class="indexterm"/><span class="category"><span class="bold"><strong>User Option</strong></span>:</span> <code class="varname">switch-to-visible-buffer</code></pre><div class="blockquote"><blockquote class="blockquote"><p>この変数が非<code class="literal">nil</code>の場合、<code class="literal">switch-to-prev-buffer</code>および<code class="literal">switch-to-next-buffer</code>は、そのバッファーが当該ウィンドウで過去に表示されていれば、同一フレーム上ですでに可視のバッファーに切り替えることができる。<code class="literal">nil</code>の場合、<code class="literal">switch-to-prev-buffer</code>および<code class="literal">switch-to-next-buffer</code>は、同一フレーム上ですでに可視なバッファーへの切り替えを常に避けるよう試みる。デフォルトは<code class="literal">t</code>。
</p></blockquote></div></div></body></html>