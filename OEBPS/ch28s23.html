<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title>Coordinates and Windows</title><meta name="generator" content="DocBook XSL Stylesheets V1.79.1"/></head><body><div class="sect1"><div class="titlepage"><div><div><h1 class="title"><a id="Coordinates-and-Windows"/>Coordinates and Windows</h1></div></div></div><a id="idm67344208" class="indexterm"/><a id="idm67339344" class="indexterm"/><a id="idm67338576" class="indexterm"/><p>このセクションでは、ウィンドウの位置を報告する関数を説明します。これらの関数のほとんどは、そのウィンドウのフレームから相対的な位置を報告します。この場合の座標原点‘<code class="literal">(0,0)</code>’は、そのフレームの左上隅付近になります。技術的な理由から、グラフィカルなディスプレイ上では、原点はスクリーン上のグラフィカルなウィンドウの左上隅に正確には配置されません。EmacsがGTK+とともにビルドされた場合、原点は(Emacsではなくウィンドウマネージャーおよび/またはGTK+により描画される)タイトルバー、GTK+メニューバー、ツールバーの下のEmacsウィンドウ表示に使用されるフレーム領域の左上隅になります。しかし、GTK+なしでEmacsがビルドされた場合の原点は、ツールバーの左上隅になります(この場合はEmacs自身がツールバーを描画する)。どちらの場合も、X座標とY座標は、右または下に行くにつれ増加します。
</p><p>注記された箇所を除き、X座標とY座標は整数の文字単位(行数と列数)で報告されます。グラフィカルなディスプレイ上では、“行”と“列”はそれぞれ、そのフレームのデフォルトフォントにより指定される、デフォルト文字の高さと幅に対応します。
</p><pre class="synopsis"><a id="idm67336272" class="indexterm"/><span class="category"><span class="bold"><strong>Function</strong></span>:</span> <code class="function">window-edges</code> <em class="replaceable"><code>&amp;optional</code></em> <em class="replaceable"><code>window</code></em></pre><div class="blockquote"><blockquote class="blockquote"><p>この関数は、<em class="replaceable"><code>window</code></em>端の座標のリストをリターンする。If
<em class="replaceable"><code>window</code></em>が省略または<code class="literal">nil</code>の場合のデフォルトは、選択されたウィンドウである。
</p><p>リターン値は、<code class="literal">(<em class="replaceable"><code>left</code></em> <em class="replaceable"><code>top</code></em> <em class="replaceable"><code>right</code></em>
<em class="replaceable"><code>bottom</code></em>)</code>という形式をもつ。リストの要素は順に、そのウィンドウにより占有される最左列のX座標、最上行のY座標、最右列より1列右のX座標、最下行より1行下のY座標である。
</p><p>これらは、ヘッダーライン、モードライン、スクロールバー、ウィンドウディバイダー、ディスプレイマージンを含む、ウィンドウの実際の外端であることに注意。テキスト端末では、そのウィンドウの右に隣接するウィンドウがある場合、ウィンドウの右端にはそのウィンドウと隣接するウィンドウの間のセパレーターラインが含まれる。
</p></blockquote></div><pre class="synopsis"><a id="idm67328592" class="indexterm"/><span class="category"><span class="bold"><strong>Function</strong></span>:</span> <code class="function">window-inside-edges</code> <em class="replaceable"><code>&amp;optional</code></em> <em class="replaceable"><code>window</code></em></pre><div class="blockquote"><blockquote class="blockquote"><p>この関数は<code class="literal">window-edges</code>と似ているが、そのウィンドウのテキストエリア端の値をリターンする。これらからはヘッダーライン、モードライン、スクロールバー、フリンジ、ウィンドウディバイダー、ディスプレイマージン、垂直セパレーターは除外される。
</p></blockquote></div><pre class="synopsis"><a id="idm67324496" class="indexterm"/><span class="category"><span class="bold"><strong>Function</strong></span>:</span> <code class="function">window-top-line</code> <em class="replaceable"><code>&amp;optional</code></em> <em class="replaceable"><code>window</code></em></pre><div class="blockquote"><blockquote class="blockquote"><p>この関数は、<em class="replaceable"><code>window</code></em>の最上行のY座標をリターンする。これは<code class="literal">window-edges</code>によりリターンされるリストの<em class="replaceable"><code>top</code></em>エントリーと等価である。
</p></blockquote></div><pre class="synopsis"><a id="idm67319632" class="indexterm"/><span class="category"><span class="bold"><strong>Function</strong></span>:</span> <code class="function">window-left-column</code> <em class="replaceable"><code>&amp;optional</code></em> <em class="replaceable"><code>window</code></em></pre><div class="blockquote"><blockquote class="blockquote"><p>この関数は、<em class="replaceable"><code>window</code></em>の最左列のX座標をリターンする。これは<code class="literal">window-edges</code>によりリターンされるリストの<em class="replaceable"><code>left</code></em>エントリーと等価である。
</p></blockquote></div><p>以下の関数は、フレーム相対座標(frame-relative coordinates)のセットからウィンドウへの関連付けに使用できます:
</p><pre class="synopsis"><a id="idm67314384" class="indexterm"/><span class="category"><span class="bold"><strong>Function</strong></span>:</span> <code class="function">window-at</code> <em class="replaceable"><code>x</code></em> <em class="replaceable"><code>y</code></em> <em class="replaceable"><code>&amp;optional</code></em> <em class="replaceable"><code>frame</code></em></pre><div class="blockquote"><blockquote class="blockquote"><p>この関数は、フレーム<em class="replaceable"><code>frame</code></em>上の、フレーム相対座標<em class="replaceable"><code>x</code></em>、<em class="replaceable"><code>y</code></em>にある生きたウィンドウをリターンする。その位置にウィンドウがなければ、<code class="literal">nil</code>をリターンする。<em class="replaceable"><code>frame</code></em>が省略または<code class="literal">nil</code>の場合のデフォルトは、選択されたフレームである。
</p></blockquote></div><pre class="synopsis"><a id="idm71452624" class="indexterm"/><span class="category"><span class="bold"><strong>Function</strong></span>:</span> <code class="function">coordinates-in-window-p</code> <em class="replaceable"><code>coordinates</code></em> <em class="replaceable"><code>window</code></em></pre><div class="blockquote"><blockquote class="blockquote"><p>この関数は、ウィンドウ<em class="replaceable"><code>window</code></em>がフレーム相対座標<em class="replaceable"><code>coordinates</code></em>を占有するかどうかをチェックし、もしそうならウィンドウのどの部分かをチェックする。<em class="replaceable"><code>window</code></em>は生きたウィンドウであること。<em class="replaceable"><code>coordinates</code></em>は<code class="literal">(<em class="replaceable"><code>x</code></em>
. <em class="replaceable"><code>y</code></em>)</code>という形式であるべきで、<em class="replaceable"><code>x</code></em>と<em class="replaceable"><code>y</code></em>はフレーム相対座標であること。
</p><p>指定された位置にウィンドウが存在しない場合、リターン値は<code class="literal">nil</code>である。それ以外では、リターン値は以下のいずれかになる:
</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="literal">(<em class="replaceable"><code>relx</code></em> . <em class="replaceable"><code>rely</code></em>)</code>
</span></dt><dd><p>その座標は<em class="replaceable"><code>window</code></em>内にある。数値<em class="replaceable"><code>relx</code></em>と<em class="replaceable"><code>rely</code></em>は、指定された位置にたいするウィンドウ左上隅を原点に0から数えたウィンドウ相対座標と等価である。
</p></dd><dt><span class="term"><code class="literal">mode-line</code>
</span></dt><dd><p>その座標は<em class="replaceable"><code>window</code></em>のモードライン内にある。
</p></dd><dt><span class="term"><code class="literal">header-line</code>
</span></dt><dd><p>その座標は<em class="replaceable"><code>window</code></em>のヘッダーライン内にある。
</p></dd><dt><span class="term"><code class="literal">right-divider</code>
</span></dt><dd><p>その座標は<em class="replaceable"><code>window</code></em>と右に隣接するウィンドウを分けるディバイダー内にある。
</p></dd><dt><span class="term"><code class="literal">right-divider</code>
</span></dt><dd><p>その座標は<em class="replaceable"><code>window</code></em>と下にあるウィンドウを分けるディバイダー内にある。
</p></dd><dt><span class="term"><code class="literal">vertical-line</code>
</span></dt><dd><p>その座標は<em class="replaceable"><code>window</code></em>と右に隣接するウィンドウを分ける垂直ライン内にある。この値は、ウィンドウにスクロールバーがないときのみ発生し得る。スクロールバー内の位置は、これらの目的にたいしてはウィンドウ外と判断される。
</p></dd><dt><span class="term"><code class="literal">left-fringe</code>
, </span><span class="term"><code class="literal">right-fringe</code>
</span></dt><dd><p>その座標はウィンドウの左か右のフリンジ内にある。
</p></dd><dt><span class="term"><code class="literal">left-margin</code>
, </span><span class="term"><code class="literal">right-margin</code>
</span></dt><dd><p>その座標はウィンドウの左か右のマージン内にある。
</p></dd><dt><span class="term"><code class="literal">nil</code>
</span></dt><dd><p>その座標は、<em class="replaceable"><code>window</code></em>のいずれの部分でもない。
</p></dd></dl></div><p>関数<code class="literal">coordinates-in-window-p</code>は<em class="replaceable"><code>window</code></em>のあるフレームを使用するので、引数としてフレームを要求しない。
</p></blockquote></div><p>以下の関数は、文字単位ではなくピクセル単位でウィンドウ位置をリターンします。主にグラフィカルなディスプレイで有用ですが、テキスト端末上でも呼び出すことができ、その場合は各文字の占めるスクリーン領域が“1ピクセル”となります。
</p><pre class="synopsis"><a id="idm71413328" class="indexterm"/><span class="category"><span class="bold"><strong>Function</strong></span>:</span> <code class="function">window-pixel-edges</code> <em class="replaceable"><code>&amp;optional</code></em> <em class="replaceable"><code>window</code></em></pre><div class="blockquote"><blockquote class="blockquote"><p>この関数は、<em class="replaceable"><code>window</code></em>端のピクセル座標のリストをリターンする。<em class="replaceable"><code>window</code></em>が省略または<code class="literal">nil</code>の場合のデフォルトは、選択されたウィンドウである。
</p><p>リターン値は<code class="literal">(<em class="replaceable"><code>left</code></em> <em class="replaceable"><code>top</code></em> <em class="replaceable"><code>right</code></em>
<em class="replaceable"><code>bottom</code></em>)</code>という形式をもつ。リストの要素は順にウィンドウ左端のXピクセル座標、上端のYピクセル座標、右端のXピクセル座標+1、下端のYピクセル座標+1である。
</p></blockquote></div><pre class="synopsis"><a id="idm71406032" class="indexterm"/><span class="category"><span class="bold"><strong>Function</strong></span>:</span> <code class="function">window-inside-pixel-edges</code> <em class="replaceable"><code>&amp;optional</code></em> <em class="replaceable"><code>window</code></em></pre><div class="blockquote"><blockquote class="blockquote"><p>この関数は<code class="literal">window-pixel-edges</code>と同様だが、ウィンドウ端のピクセル座標ではなく、ウィンドウのテキストエリア端のピクセル座標をリターンする。<em class="replaceable"><code>window</code></em>には生きたウィンドウを指定しなければならない。
</p></blockquote></div><p>以下の関数は、フレームではなく、ディスプレイ画面(display screen)に相対的なウィンドウ位置をピクセルでリターンする。
</p><pre class="synopsis"><a id="idm71401168" class="indexterm"/><span class="category"><span class="bold"><strong>Function</strong></span>:</span> <code class="function">window-absolute-pixel-edges</code> <em class="replaceable"><code>&amp;optional</code></em> <em class="replaceable"><code>window</code></em></pre><div class="blockquote"><blockquote class="blockquote"><p>この関数は<code class="literal">window-pixel-edges</code>と同様だが、ディスプレイ画面の左上隅からの相対ピクセル座標でウィンドウ端の座標をリターンする。
</p></blockquote></div><pre class="synopsis"><a id="idm71397072" class="indexterm"/><span class="category"><span class="bold"><strong>Function</strong></span>:</span> <code class="function">window-inside-absolute-pixel-edges</code> <em class="replaceable"><code>&amp;optional</code></em> <em class="replaceable"><code>window</code></em></pre><div class="blockquote"><blockquote class="blockquote"><p>この関数は<code class="literal">window-inside-pixel-edges</code>と同様だが、ディスプレイ画面の左上隅からの相対ピクセル座標でウィンドウのテキストエリア端の座標をリターンする。<em class="replaceable"><code>window</code></em>には生きたウィンドウを指定しなければならない。
</p></blockquote></div><pre class="synopsis"><a id="idm71392592" class="indexterm"/><span class="category"><span class="bold"><strong>Function</strong></span>:</span> <code class="function">window-pixel-left</code> <em class="replaceable"><code>&amp;optional</code></em> <em class="replaceable"><code>window</code></em></pre><div class="blockquote"><blockquote class="blockquote"><p>この関数は、ウィンドウ<em class="replaceable"><code>window</code></em>の左端のピクセルをリターンする。<em class="replaceable"><code>window</code></em>は有効なウィンドウでなければならず、デフォルトは選択されたウィンドウである。
</p></blockquote></div><pre class="synopsis"><a id="idm71388112" class="indexterm"/><span class="category"><span class="bold"><strong>Function</strong></span>:</span> <code class="function">window-pixel-top</code> <em class="replaceable"><code>&amp;optional</code></em> <em class="replaceable"><code>window</code></em></pre><div class="blockquote"><blockquote class="blockquote"><p>この関数は、ウィンドウ<em class="replaceable"><code>window</code></em>の上端のピクセルをリターンする。<em class="replaceable"><code>window</code></em>は有効なウィンドウでなければならず、デフォルトは選択されたウィンドウである。
</p></blockquote></div></div></body></html>