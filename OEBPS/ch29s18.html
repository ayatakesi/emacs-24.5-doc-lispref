<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title>Window System Selections</title><meta name="generator" content="DocBook XSL Stylesheets V1.79.1"/></head><body><div class="sect1"><div class="titlepage"><div><div><h1 class="title"><a id="Window-System-Selections"/>Window System Selections</h1></div></div></div><a id="idm69953360" class="indexterm"/><a id="idm69952592" class="indexterm"/><a id="idm69951824" class="indexterm"/><a id="idm69951056" class="indexterm"/><p>Xウィンドウシステムでは、異なるアプリケーション間のデータ転送は、<em class="firstterm">選択(selections)</em>により行われます。Xは任意の数の<em class="firstterm">選択タイプ(selection
types)</em>を定義し、それぞれが独自にデータを格納できます。しかし、一般的に使用されるのは<em class="firstterm">クリップボード(clipboard)</em>、<em class="firstterm">プライマリー選択(primary
selection)</em>、<em class="firstterm">セカンダリー選択(secondary
selection)</em>の3つだけです。これら3つの選択を使用するEmacsコマンドについては、section “Cut and
Paste” in <em class="citetitle">The GNU Emacs
Manual</em>を参照してください。このセクションでは、X選択の読み取りとセットを行う、低レベル関数について説明します。
</p><pre class="synopsis"><a id="idm69947216" class="indexterm"/><span class="category"><span class="bold"><strong>Command</strong></span>:</span> <code class="function">x-set-selection</code> <em class="replaceable"><code>type</code></em> <em class="replaceable"><code>data</code></em></pre><div class="blockquote"><blockquote class="blockquote"><p>この関数は、X選択をセットする。これは、選択タイプ<em class="replaceable"><code>type</code></em>と、それに割り当てる値<em class="replaceable"><code>data</code></em>の、2つの引数をとる。
</p><p><em class="replaceable"><code>type</code></em>はシンボルであること。通常は<code class="literal">PRIMARY</code>、<code class="literal">SECONDARY</code>、<code class="literal">CLIPBOARD</code>のいずれかである。これらは、Xウィンドウシステムの慣例に対応する大文字のシンボル名である。<em class="replaceable"><code>type</code></em>が<code class="literal">nil</code>なら、それは<code class="literal">PRIMARY</code>を意味する。
</p><p><em class="replaceable"><code>data</code></em>が<code class="literal">nil</code>なら、それはその選択をクリアーすることを意味する。それ以外では、<em class="replaceable"><code>data</code></em>は文字列、シンボル、整数(2つの整数からなるコンスかリスト)、オーバーレイ、同じバッファーを指す2つのマーカーのコンスを指定できる。オーバーレイとマーカーのペアは、そのオーバーレイまたはマーカー間のテキストを意味する。引数<em class="replaceable"><code>data</code></em>には、非ベクターの選択の値のベクターも指定できる。
</p><p>この関数は<em class="replaceable"><code>data</code></em>をリターンする。
</p></blockquote></div><pre class="synopsis"><a id="idm69936592" class="indexterm"/><span class="category"><span class="bold"><strong>Function</strong></span>:</span> <code class="function">x-get-selection</code> <em class="replaceable"><code>&amp;optional</code></em> <em class="replaceable"><code>type</code></em> <em class="replaceable"><code>data-type</code></em></pre><div class="blockquote"><blockquote class="blockquote"><p>この関数は、Emacsおよび別のXクライアントによりセットアップされた選択にアクセスする。これは<em class="replaceable"><code>type</code></em>と<em class="replaceable"><code>data-type</code></em>の、2つの引数をとる。<em class="replaceable"><code>type</code></em>は選択のタイプで、デフォルトは<code class="literal">PRIMARY</code>。
</p><p><em class="replaceable"><code>data-type</code></em>引数は、別のXクライアントから取得したrawデータをLispデータに変換するための、データ変換に使用する形式を指定する。意味のある値には<code class="literal">TEXT</code>、<code class="literal">STRING</code>、<code class="literal">UTF8_STRING</code>、<code class="literal">TARGETS</code>、<code class="literal">LENGTH</code>、<code class="literal">DELETE</code>、<code class="literal">FILE_NAME</code>、<code class="literal">CHARACTER_POSITION</code>、<code class="literal">NAME</code>、<code class="literal">LINE_NUMBER</code>、<code class="literal">COLUMN_NUMBER</code>、<code class="literal">OWNER_OS</code>、<code class="literal">HOST_NAME</code>、<code class="literal">USER</code>、<code class="literal">CLASS</code>、<code class="literal">ATOM</code>、<code class="literal">INTEGER</code>が含まれる(これらは、対応するX慣習の大文字シンボル名である)。<em class="replaceable"><code>data-type</code></em>のデフォルトは<code class="literal">STRING</code>。
</p></blockquote></div><pre class="synopsis"><a id="idm69920720" class="indexterm"/><span class="category"><span class="bold"><strong>User Option</strong></span>:</span> <code class="varname">selection-coding-system</code></pre><div class="blockquote"><blockquote class="blockquote"><p>この変数は、選択やクリップボードに読み書きする際のコーディングシステムを指定する。<a class="link" href="ch33s10.html" title="Coding Systems">Coding
Systems</a>を参照してください。デフォルトは<code class="literal">compound-text-with-extensions</code>で、これはX11が通常使用するテキスト表現に変換する。
</p></blockquote></div><a id="idm69917136" class="indexterm"/><p>EmacsがMS-Windows上で実行されている際は、一般的にX選択はサポートしませんが、クリップボードはサポートします。MS-Windowsでは、<code class="literal">x-get-selection</code>および<code class="literal">x-set-selection</code>は、テキストデータタイプだけをサポートします。クリップボードが他のタイプのデータを保持している場合、Emacsはクリップボードを空として扱います。
</p></div></body></html>