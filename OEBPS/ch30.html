<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title>Chapter 29. Positions</title><meta name="generator" content="DocBook XSL Stylesheets V1.79.1"/></head><body><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a id="Positions"/>Chapter 29. Positions</h1></div></div></div><a id="idm69624016" class="indexterm"/><a id="idm69623248" class="indexterm"/><p><em class="firstterm">位置(position)</em>とは、バッファーのテキストの文字のインデックスです。より正確には、位置とは2つの文字間(または最初の文字の前、または最後の文字の後)の箇所を識別し、与えられた位置の前あるいは後の文字のように表現することができます。しかし、“ある位置にある文字”のように表現することもあり、その場合はその位置の後の文字を意味します。
</p><p>位置は通常、1から始まる整数として表されますが、<em class="firstterm">マーカー(markers)</em>として表現することもできます。関数は引数に位置(整数)を期待しますが、代替としてマーカーも受け入れ、通常はそのマーカーが指すのがどのバッファーなのかは無視します。これらの関数はマーカーを整数に変換して、たとえそのマーカーが“誤った”バッファーを指していたとしても、まるで引数としてその整数が渡されたかのように、その整数を使用します。整数に変換できない場所を指すマーカーを整数のかわりに使用すると、エラーとなります。<a class="link" href="ch31.html" title="Chapter 30. Markers">Markers</a>を参照してください。
</p><p>多くのカーソルモーションコマンドにより使用される関数を提供する“フィールド(field)”機能(<a class="link" href="ch32s19.html#Fields" title="Defining and Using Fields">Fields</a>)も参照してください。
</p><div class="sect1"><div class="titlepage"><div><div><h1 class="title"><a id="Point"/>Point</h1></div></div></div><a id="idm69618768" class="indexterm"/><p><em class="firstterm">ポイント(point)</em>とは、多くの編集コマンドにより使用される、バッファーの特別な位置のことです。これらのコマンドには、自己挿入型のタイプ文字やテキスト挿入関数が含まれます。その他のコマンドは、別の箇所でテキストの編集や挿入ができるようにポイントを移動します。
</p><p>他の位置と同様、ポイントは特定の文字ではなく、2つの文字の間(または最初の文字の前、または最後の文字の後)を指します。通常、端末ではポイント直後の文字の上にカーソルを表示します。つまり、ポイントは実際はカーソルのある文字の前にあります。
</p><a id="idm69616976" class="indexterm"/><p>ポイントの値は1より小さくなることはなく、そのバッファーのサイズに1を加えた値より大きくなることはありません。ナローイング(<a class="link" href="ch30s04.html" title="Narrowing">Narrowing</a>を参照)が効力をもつ場合、ポイントはそのバッファーのアクセス可能な範囲内(範囲の境界はバッファーの先頭か終端のいずれかの可能性がある)に閉じ込められます。
</p><p>バッファーはそれぞれ自身のポイント値をもち、それは他のバッファーのポイント値とは無関係です。ウィンドウもそれぞれポイント値をもち、他のウィンドウ内の同じバッファー上のポイント値とは無関係です。同じバッファーを表示する種々のウィンドウが異なるポイント値をもてるのは、これが理由です。あるバッファーがただ1つのウィンドウに表示されているときは、そのバッファーのポイントとそのウィンドウのポイントは、通常は同じ値をもち、区別が重要になるのは稀です。詳細は<a class="link" href="ch28s18.html" title="Windows and Point">Window
Point</a>を参照してください。
</p><pre class="synopsis"><a id="idm69601872" class="indexterm"/><span class="category"><span class="bold"><strong>Function</strong></span>:</span> <code class="function">point</code></pre><div class="blockquote"><blockquote class="blockquote"><a id="idm69599696" class="indexterm"/><p>この関数は、カレントバッファー内のポイントの値を、整数でリターンする。
</p><pre class="screen">(point)
     ⇒ 175
</pre></blockquote></div><pre class="synopsis"><a id="idm69597776" class="indexterm"/><span class="category"><span class="bold"><strong>Function</strong></span>:</span> <code class="function">point-min</code></pre><div class="blockquote"><blockquote class="blockquote"><p>この関数は、カレントバッファー内のアクセス可能なポイントの最小値をリターンする。これは通常は1だが、ナローイングが効力をもつ場合は、ナローイングしたリージョンの開始位置となる(<a class="link" href="ch30s04.html" title="Narrowing">Narrowing</a>を参照)。
</p></blockquote></div><pre class="synopsis"><a id="idm69594448" class="indexterm"/><span class="category"><span class="bold"><strong>Function</strong></span>:</span> <code class="function">point-max</code></pre><div class="blockquote"><blockquote class="blockquote"><p>この関数は、カレントバッファー内のアクセス可能なポイントの最大値をリターンする。これはナローイングされていなければは<code class="literal">(1+
(buffer-size))</code>だが、ナローイングが効力をもつ場合は、ナローイングしたリージョンの終端位置となる(<a class="link" href="ch30s04.html" title="Narrowing">Narrowing</a>を参照)。
</p></blockquote></div><pre class="synopsis"><a id="idm69590480" class="indexterm"/><span class="category"><span class="bold"><strong>Function</strong></span>:</span> <code class="function">buffer-end</code> <em class="replaceable"><code>flag</code></em></pre><div class="blockquote"><blockquote class="blockquote"><p>この関数は、<em class="replaceable"><code>flag</code></em>が0より大なら<code class="literal">(point-max)</code>、それ以外は<code class="literal">(point-min)</code>をリターンする。引数<em class="replaceable"><code>flag</code></em>は数値でなければならない。
</p></blockquote></div><pre class="synopsis"><a id="idm69573200" class="indexterm"/><span class="category"><span class="bold"><strong>Function</strong></span>:</span> <code class="function">buffer-size</code> <em class="replaceable"><code>&amp;optional</code></em> <em class="replaceable"><code>buffer</code></em></pre><div class="blockquote"><blockquote class="blockquote"><p>この関数は、カレントバッファー内の文字数のトータルをリターンする。ナローイング(<a class="link" href="ch30s04.html" title="Narrowing">Narrowing</a>を参照)されていなければ、<code class="literal">point-max</code>はこれに1を加えた値をリターンする。
</p><p><em class="replaceable"><code>buffer</code></em>にバッファーを指定した場合、値は<em class="replaceable"><code>buffer</code></em>のサイズになる。
</p><pre class="screen">(buffer-size)
     ⇒ 35
</pre><pre class="screen">(point-max)
     ⇒ 36
</pre></blockquote></div></div></div></body></html>