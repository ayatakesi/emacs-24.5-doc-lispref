<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title>User-Level Deletion Commands</title><meta name="generator" content="DocBook XSL Stylesheets V1.79.1"/></head><body><div class="sect1"><div class="titlepage"><div><div><h1 class="title"><a id="User_002dLevel-Deletion"/>User-Level Deletion Commands</h1></div></div></div><p>このセクションでは、主にユーザーにたいして有用なものの、Lispプログラムでも有用な、テキストを削除するための高レベルんｑコマンドを説明します。
</p><pre class="synopsis"><a id="idm72502096" class="indexterm"/><span class="category"><span class="bold"><strong>Command</strong></span>:</span> <code class="function">delete-horizontal-space</code> <em class="replaceable"><code>&amp;optional</code></em> <em class="replaceable"><code>backward-only</code></em></pre><div class="blockquote"><blockquote class="blockquote"><a id="idm72499152" class="indexterm"/><p>この関数は、ポイント近辺のすべてのスペースとタブを削除する。リターン値は<code class="literal">nil</code>。
</p><p><em class="replaceable"><code>backward-only</code></em>が非<code class="literal">nil</code>の場合、この関数はポイント前のスペースとタブを削除するがポイント後のスペースとタブは削除しない。
</p><p>以下の例では、各行ごとに、2番目と3番目の間にポイントを置いて、<code class="literal">delete-horizontal-space</code>を4回呼び出している。
</p><pre class="screen">---------- Buffer: foo ----------
I ★thought
I ★     thought
We★ thought
Yo★u thought
---------- Buffer: foo ----------
</pre><pre class="screen">
</pre><pre class="screen">(delete-horizontal-space)   ; Four times.
     ⇒ nil

---------- Buffer: foo ----------
Ithought
Ithought
Wethought
You thought
---------- Buffer: foo ----------
</pre></blockquote></div><pre class="synopsis"><a id="idm72493904" class="indexterm"/><span class="category"><span class="bold"><strong>Command</strong></span>:</span> <code class="function">delete-indentation</code> <em class="replaceable"><code>&amp;optional</code></em> <em class="replaceable"><code>join-following-p</code></em></pre><div class="blockquote"><blockquote class="blockquote"><p>この関数は、ポイントのある行を、その前の行に結合(join)する。結合においては、すべての空白文字を削除、特定のケースにおいてはそれらを1つのスペースに置き換える。<em class="replaceable"><code>join-following-p</code></em>が非<code class="literal">nil</code>なら、<code class="literal">delete-indentation</code>はかわりに後続行と結合を行う。この関数は<code class="literal">nil</code>をリターンする。
</p><p>fillプレフィクスがあり、結合される2つ目の行もそのプレフィクスで始まる場合、行の結合前に<code class="literal">delete-indentation</code>はそのfillプレフィクスを削除する。<a class="link" href="ch32s12.html" title="Margins for Filling">Margins</a>を参照のこと。
</p><p>以下の例では、‘<code class="literal">events</code>’で始まる行にポイントがあり、前の行の末尾に1つ以上のスペースが存在しても、違いは生じない。
</p><pre class="screen">---------- Buffer: foo ----------
When in the course of human
★    events, it becomes necessary
---------- Buffer: foo ----------
</pre><pre class="screen">
(delete-indentation)
     ⇒ nil

</pre><pre class="screen">---------- Buffer: foo ----------
When in the course of human★ events, it becomes necessary
---------- Buffer: foo ----------
</pre><p>行の結合後に、結合点に単一のスペースを残すか否かを決定するのは、関数<code class="literal">fixup-whitespace</code>の責任である。
</p></blockquote></div><pre class="synopsis"><a id="idm72479824" class="indexterm"/><span class="category"><span class="bold"><strong>Command</strong></span>:</span> <code class="function">fixup-whitespace</code></pre><div class="blockquote"><blockquote class="blockquote"><p>この関数は、ポイントを取り囲むすべての水平スペースを、コンテキストに応じて1つのスペースまたはスペースなしに置き換える。リターン値は<code class="literal">nil</code>。
</p><p>行の先頭または末尾において、スペースの適正な数は0である。閉じカッコ構文(close parenthesis
syntax)の前の文字、開きカッコの後の文字、式プレフィクス構文(expression-prefix
syntax)においても、スペースの適正な数は0である。それ以外では、スペースの適正な数は1である。<a class="link" href="ch35s02.html#Syntax-Class-Table" title="Table of Syntax Classes">Syntax Class
Table</a>を参照のこと。
</p><p>以下の例では、最初に1行目の単語‘<code class="literal">spaces</code>’の前にポイントがある状態で、<code class="literal">fixup-whitespace</code>を呼び出している。2回目の呼び出しでは、‘<code class="literal">(</code>’の直後にポイントがある。
</p><pre class="screen">---------- Buffer: foo ----------
This has too many     ★spaces
This has too many spaces at the start of (★   this list)
---------- Buffer: foo ----------
</pre><pre class="screen">
</pre><pre class="screen">(fixup-whitespace)
     ⇒ nil
(fixup-whitespace)
     ⇒ nil
</pre><pre class="screen">
</pre><pre class="screen">---------- Buffer: foo ----------
This has too many spaces
This has too many spaces at the start of (this list)
---------- Buffer: foo ----------
</pre></blockquote></div><pre class="synopsis"><a id="idm72471504" class="indexterm"/><span class="category"><span class="bold"><strong>Command</strong></span>:</span> <code class="function">just-one-space</code> <em class="replaceable"><code>&amp;optional</code></em> <em class="replaceable"><code>n</code></em></pre><div class="blockquote"><blockquote class="blockquote"><p>このコマンドは、ポイントを取り囲むすべてのスペースを1つのスペース、または<em class="replaceable"><code>n</code></em>が指定された場合は<em class="replaceable"><code>n</code></em>個のスペースで置き換える。リターン値は<code class="literal">nil</code>。
</p></blockquote></div><pre class="synopsis"><a id="idm72465872" class="indexterm"/><span class="category"><span class="bold"><strong>Command</strong></span>:</span> <code class="function">delete-blank-lines</code></pre><div class="blockquote"><blockquote class="blockquote"><p>この関数は、ポイントを取り囲む空行を削除する。ポイントが前後に1行以上の空行がある空の行にある場合は、1行を除きそれらすべてを削除する。ポイントが孤立した空行にあるなら、その行を削除する。ポイントが空でない行にあるなら、その直後にあるすべての空白を削除する。
</p><p>空行とは、タブまたはスペースのみを含む行として定義される。
</p><p><code class="literal">delete-blank-lines</code>は<code class="literal">nil</code>をリターンする。
</p></blockquote></div><pre class="synopsis"><a id="idm72461136" class="indexterm"/><span class="category"><span class="bold"><strong>Command</strong></span>:</span> <code class="function">delete-trailing-whitespace</code> <em class="replaceable"><code>start</code></em> <em class="replaceable"><code>end</code></em></pre><div class="blockquote"><blockquote class="blockquote"><p><em class="replaceable"><code>start</code></em>と<em class="replaceable"><code>end</code></em>で定義されるリージョン内の、末尾の空白文字を削除する。
</p><p>このコマンドは、リージョン内の各行の最後の非空白文字後にある空白文字を削除する。
</p><p>このコマンドがバッファー全体(マークが非アクティブな状態で呼び出された場合やLispから<em class="replaceable"><code>end</code></em>と<code class="literal">nil</code>で呼び出された場合)にたいして動作する場合、変数<code class="literal">delete-trailing-lines</code>が非<code class="literal">nil</code>ならバッファーの終端行の末尾の行も削除する。
</p></blockquote></div></div></body></html>