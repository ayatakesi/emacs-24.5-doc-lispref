<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title>Filling</title><meta name="generator" content="DocBook XSL Stylesheets V1.79.1"/></head><body><div class="sect1"><div class="titlepage"><div><div><h1 class="title"><a id="Filling"/>Filling</h1></div></div></div><a id="idm72120272" class="indexterm"/><p><em class="firstterm">フィル(fill:
充填)</em>とは、指定された最大幅付近(ただし超えず)に、(行ブレークを移動することにより)行の長さを調整することを意味します。加えて、複数行を<em class="firstterm">位置揃え(justify)</em>することもできます。位置揃えとは、スペースを挿入して左および/または右マージンを正確に整列させることを意味します。その幅は、変数<code class="literal">fill-column</code>により制御されます。読みやすくするために、行の長さは70列程度を超えないようにするべきです。
</p><p>テキストの挿入とともに自動的にテキストをフィルするAuto
Fillモードを使用できますが、既存テキストの変更では不適切にフィルされたままになるかもしれません。その場合は、テキストを明示的にフィルしなければなりません。
</p><p>このセクションのコマンドのほとんどは、有意な値をリターンしません。フィルを行うすべての関数は、カレント左マージン、カレント右マージン、カレント位置揃えスタイルに留意します(<a class="link" href="ch32s12.html" title="Margins for Filling">Margins</a>を参照)。カレント位置揃えスタイルが<code class="literal">none</code>の場合、フィル関数は実際には何も行いません。
</p><p>フィル関数のいくつかは、引数<em class="replaceable"><code>justify</code></em>をもちます。これが非<code class="literal">nil</code>なら、それは何らかの類の位置揃えを要求します。特定の位置揃えスタイルを要求するために<code class="literal">left</code>、<code class="literal">right</code>、<code class="literal">full</code>、<code class="literal">center</code>を指定できます。これが<code class="literal">t</code>なら、それはそのテキスト部分にたいしてカレント位置揃えスタイルを使用することを意味します(以下の<code class="literal">current-justification</code>を参照)。その他すべての値は、<code class="literal">full</code>として扱われます。
</p><p>インタラクティブにフィル関数を呼び出す際、プレフィクス引数の使用は<em class="replaceable"><code>justify</code></em>にたいして暗に値<code class="literal">full</code>を指定します。
</p><pre class="synopsis"><a id="idm72097360" class="indexterm"/><span class="category"><span class="bold"><strong>Command</strong></span>:</span> <code class="function">fill-paragraph</code> <em class="replaceable"><code>&amp;optional</code></em> <em class="replaceable"><code>justify</code></em> <em class="replaceable"><code>region</code></em></pre><div class="blockquote"><blockquote class="blockquote"><p>このコマンドは、ポイント位置、またはその後のパラグラフ(paragraph:
段落)をフィルする。<em class="replaceable"><code>justify</code></em>が非<code class="literal">nil</code>なら、同様に各行が位置揃えされる。これはパラグラフ境界を探すために、通常のパラグラフ移動コマンドを使用する。section “Paragraphs” in <em class="citetitle">The GNU Emacs Manual</em>を参照のこと。
</p><p>もし<em class="replaceable"><code>region</code></em>が非<code class="literal">nil</code>で、Transient
Markモードが有効かつマークがアクティブなら、このコマンドはカレントパラグラフのみフィルするかわりに、リージョン内すべてのパラグラフをフィルするために、コマンド<code class="literal">fill-region</code>を呼び出す。このコマンドがインタラクティブに呼び出されたとき、<em class="replaceable"><code>region</code></em>は<code class="literal">t</code>である。
</p></blockquote></div><pre class="synopsis"><a id="idm72089296" class="indexterm"/><span class="category"><span class="bold"><strong>Command</strong></span>:</span> <code class="function">fill-region</code> <em class="replaceable"><code>start</code></em> <em class="replaceable"><code>end</code></em> <em class="replaceable"><code>&amp;optional</code></em> <em class="replaceable"><code>justify</code></em> <em class="replaceable"><code>nosqueeze</code></em> <em class="replaceable"><code>to-eop</code></em></pre><div class="blockquote"><blockquote class="blockquote"><p>このコマンドは、<em class="replaceable"><code>start</code></em>から<em class="replaceable"><code>end</code></em>のリージョン内のすべてのパラグラフをフィルする。<em class="replaceable"><code>justify</code></em>が非<code class="literal">nil</code>なら、同様に位置揃えも行う。
</p><p><em class="replaceable"><code>nosqueeze</code></em>が非<code class="literal">nil</code>なら、それは行ブレーク以外の空白文字を残すことを意味する。<em class="replaceable"><code>to-eop</code></em>が非<code class="literal">nil</code>の場合、それはパラグラフ終端(以下の<code class="literal">use-hard-newlines</code>が有効なら次のhard改行)までのフィルを維持することを意味する
</p><p>変数<code class="literal">paragraph-separate</code>は、パラグラフを分割する方法を制御する。<a class="link" href="ch34s08.html" title="Standard Regular Expressions Used in Editing">Standard Regexps</a>を参照のこと。
</p></blockquote></div><pre class="synopsis"><a id="idm72074448" class="indexterm"/><span class="category"><span class="bold"><strong>Command</strong></span>:</span> <code class="function">fill-individual-paragraphs</code> <em class="replaceable"><code>start</code></em> <em class="replaceable"><code>end</code></em> <em class="replaceable"><code>&amp;optional</code></em> <em class="replaceable"><code>justify</code></em> <em class="replaceable"><code>citation-regexp</code></em></pre><div class="blockquote"><blockquote class="blockquote"><p>このコマンドは、リージョン内の各パラグラフを、それの固有なフィルプレフィクスに応じてフィルする。したがって、パラグラフの行がスペースでインデントされている場合、フィルされたパラグラフは同じ様式でインデントされた状態に保たれるだろう。
</p><p>最初の2つの引数<em class="replaceable"><code>start</code></em>と<em class="replaceable"><code>end</code></em>は、フィルするリージョンの先頭と終端である。3つ目の引数<em class="replaceable"><code>justify</code></em>、4つ目の引数<em class="replaceable"><code>citation-regexp</code></em>はオプションである。<em class="replaceable"><code>justify</code></em>が非<code class="literal">nil</code>なら、そのパラグラフはフィルと同様に位置揃えもされる。<em class="replaceable"><code>citation-regexp</code></em>が非<code class="literal">nil</code>なら、それはこの関数がメールメッセージを処理しているので、ヘッダーラインをフィルするべきではないことを意味する。<em class="replaceable"><code>citation-regexp</code></em>が文字列の場合、それは正規表現として扱われる。それが行の先頭にマッチすれば、その行は引用マーカー(citation
marker)として扱われる。
</p><p><code class="literal">fill-individual-paragraphs</code>は通常、インデントの変更を新たなパラグラフの開始とみなす。<code class="literal">fill-individual-varying-indent</code>が非<code class="literal">nil</code>の場合は、セパレーターラインだけがパラグラフを分割する。その場合は、最初の行からさらにインデントが追加されたパラグラフを処理することが可能になる。
</p></blockquote></div><pre class="synopsis"><a id="idm72051280" class="indexterm"/><span class="category"><span class="bold"><strong>User Option</strong></span>:</span> <code class="varname">fill-individual-varying-indent</code></pre><div class="blockquote"><blockquote class="blockquote"><p>この変数は、上述のように<code class="literal">fill-individual-paragraphs</code>の動作を変更する。
</p></blockquote></div><pre class="synopsis"><a id="idm72048080" class="indexterm"/><span class="category"><span class="bold"><strong>Command</strong></span>:</span> <code class="function">fill-region-as-paragraph</code> <em class="replaceable"><code>start</code></em> <em class="replaceable"><code>end</code></em> <em class="replaceable"><code>&amp;optional</code></em> <em class="replaceable"><code>justify</code></em> <em class="replaceable"><code>nosqueeze</code></em> <em class="replaceable"><code>squeeze-after</code></em></pre><div class="blockquote"><blockquote class="blockquote"><p>このコマンドは、テキストのリージョンを1つのパラグラフとみなして、それをフィルする。そのリージョンが多数のパラグラフから構成されていたら、パラグラフ間の空行は削除される。<em class="replaceable"><code>justify</code></em>が非<code class="literal">nil</code>なら、フィルとともに位置揃えも行う。
</p><p><em class="replaceable"><code>nosqueeze</code></em>が非<code class="literal">nil</code>なら、それは改行以外の空白に手を加えずに残すことを意味する。<em class="replaceable"><code>squeeze-after</code></em>が非<code class="literal">nil</code>の場合、それはリージョン内の位置を指定し、その位置より前にあるスペースについては標準化を行わないことを意味する。
</p><p>Adaptive
Fillモードでは、このコマンドはフィルプレフィクスを選択するために、デフォルトで<code class="literal">fill-context-prefix</code>を呼び出す。<a class="link" href="ch32s13.html" title="Adaptive Fill Mode">Adaptive
Fill</a>を参照のこと。
</p></blockquote></div><pre class="synopsis"><a id="idm72038608" class="indexterm"/><span class="category"><span class="bold"><strong>Command</strong></span>:</span> <code class="function">justify-current-line</code> <em class="replaceable"><code>&amp;optional</code></em> <em class="replaceable"><code>how</code></em> <em class="replaceable"><code>eop</code></em> <em class="replaceable"><code>nosqueeze</code></em></pre><div class="blockquote"><blockquote class="blockquote"><p>このコマンドは、その行が正確に<code class="literal">fill-column</code>で終わるように、単語間にスペースを挿入する。リターン値は<code class="literal">nil</code>。
</p><p>引数<em class="replaceable"><code>how</code></em>が非<code class="literal">nil</code>なら、それは位置揃えスタイルを明示的に指定する。指定できる値は<code class="literal">left</code>、<code class="literal">right</code>、<code class="literal">full</code>、<code class="literal">center</code>、または<code class="literal">none</code>。値が<code class="literal">t</code>の場合、それは指定済みの位置揃えスタイル(以下の<code class="literal">current-justification</code>を参照)にしたがうことを意味する。<code class="literal">nil</code>は位置揃え<code class="literal">full</code>と同じ。
</p><p><em class="replaceable"><code>eop</code></em>が非<code class="literal">nil</code>なら、それは<code class="literal">current-justification</code>がfull位置揃えを指定する場合にleft位置揃えだけを行うことを意味する。これは、パラグラフ最終行にたいして使用される。パラグラフ全体がfull位置揃えだったとしても、最終行はfull位置揃えであるべきではない。
</p><p><em class="replaceable"><code>nosqueeze</code></em>が非<code class="literal">nil</code>なら、それは内部のスペースを変更しないことを意味する。
</p></blockquote></div><pre class="synopsis"><a id="idm72024528" class="indexterm"/><span class="category"><span class="bold"><strong>User Option</strong></span>:</span> <code class="varname">default-justification</code></pre><div class="blockquote"><blockquote class="blockquote"><p>この変数の値は、位置揃えに使用するスタイルをテキストプロパティで指定しないテキストにたいするスタイルを指定する。可能な値は<code class="literal">left</code>、<code class="literal">right</code>、<code class="literal">full</code>、<code class="literal">center</code>、または<code class="literal">none</code>。デフォルト値は<code class="literal">left</code>である。
</p></blockquote></div><pre class="synopsis"><a id="idm72018768" class="indexterm"/><span class="category"><span class="bold"><strong>Function</strong></span>:</span> <code class="function">current-justification</code></pre><div class="blockquote"><blockquote class="blockquote"><p>この関数は、ポイント周辺のフィルに使用するための、適正な位置揃えスタイルをリターンする。
</p><p>これは、ポイント位置のテキストプロパティ<code class="literal">justification</code>の値、そのようなテキストプロパティが存在しなければ変数<em class="replaceable"><code>default-justification</code></em>の値をリターンする。しかし、“位置揃えなし”の場合は、<code class="literal">none</code>ではなく<code class="literal">nil</code>をリターンする。
</p></blockquote></div><pre class="synopsis"><a id="idm72013648" class="indexterm"/><span class="category"><span class="bold"><strong>User Option</strong></span>:</span> <code class="varname">sentence-end-double-space</code></pre><div class="blockquote"><blockquote class="blockquote"><a id="Definition-of-sentence_002dend_002ddouble_002dspace"/><p>この変数が非<code class="literal">nil</code>の場合、ピリオドの後の単一のスペースをセンテンスの終わりとみなさず、フィル関数はそのような箇所でのラインブレークを行わない。
</p></blockquote></div><pre class="synopsis"><a id="idm72010192" class="indexterm"/><span class="category"><span class="bold"><strong>User Option</strong></span>:</span> <code class="varname">sentence-end-without-period</code></pre><div class="blockquote"><blockquote class="blockquote"><p>この変数が非<code class="literal">nil</code>なら、ピリオドなしでセンテンスは終了できる。これはたとえば、ピリオドなしの2連スペースでセンテンスが終わるタイ語な土に使用される。
</p></blockquote></div><pre class="synopsis"><a id="idm72006992" class="indexterm"/><span class="category"><span class="bold"><strong>User Option</strong></span>:</span> <code class="varname">sentence-end-without-space</code></pre><div class="blockquote"><blockquote class="blockquote"><p>この変数が非<code class="literal">nil</code>なら、それは後にスペースをともなうことなくセンテンスを終了させ得る文字列であること。
</p></blockquote></div><pre class="synopsis"><a id="idm72003664" class="indexterm"/><span class="category"><span class="bold"><strong>Variable</strong></span>:</span> <code class="varname">fill-paragraph-function</code></pre><div class="blockquote"><blockquote class="blockquote"><p>この変数は、パラグラフのフィルをオーバーライドする手段を提供する。この値が非<code class="literal">nil</code>なら、<code class="literal">fill-paragraph</code>はその処理を行うためにその関数を呼び出す。その関数が非<code class="literal">nil</code>値をリターンした場合、<code class="literal">fill-paragraph</code>は処理が終了したとみなして、即座にその値をリターンする。
</p><p>この機能の通常の用途は、プログラミング言語のモードにおいてコメントをフィルすることである。通常の方法でその関数がパラグラフをフィルする必要がある場合は、以下のようにそれを行うことができる:
</p><pre class="screen">(let ((fill-paragraph-function nil))
  (fill-paragraph arg))
</pre></blockquote></div><pre class="synopsis"><a id="idm71985616" class="indexterm"/><span class="category"><span class="bold"><strong>Variable</strong></span>:</span> <code class="varname">fill-forward-paragraph-function</code></pre><div class="blockquote"><blockquote class="blockquote"><p>この変数は、<code class="literal">fill-region</code>や<code class="literal">fill-paragraph</code>のようなフィル関数が、次のパラグラフへ前方に移動する方法を、オーバーライドするための手段を提供する。値は、移動するパラグラフの数<em class="replaceable"><code>n</code></em>を唯一の引数として呼び出される関数で、<em class="replaceable"><code>n</code></em>と実際に移動したパラグラフ数の差をリターンするべきである。この変数のデフォルト値は<code class="literal">forward-paragraph</code>。section “Paragraphs” in <em class="citetitle">The GNU Emacs Manual</em>を参照のこと。
</p></blockquote></div><pre class="synopsis"><a id="idm71980112" class="indexterm"/><span class="category"><span class="bold"><strong>Variable</strong></span>:</span> <code class="varname">use-hard-newlines</code></pre><div class="blockquote"><blockquote class="blockquote"><p>この変数が非<code class="literal">nil</code>なら、フィル関数はテキストプロパティ<code class="literal">hard</code>をもつ改行を削除しない。これらの“hard改行’は、パラグラフのセパレーターとして機能する。section “Hard and Soft Newlines” in <em class="citetitle">The GNU Emacs
Manual</em>を参照のこと。
</p></blockquote></div></div></body></html>