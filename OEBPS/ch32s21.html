<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title>Registers</title><meta name="generator" content="DocBook XSL Stylesheets V1.79.1"/></head><body><div class="sect1"><div class="titlepage"><div><div><h1 class="title"><a id="Registers"/>Registers</h1></div></div></div><a id="idm74825808" class="indexterm"/><p>レジスター(register)とは、Emacs内の編集においてさまざまな異なる種類の値を保持できる、一種の変数のことです。レジスターはそれぞれ、1文字で命名されます。すべての<acronym class="acronym">ASCII</acronym>文字、およびそれらのメタ修飾された変種(ただし<strong class="userinput"><code>C-g</code></strong>は例外)を、レジスターの命名に使用できます。したがって、利用可能なレジスター数は255になります。Emacs
Lispでは、レジスターは自身の名前である、その文字により指定されます。
</p><pre class="synopsis"><a id="idm74823504" class="indexterm"/><span class="category"><span class="bold"><strong>Variable</strong></span>:</span> <code class="varname">register-alist</code></pre><div class="blockquote"><blockquote class="blockquote"><p>この変数は、要素が<code class="literal">(<em class="replaceable"><code>name</code></em>
.<em class="replaceable"><code>contents</code></em>)</code>という形式のalistである。使用中のEmacsレジスターごとに、通常は1つの要素が存在する。
</p><p>オブジェクト<em class="replaceable"><code>name</code></em>は、レジスターを識別する文字(整数)である。
</p></blockquote></div><p>レジスターの<em class="replaceable"><code>contents</code></em>には、いくつかのタイプがある:
</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">数字
</span></dt><dd><p>数字はそれ自身を意味する。<code class="literal">insert-register</code>はレジスター内の数字を探して、その数字を10進数に変換する。
</p></dd><dt><span class="term">マーカー
</span></dt><dd><p>マーカーは、ジャンプ先のバッファー位置を表す。
</p></dd><dt><span class="term">文字列
</span></dt><dd><p>文字列の場合は、レジスター内に保存されたテキスト。
</p></dd><dt><span class="term">矩形(rectangle)
</span></dt><dd><p>矩形は、文字列のリストを表す。
</p></dd><dt><span class="term"><code class="literal">(<em class="replaceable"><code>window-configuration</code></em> <em class="replaceable"><code>position</code></em>)</code>
</span></dt><dd><p>これは1つのフレームにリストアされるウィンドウ構成、およびカレントバッファー内のジャンプ先の位置を表す。
</p></dd><dt><span class="term"><code class="literal">(<em class="replaceable"><code>frame-configuration</code></em> <em class="replaceable"><code>position</code></em>)</code>
</span></dt><dd><p>これは、リストア用のフレーム構成、およびカレントバッファー内のジャンプ先の位置である。
</p></dd><dt><span class="term">(file <em class="replaceable"><code>filename</code></em>)
</span></dt><dd><p>これはvisitするファイルを表し、この値にジャンプすることによりファイル<em class="replaceable"><code>filename</code></em>をvisitする。
</p></dd><dt><span class="term">(file-query <em class="replaceable"><code>filename</code></em> <em class="replaceable"><code>position</code></em>)
</span></dt><dd><p>これはvisitするファイル、およびそのファイル内の位置を表す。この値にジャンプすることによりファイル<em class="replaceable"><code>filename</code></em>をvisitして、バッファー位置<em class="replaceable"><code>position</code></em>に移動する。このタイプの位置をリストアすると、まずユーザーにたいして確認を求める。
</p></dd></dl></div><p>このセクションの関数は、特に記さない限り予期せぬ値をリターンします。
</p><pre class="synopsis"><a id="idm74804688" class="indexterm"/><span class="category"><span class="bold"><strong>Function</strong></span>:</span> <code class="function">get-register</code> <em class="replaceable"><code>reg</code></em></pre><div class="blockquote"><blockquote class="blockquote"><p>この関数はレジスター<em class="replaceable"><code>reg</code></em>のコンテンツ、コンテンツがなければ<code class="literal">nil</code>をリターンする。
</p></blockquote></div><pre class="synopsis"><a id="idm74800592" class="indexterm"/><span class="category"><span class="bold"><strong>Function</strong></span>:</span> <code class="function">set-register</code> <em class="replaceable"><code>reg</code></em> <em class="replaceable"><code>value</code></em></pre><div class="blockquote"><blockquote class="blockquote"><p>この関数は、レジスター<em class="replaceable"><code>reg</code></em>のコンテンツに<em class="replaceable"><code>value</code></em>をセットする。レジスターには任意の値をセットできるが、その他のレジスター関数は特定のデータ型を期待する。リターン値は<em class="replaceable"><code>value</code></em>。
</p></blockquote></div><pre class="synopsis"><a id="idm74795856" class="indexterm"/><span class="category"><span class="bold"><strong>Command</strong></span>:</span> <code class="function">view-register</code> <em class="replaceable"><code>reg</code></em></pre><div class="blockquote"><blockquote class="blockquote"><p>このコマンドは、レジスター <em class="replaceable"><code>reg</code></em>に何が含まれているかを表示する。
</p></blockquote></div><pre class="synopsis"><a id="idm74792272" class="indexterm"/><span class="category"><span class="bold"><strong>Command</strong></span>:</span> <code class="function">insert-register</code> <em class="replaceable"><code>reg</code></em> <em class="replaceable"><code>&amp;optional</code></em> <em class="replaceable"><code>beforep</code></em></pre><div class="blockquote"><blockquote class="blockquote"><p>このコマンドは、カレントバッファーにレジスター<em class="replaceable"><code>reg</code></em>のコンテンツを挿入する。
</p><p>このコマンドは通常、ポイントを挿入したテキストの前、後にマークを置く。しかしオプションの第2引き<em class="replaceable"><code>beforep</code></em>が非<code class="literal">nil</code>なら、マークを前、ポイントを後に置くインタラクティブな呼び出しでは、プレフィクス引数を与えることにより、2つ目の引数<em class="replaceable"><code>beforep</code></em>に<code class="literal">nil</code>を渡すことができる。
</p><p>レジスターに矩形が含まれる場合、その矩形はポイントの左上隅に挿入される。これはそのテキストがカレント行と、その下に続く行に挿入されることを意味する。
</p><p>レジスターが保存されたテキスト(文字列)または矩形(リスク)以外の何かを含む場合、現在のところは役に立つようなことは起きない。これは将来変更されるかもしれない。
</p></blockquote></div><pre class="synopsis"><a id="idm74784976" class="indexterm"/><span class="category"><span class="bold"><strong>Function</strong></span>:</span> <code class="function">register-read-with-preview</code> <em class="replaceable"><code>prompt</code></em></pre><div class="blockquote"><blockquote class="blockquote"><a id="idm74782416" class="indexterm"/><p>この関数は、<em class="replaceable"><code>prompt</code></em>、およびもしかしたら既存レジスターとそのコンテンツをプレビューしてレジスターの名前を読み取り、レジスター名をリターンする。このプレビューは、ユーザーオプション<code class="literal">register-preview-delay</code>と<code class="literal">register-alist</code>がいずれも非<code class="literal">nil</code>なら、<code class="literal">register-preview-delay</code>で指定された遅延の後に、一時ウィンドウ内に表示される。このプレビューは、ユーザーが(たとえばヘルプ文字のタイプにより)ヘルプを要求した場合も表示される。レジスター名を読み取るスベインタラクティブな関数は、この関数の使用を推奨する。
</p></blockquote></div></div></body></html>