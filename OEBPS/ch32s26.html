<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title>Parsing HTML and XML</title><meta name="generator" content="DocBook XSL Stylesheets V1.79.1"/></head><body><div class="sect1"><div class="titlepage"><div><div><h1 class="title"><a id="Parsing-HTML_002fXML"/>Parsing HTML and XML</h1></div></div></div><a id="idm74651984" class="indexterm"/><p>Emacsがlibxml2サポートつきでコンパイルされたときは、HTMLやXMLのテキストをLispオブジェクトツリーにパースするために、以下の関数が利用可能です。
</p><pre class="synopsis"><a id="idm74650576" class="indexterm"/><span class="category"><span class="bold"><strong>Function</strong></span>:</span> <code class="function">libxml-parse-html-region</code> <em class="replaceable"><code>start</code></em> <em class="replaceable"><code>end</code></em> <em class="replaceable"><code>&amp;optional</code></em> <em class="replaceable"><code>base-url</code></em></pre><div class="blockquote"><blockquote class="blockquote"><p>この関数は、<em class="replaceable"><code>start</code></em>と<em class="replaceable"><code>end</code></em>の間のテキストをHTMLとしてパースして、HTML<em class="firstterm">パースツリー(parse
tree)</em>を表すリストをリターンする。これは構文誤り強力に対処することにより、“実世界”のHTMLの処理を試みる。
</p><p>オプション引数<em class="replaceable"><code>base-url</code></em>が非<code class="literal">nil</code>なら、リンク内に出現する相対URLにたいする、ベースURLを指定する文字列であること。
</p><p>パースツリー内では、各HTMLノードは1つ目の要素がノード名を表すシンボル2つ目の要素がノード属性のalist、残りの要素はサブノードであるようなリストにより表される。
</p><p>以下の例でこれを示す。以下の(不正な)HTMLドキュメントを与えると:
</p><pre class="screen">&lt;html&gt;&lt;head&gt;&lt;/head&gt;&lt;body width=101&gt;&lt;div class=thing&gt;Foo&lt;div&gt;Yes
</pre><p><code class="literal">libxml-parse-html-region</code>呼び出しにより以下がリターンされる:
</p><pre class="screen">(html ()
  (head ())
  (body ((width . "101"))
   (div ((class . "thing"))
    "Foo"
    (div ()
      "Yes"))))
</pre></blockquote></div><a id="idm74641360" class="indexterm"/><pre class="synopsis"><a id="idm74640336" class="indexterm"/><span class="category"><span class="bold"><strong>Function</strong></span>:</span> <code class="function">shr-insert-document</code> <em class="replaceable"><code>dom</code></em></pre><div class="blockquote"><blockquote class="blockquote"><p>この関数は、<em class="replaceable"><code>dom</code></em>内のパース済みHTMLを、カレントバッファー内に描画する。引数<em class="replaceable"><code>dom</code></em>は、<code class="literal">libxml-parse-html-region</code>で整数されるようなｌリストであること。この関数はたとえば、section “EWW” in <em class="citetitle">The Emacs Web Wowser Manual</em>により使用される。
</p></blockquote></div><a id="idm74631632" class="indexterm"/><pre class="synopsis"><a id="idm74630608" class="indexterm"/><span class="category"><span class="bold"><strong>Function</strong></span>:</span> <code class="function">libxml-parse-xml-region</code> <em class="replaceable"><code>start</code></em> <em class="replaceable"><code>end</code></em> <em class="replaceable"><code>&amp;optional</code></em> <em class="replaceable"><code>base-url</code></em></pre><div class="blockquote"><blockquote class="blockquote"><p>この関数は<code class="literal">libxml-parse-html-region</code>と同様だが、HTMLではなく(構文についてより厳格な)XMLとしてテキストをパースする点が異なる。
</p></blockquote></div></div></body></html>