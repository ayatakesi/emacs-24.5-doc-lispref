<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title>Input Methods</title><meta name="generator" content="DocBook XSL Stylesheets V1.79.1"/></head><body><div class="sect1"><div class="titlepage"><div><div><h1 class="title"><a id="Input-Methods"/>Input Methods</h1></div></div></div><a id="idm77627984" class="indexterm"/><p><em class="firstterm">入力メソッド(input
methods)</em>とは、キーボードから非<acronym class="acronym">ASCII</acronym>文字を簡単に入力する手段を提供します。プログラムが読み取ることを意図して非<acronym class="acronym">ASCII</acronym>文字とエンコーディングを相互に変換するコーディングシステムとは異なり、入力メソッドはヒューマンフレンドリーなコマンドを提供します(テキストを入力するためにユーザーが入力メソッドを使う方法については、section “Input
Methods” in <em class="citetitle">The GNU Emacs
Manual</em>を参照のこと)。0入力メソッドの定義方法はまだこのマニュアルにはありませんが、ここではそれらの使い方について説明します。
</p><p>現在のところ、入力メソッドは文字列で名前をもっていますが、将来的には入力メソッド名として、シンボルも利用可能になるかもしれません。
</p><pre class="synopsis"><a id="idm77624784" class="indexterm"/><span class="category"><span class="bold"><strong>Variable</strong></span>:</span> <code class="varname">current-input-method</code></pre><div class="blockquote"><blockquote class="blockquote"><p>この変数は、カレントバッファーで現在アクティブな、入力メソッドの名前を保持する(方法に依らずセット時には各バッファーで自動的にローカルになる)。バッファーで現在アクティブな入力メソッドがなければ、値は<code class="literal">nil</code>。
</p></blockquote></div><pre class="synopsis"><a id="idm77621584" class="indexterm"/><span class="category"><span class="bold"><strong>User Option</strong></span>:</span> <code class="varname">default-input-method</code></pre><div class="blockquote"><blockquote class="blockquote"><p>この変数は、入力メソッドを選択するコマンドにたいして、デフォルトの入力メソッドを保持する。<code class="literal">current-input-method</code>と異なり、この変数は通常はグローバルである。
</p></blockquote></div><pre class="synopsis"><a id="idm77618384" class="indexterm"/><span class="category"><span class="bold"><strong>Command</strong></span>:</span> <code class="function">set-input-method</code> <em class="replaceable"><code>input-method</code></em></pre><div class="blockquote"><blockquote class="blockquote"><p>このコマンドは、カレントバッファーで入力メソッド<em class="replaceable"><code>input-method</code></em>をアクティブにする。同様に<code class="literal">default-input-method</code>に<em class="replaceable"><code>input-method</code></em>のセットも行う。<em class="replaceable"><code>input-method</code></em>が<code class="literal">nil</code>なら、このコマンドはカレントバッファーで入力メソッドを非アクティブにする。
</p></blockquote></div><pre class="synopsis"><a id="idm77612880" class="indexterm"/><span class="category"><span class="bold"><strong>Function</strong></span>:</span> <code class="function">read-input-method-name</code> <em class="replaceable"><code>prompt</code></em> <em class="replaceable"><code>&amp;optional</code></em> <em class="replaceable"><code>default</code></em> <em class="replaceable"><code>inhibit-null</code></em></pre><div class="blockquote"><blockquote class="blockquote"><p>この関数は、プロンプト<em class="replaceable"><code>prompt</code></em>とともに、ミニバッファーで入力メソッドの名前を読み取る。<em class="replaceable"><code>default</code></em>が非<code class="literal">nil</code>の場合、ユーザーの入力が空なら、それがデフォルトとしてリターンされる。しかし、<em class="replaceable"><code>inhibit-null</code></em>が非<code class="literal">nil</code>なら、空の入力はエラーをシグナルする。
</p><p>リターン値は文字列。
</p></blockquote></div><pre class="synopsis"><a id="idm77605840" class="indexterm"/><span class="category"><span class="bold"><strong>Variable</strong></span>:</span> <code class="varname">input-method-alist</code></pre><div class="blockquote"><blockquote class="blockquote"><p>この変数は、サポートされているすべての入力メソッドを定義する。各要素は1つの入力メソッドを定義し、以下の形式をもつ:
</p><pre class="screen">(<em class="replaceable"><code>input-method</code></em> <em class="replaceable"><code>language-env</code></em> <em class="replaceable"><code>activate-func</code></em>
 <em class="replaceable"><code>title</code></em> <em class="replaceable"><code>description</code></em> <em class="replaceable"><code>args</code></em>...)
</pre><p>ここで<em class="replaceable"><code>input-method</code></em>はメソッド名の文字列、<em class="replaceable"><code>language-env</code></em>はこの入力メソッドが推奨される言語環境の名前の文字列である(これはドキュメントとしての目的のみの役割を果たす)。
</p><p><em class="replaceable"><code>activate-func</code></em>は、このメソッドをアクティブにするために呼び出す関数、もしあれば<em class="replaceable"><code>args</code></em>は<em class="replaceable"><code>activate-func</code></em>に渡す引数である。つまり、<em class="replaceable"><code>activate-func</code></em>の引数は、<em class="replaceable"><code>input-method</code></em>と<em class="replaceable"><code>args</code></em>である。
</p><p><em class="replaceable"><code>title</code></em>は、ソン入力メソッドがアクティブな間、それをモードライン内に表示するための文字列、<em class="replaceable"><code>description</code></em>はそのメソッドを説明し、それが何に適するかを説明する文字列である。
</p></blockquote></div><p>入力メソッドのための基本的インターフェースは、変数<code class="literal">input-method-function</code>です。<a class="link" href="ch21s08.html#Reading-One-Event" title="Reading One Event">Reading One
Event</a>、および<a class="link" href="ch21s08.html#Invoking-the-Input-Method" title="Invoking the Input Method">Invoking the Input Method</a>を参照してください。
</p></div></body></html>