<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title>Sending Signals to Processes</title><meta name="generator" content="DocBook XSL Stylesheets V1.79.1"/></head><body><div class="sect1"><div class="titlepage"><div><div><h1 class="title"><a id="Signals-to-Processes"/>Sending Signals to Processes</h1></div></div></div><a id="idm79081808" class="indexterm"/><a id="idm79081040" class="indexterm"/><a id="idm79080272" class="indexterm"/><p>サブプロセスへの<em class="firstterm">シグナル送信(sending a
signal)</em>は、プロセスの活動に割り込む手段の1つです。異なる複数のシグナルがあり、それぞれが独自の意味をもっています。シグナルのセットとそれらの意味は、オペレーティングシステムにより定義されます。たとえばシグナル<code class="literal">SIGINT</code>は、ユーザーが<strong class="userinput"><code>C-c</code></strong>をタイプしたか、それに類似する何かが発生したことを意味します。
</p><p>各シグナルは、サブプロセスに標準的な効果をもちます。ほとんどのシグナルはサブプロセスをkillしますが、かわりに実行を停止(あるいは再開)するものもいくつかあります。ほとんどのシグナルは、オプションでプログラムによりハンドル((処理)することができます。プログラムがそのシグナルをハンドルする場合、その影響についてわたしたちは一般的には何も言うことはできません。
</p><p>このセクション内の関数を呼び出すことにより、明示的にシグナルを送信できます。Emacsも、特定のタイミングで自動的にシグナルを送信します。バッファーのkillにより、それに関連するプロセスには<code class="literal">SIGHUP</code>シグナルが送信され、Emacsのkillにより、残されたすべてのプロセスに<code class="literal">SIGHUP</code>シグナルが送信されます(<code class="literal">SIGHUP</code>は通常、ユーザーが“hung
up the phone”、電話を切った、つまり接続を断ったことを示す)。
</p><p>シグナル送信関数はそれぞれ<em class="replaceable"><code>process</code></em>と<em class="replaceable"><code>current-group</code></em>いう、2つのオプション引数を受け取ります。
</p><p>引数<em class="replaceable"><code>process</code></em>はプロセス、プロセス名、バッファー、バッファー名、または<code class="literal">nil</code>のいずれかでなければなりません。バッファーまたはバッファー名は、<code class="literal">get-buffer-process</code>を通じて得られるプロセスを意味します。<code class="literal">nil</code>は、カレントバッファーに関連付けられたプロセスを意味します。<em class="replaceable"><code>process</code></em>がプロセスを識別しなければ、エラーがシグナルされます。
</p><p>引数<em class="replaceable"><code>current-group</code></em>は、Emacsのサブプロセスとしてジョブ制御shell(job-control
shell)を実行中の場合に、異なる処理を行うためのフラグです。これが非<code class="literal">nil</code>なら、そのシグナルはEmacsがサブプロセスとの対話に使用する端末のカレントプロセスグループに送信されます。そのプロセスがジョブ制御shellなら、これはそのshellのカレントのsubジョブになります。<code class="literal">nil</code>なら、そのシグナルはEmacs自身のサブプロセスのプロセスグループに送信されます。そのプロセスがジョブ制御shellなら、それはshell自身になります。
</p><p>サブプロセスとの対話にpipeが使用されている際は、オペレーティングシステムがpipeでの区別をサポートしないので、フラグ<em class="replaceable"><code>current-group</code></em>に効果はありません。同じ理由により、pipeが使用されている場合は、ジョブ制御shellは機能しないでしょう。<a class="link" href="ch37s04.html" title="Creating an Asynchronous Process">Asynchronous
Processes</a>内の<code class="literal">process-connection-type</code>を参照してください。
</p><pre class="synopsis"><a id="idm79067728" class="indexterm"/><span class="category"><span class="bold"><strong>Function</strong></span>:</span> <code class="function">interrupt-process</code> <em class="replaceable"><code>&amp;optional</code></em> <em class="replaceable"><code>process</code></em> <em class="replaceable"><code>current-group</code></em></pre><div class="blockquote"><blockquote class="blockquote"><p>この関数は、シグナル<code class="literal">SIGINT</code>を送信することにより、プロセス<em class="replaceable"><code>process</code></em>に割り込む。Emacs外部では、“interrupt
character”(割り込み文字。通常いくつかのシステムでは<strong class="userinput"><code>C-c</code></strong>、それ以外のシステムでは<span class="keycap"><strong>DEL</strong></span>)をタイプすることにより、このシグナルが送信される。引数<em class="replaceable"><code>current-group</code></em>が非<code class="literal">nil</code>のときは、Emacsがサブプロセスと対話する端末上で“<strong class="userinput"><code>C-c</code></strong>がタイプされた”と考えることができる。
</p></blockquote></div><pre class="synopsis"><a id="idm79060432" class="indexterm"/><span class="category"><span class="bold"><strong>Function</strong></span>:</span> <code class="function">kill-process</code> <em class="replaceable"><code>&amp;optional</code></em> <em class="replaceable"><code>process</code></em> <em class="replaceable"><code>current-group</code></em></pre><div class="blockquote"><blockquote class="blockquote"><p>この関数は、シグナル<code class="literal">SIGKILL</code>を送信することにより、プロセス<em class="replaceable"><code>process</code></em>をkillする。このシグナルは即座にサブプロセスをkillして、サブプロセスでハンドルすることはできない。
</p></blockquote></div><pre class="synopsis"><a id="idm79055568" class="indexterm"/><span class="category"><span class="bold"><strong>Function</strong></span>:</span> <code class="function">quit-process</code> <em class="replaceable"><code>&amp;optional</code></em> <em class="replaceable"><code>process</code></em> <em class="replaceable"><code>current-group</code></em></pre><div class="blockquote"><blockquote class="blockquote"><p>この関数は、プロセス<em class="replaceable"><code>process</code></em>にシグナル<code class="literal">SIGQUIT</code>を送信する。これはEmacs外部では“quit
character”(通常は<strong class="userinput"><code>C-b</code></strong>か<strong class="userinput"><code>C-\</code></strong>)により送信されるシグナルである。
</p></blockquote></div><pre class="synopsis"><a id="idm79049168" class="indexterm"/><span class="category"><span class="bold"><strong>Function</strong></span>:</span> <code class="function">stop-process</code> <em class="replaceable"><code>&amp;optional</code></em> <em class="replaceable"><code>process</code></em> <em class="replaceable"><code>current-group</code></em></pre><div class="blockquote"><blockquote class="blockquote"><p>この関数は、シグナル<code class="literal">SIGTSTP</code>を送信することにより、プロセス<em class="replaceable"><code>process</code></em>を停止する。実行の再開には、<code class="literal">continue-process</code>を使用する。
</p><p>ジョブ制御をもつシステム上のEmacs外部では、“stop
character”(通常は<strong class="userinput"><code>C-z</code></strong>)がこのシグナルを送信する。<em class="replaceable"><code>current-group</code></em>が非<code class="literal">nil</code>なら、この関数をサブプロセスとの対話にEmacsが使用する端末上で“<strong class="userinput"><code>C-z</code></strong>がタイプされた”と考えることができる。
</p></blockquote></div><pre class="synopsis"><a id="idm79029200" class="indexterm"/><span class="category"><span class="bold"><strong>Function</strong></span>:</span> <code class="function">continue-process</code> <em class="replaceable"><code>&amp;optional</code></em> <em class="replaceable"><code>process</code></em> <em class="replaceable"><code>current-group</code></em></pre><div class="blockquote"><blockquote class="blockquote"><p>この関数は、シグナル<code class="literal">SIGCONT</code>を送信することにより、プロセス<em class="replaceable"><code>process</code></em>の実行を再開する。これは<em class="replaceable"><code>process</code></em>が以前に停止されたものと推定する。
</p></blockquote></div><pre class="synopsis"><a id="idm79023952" class="indexterm"/><span class="category"><span class="bold"><strong>Command</strong></span>:</span> <code class="function">signal-process</code> <em class="replaceable"><code>process</code></em> <em class="replaceable"><code>signal</code></em></pre><div class="blockquote"><blockquote class="blockquote"><p>この関数は、プロセス<em class="replaceable"><code>process</code></em>にシグナルを送信する。引数<em class="replaceable"><code>signal</code></em>は、どのシグナルを送信するかを指定する。これは整数、または名前がシグナルであるようなシンボルであること。
</p><p><em class="replaceable"><code>process</code></em>引数にはシステムプロセス<acronym class="acronym">ID</acronym>(整数)を指定できる。これによりEmacsの子プロセス以外のプロセスにシグナルを送信できる。<a class="link" href="ch37s12.html" title="Accessing Other Processes">System
Processes</a>を参照のこと。
</p></blockquote></div></div></body></html>