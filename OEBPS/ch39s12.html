<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title>Terminal Input</title><meta name="generator" content="DocBook XSL Stylesheets V1.79.1"/></head><body><div class="sect1"><div class="titlepage"><div><div><h1 class="title"><a id="Terminal-Input"/>Terminal Input</h1></div></div></div><a id="idm85574096" class="indexterm"/><p>このセクションでは、端末入力の記録や操作のための関数と変数を説明します。関連する関数につうては、<a class="link" href="ch38.html" title="Chapter 37. Emacs Display">Display</a>を参照してください。
</p><div class="sect2"><div class="titlepage"><div><div><h2 class="title"><a id="Input-Modes"/>Input Modes</h2></div></div></div><a id="idm85571536" class="indexterm"/><a id="idm85570768" class="indexterm"/><pre class="synopsis"><a id="idm85569744" class="indexterm"/><span class="category"><span class="bold"><strong>Function</strong></span>:</span> <code class="function">set-input-mode</code> <em class="replaceable"><code>interrupt</code></em> <em class="replaceable"><code>flow</code></em> <em class="replaceable"><code>meta</code></em> <em class="replaceable"><code>&amp;optional</code></em> <em class="replaceable"><code>quit-char</code></em></pre><div class="blockquote"><blockquote class="blockquote"><p>この関数は、キーボード入力の読み取りにたいして、モードをセットする。<em class="replaceable"><code>interrupt</code></em>が非<code class="literal">nil</code>なら、Emacsは入力割り込み、<code class="literal">nil</code>ならCBREAKモードを使用する。デフォルトのセッティングはシステムに依存する。いくつかのシステムでは、指定に関わらずに常にCBREAKモードを使用する。
</p><p>EmacsがXと直接通信する際にはこの引数を無視して、それがEmacsの知る通信手段であれば割り込みを使用する。
</p><p><em class="replaceable"><code>flow</code></em>が非<code class="literal">nil</code>なら、Emacsは端末への出力にたいしてXON/XOFFフロー制御(<strong class="userinput"><code>C-q</code></strong>と<strong class="userinput"><code>C-s</code></strong>)を使用する。これはCBREAK以外では効果がない。
</p><p>引数<em class="replaceable"><code>meta</code></em>は、127より上の文字コード入力にたいするサポートを制御する。<em class="replaceable"><code>meta</code></em>が<code class="literal">t</code>なら、Emacsは8番目のビットがセットされた文字を、メタ文字に変換する。<em class="replaceable"><code>meta</code></em>が<code class="literal">nil</code>なら、Emacsは8番目のビットを無視する。これは端末がそのビットをパリティビットとして使用する場合に必要となる。<em class="replaceable"><code>meta</code></em>が<code class="literal">t</code>と<code class="literal">nil</code>のいずれでもなければ、Emacsは入力の8ビットすべてを変更せずに使用する。これは8ビット文字セットを使用する端末にたいして適している。
</p><p><em class="replaceable"><code>quit-char</code></em>が非<code class="literal">nil</code>なら、それはquitに使用する文字を指定する。この文字は、通常は<strong class="userinput"><code>C-g</code></strong>である。<a class="link" href="ch21s11.html" title="Quitting">Quitting</a>を参照のこと。
</p></blockquote></div><p><code class="literal">current-input-mode</code>関数は、Emacsがカレントで使用する入力モードのセッティングをリターンします。
</p><pre class="synopsis"><a id="idm85545936" class="indexterm"/><span class="category"><span class="bold"><strong>Function</strong></span>:</span> <code class="function">current-input-mode</code></pre><div class="blockquote"><blockquote class="blockquote"><p>この関数は、キーボード入力読み取りにたいする、カレントのモードをリターンする。これは、<code class="literal">set-input-mode</code>の引数に対応する、<code class="literal">(<em class="replaceable"><code>interrupt</code></em>
<em class="replaceable"><code>flow</code></em> <em class="replaceable"><code>meta</code></em> <em class="replaceable"><code>quit</code></em>)</code>という形式のリストをリターンする。
</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><em class="replaceable"><code>interrupt</code></em>
</span></dt><dd><p>Emacsが割り込み駆動入力を使用時には非<code class="literal">nil</code>。<code class="literal">nil</code>ならEmacsはCBREAKモードを使用している。
</p></dd><dt><span class="term"><em class="replaceable"><code>flow</code></em>
</span></dt><dd><p>Emacsが端末出力にXON/XOFFフロー制御(<strong class="userinput"><code>C-q</code></strong>と<strong class="userinput"><code>C-s</code></strong>)を使用していれば非<code class="literal">nil</code>。この値は<em class="replaceable"><code>interrupt</code></em>が<code class="literal">nil</code>のときのみ意味がある。
</p></dd><dt><span class="term"><em class="replaceable"><code>meta</code></em>
</span></dt><dd><p>Emacsが入力文字の8番目のビットをメタ文字として扱う場合には<code class="literal">t</code>。<code class="literal">nil</code>はEmacsがすべての入力文字の8ビット目をクリアーすることを意味する。その他の値は、Emacsが8ビットすべてを基本的な文字コードとして使用することを意味する。
</p></dd><dt><span class="term"><em class="replaceable"><code>quit</code></em>
</span></dt><dd><p>カレントでEmacsがquitに使用する文字で、通常は<strong class="userinput"><code>C-g</code></strong>。
</p></dd></dl></div></blockquote></div></div><div class="sect2"><div class="titlepage"><div><div><h2 class="title"><a id="Recording-Input"/>Recording Input</h2></div></div></div><a id="idm85530576" class="indexterm"/><pre class="synopsis"><a id="idm85529552" class="indexterm"/><span class="category"><span class="bold"><strong>Function</strong></span>:</span> <code class="function">recent-keys</code></pre><div class="blockquote"><blockquote class="blockquote"><p>この関数は、キーボードかマウスからの最後の入力イベント300個を含んだベクターをリターンする。その入力イベントがキーシーケンスに含まれるか否かに関わらず、すべての入力イベントが含まれる。つまり、キーボードマクロにより生成されたイベントを含まない、最後の入力イベント300個を常に入手することになる。(キーボードマクロは、デバッグにとってより興味深いとはいえないので除外されている。そのマクロを呼び出したイベントを確認するだけで充分であるべきだ。)
</p><p><code class="literal">clear-this-command-keys</code>(<a class="link" href="ch21s05.html" title="Information from the Command Loop">Command Loop
Info</a>を参照)の呼び出すと、その直後この関数は空のベクターをリターンする。
</p></blockquote></div><pre class="synopsis"><a id="idm85525456" class="indexterm"/><span class="category"><span class="bold"><strong>Command</strong></span>:</span> <code class="function">open-dribble-file</code> <em class="replaceable"><code>filename</code></em></pre><div class="blockquote"><blockquote class="blockquote"><a id="idm85522896" class="indexterm"/><p>この関数は、<em class="replaceable"><code>filename</code></em>という名前の<em class="firstterm">dribbleファイル(dribble
file)</em>をオープンする。dribbleファイルがオープンされたとき、キーボードとマウス(ただしキーボードマクロ由来は除く)からのそれぞれの入力イベントは、そのファイルに書き込まれる。非文字イベントは、‘<code class="literal">&lt;…&gt;</code>’で囲まれたプリント表現で表される。(パスワードのような)機密情報は、dribbleファイルへの記録を終了することに注意すること。
</p><p>引数<code class="literal">nil</code>でこの関数を呼び出すことにより、<code class="literal">nil</code>ファイルはクローズされる。
</p></blockquote></div><p><a class="link" href="ch39s13.html" title="Terminal Output">Terminal Output</a>の<code class="literal">open-termscript</code>を参照のこと。
</p></div></div></body></html>